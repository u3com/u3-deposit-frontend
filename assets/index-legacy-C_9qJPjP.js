!function(){var e,t,r=["message","explanation"];function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function i(e){return N(e)||E(e)||O(e)||M()}function o(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}}function s(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(L(e)+" is not iterable")}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){v(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t,r,n){var i=l(k(1&n?e.prototype:e),t,r);return 2&n&&"function"==typeof i?function(e){return i.apply(r,e)}:i}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},l.apply(null,arguments)}function f(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof a?n:a,u=Object.create(c.prototype);return d(u,"_invoke",function(r,n,i){var o,a,c,u=0,l=i||[],f=!1,d={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,r){return o=t,a=0,c=e,d.n=r,s}};function h(r,n){for(a=r,c=n,t=0;!f&&u&&!i&&t<l.length;t++){var i,o=l[t],h=d.p,p=o[2];r>3?(i=p===n)&&(c=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=h&&((i=r<2&&h<o[1])?(a=0,d.v=n,d.n=o[1]):h<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,d.n=p,a=0))}if(i||r>1)return s;throw f=!0,n}return function(i,l,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,p),a=l,c=p;(t=a<2?e:c)||!f;){o||(a?a<3?(a>1&&(d.n=-1),h(a,c)):d.n=c:d.v=c);try{if(u=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(f=d.n<0)?c:r.call(n,d))!==s)break}catch(t){o=e,a=1,c=t}finally{u=1}}return{value:t,done:f}}}(r,i,o),!0),u}var s={};function a(){}function c(){}function u(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(d(t={},n,function(){return this}),t),h=u.prototype=a.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,d(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e}return c.prototype=u,d(h,"constructor",u),d(u,"constructor",c),c.displayName="GeneratorFunction",d(u,i,"GeneratorFunction"),d(h),d(h,i,"Generator"),d(h,n,function(){return this}),d(h,"toString",function(){return"[object Generator]"}),(f=function(){return{w:o,m:p}})()}function d(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}d=function(e,t,r,n){function o(t,r){d(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},d(e,t,r,n)}function h(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function p(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){h(o,n,i,s,a,"next",e)}function a(e){h(o,n,i,s,a,"throw",e)}s(void 0)})}}function v(e,t,r){return(t=A(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t,r){return t=k(t),function(e,t){if(t&&("object"==L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,r||[],k(e).constructor):t.apply(e,r))}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}function m(e){var t="function"==typeof Map?new Map:void 0;return m=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(b())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var i=new(e.bind.apply(e,n));return r&&w(i,r.prototype),i}(e,arguments,k(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),w(r,e)},m(e)}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(b=function(){return!!e})()}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function _(e){return function(e){if(Array.isArray(e))return P(e)}(e)||E(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function S(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=O(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A(n.key),n)}}function C(e,t,r){return t&&I(e.prototype,t),r&&I(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function A(e){var t=function(e,t){if("object"!=L(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==L(t)?t:t+""}function x(e,t){return N(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,s,a=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}(e,t)||O(e,t)||M()}function M(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(e,t){if(e){if("string"==typeof e)return P(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function N(e){if(Array.isArray(e))return e}function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}System.register(["./index-legacy-CXPEV-Pz.js","./hooks.module-legacy-aEy5BALc.js","./events-legacy-CXQjzqCV.js","./browser-legacy-DKpP-j15.js"],function(a,l){"use strict";var d,h,b,w,k,E,I,A,M,O,P,N;return{setters:[function(e){d=e.aV,h=e.a0,b=e.aW,w=e.ab,k=e.aX,E=e.aY,I=e.aZ,A=e.Q},function(e){M=e.p,O=e.a},function(e){P=e.r},function(e){N=e.r}],execute:function(){var l,T,j,B,D,F,U,H,W,q,V,z,J,G,Z,Y,Q,K,X,$,ee,te,re,ne,ie,oe,se,ae,ce,ue,le,fe,de,he,pe,ve,ge,ye,me,be,we,ke,_e,Ee,Se,Re,Ie,Ce,Ae,xe,Me,Oe,Pe,Ne,Le,Te,je,Be,De,Fe,Ue,He,We,qe,Ve,ze,Je,Ge,Ze,Ye,Qe,Ke,Xe,$e,et,tt,rt,nt,it,ot,st,at,ct,ut,lt,ft,dt,ht,pt,vt=f().m(xu),gt={exports:{}};function yt(){if(T)return l;T=1;var e=Number.MAX_SAFE_INTEGER||9007199254740991;return l={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:e,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}function mt(){if(B)return j;B=1;var e={},t="object"===("undefined"==typeof process?"undefined":L(process))&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=console).error.apply(e,["SEMVER"].concat(r))}:function(){};return j=t}function bt(){return D||(D=1,function(e,t){var r=yt(),n=r.MAX_SAFE_COMPONENT_LENGTH,i=r.MAX_SAFE_BUILD_LENGTH,o=r.MAX_LENGTH,s=mt(),a=(t=e.exports={}).re=[],c=t.safeRe=[],u=t.src=[],l=t.safeSrc=[],f=t.t={},d=0,h="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",o],[h,i]],v=function(e,t,r){var n=function(e){for(var t=0,r=p;t<r.length;t++){var n=x(r[t],2),i=n[0],o=n[1];e=e.split("".concat(i,"*")).join("".concat(i,"{0,").concat(o,"}")).split("".concat(i,"+")).join("".concat(i,"{1,").concat(o,"}"))}return e}(t),i=d++;s(e,i,t),f[e]=i,u[i]=t,l[i]=n,a[i]=new RegExp(t,r?"g":void 0),c[i]=new RegExp(n,r?"g":void 0)};v("NUMERICIDENTIFIER","0|[1-9]\\d*"),v("NUMERICIDENTIFIERLOOSE","\\d+"),v("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-]".concat(h,"*")),v("MAINVERSION","(".concat(u[f.NUMERICIDENTIFIER],")\\.")+"(".concat(u[f.NUMERICIDENTIFIER],")\\.")+"(".concat(u[f.NUMERICIDENTIFIER],")")),v("MAINVERSIONLOOSE","(".concat(u[f.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(u[f.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(u[f.NUMERICIDENTIFIERLOOSE],")")),v("PRERELEASEIDENTIFIER","(?:".concat(u[f.NONNUMERICIDENTIFIER],"|").concat(u[f.NUMERICIDENTIFIER],")")),v("PRERELEASEIDENTIFIERLOOSE","(?:".concat(u[f.NONNUMERICIDENTIFIER],"|").concat(u[f.NUMERICIDENTIFIERLOOSE],")")),v("PRERELEASE","(?:-(".concat(u[f.PRERELEASEIDENTIFIER],"(?:\\.").concat(u[f.PRERELEASEIDENTIFIER],")*))")),v("PRERELEASELOOSE","(?:-?(".concat(u[f.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(u[f.PRERELEASEIDENTIFIERLOOSE],")*))")),v("BUILDIDENTIFIER","".concat(h,"+")),v("BUILD","(?:\\+(".concat(u[f.BUILDIDENTIFIER],"(?:\\.").concat(u[f.BUILDIDENTIFIER],")*))")),v("FULLPLAIN","v?".concat(u[f.MAINVERSION]).concat(u[f.PRERELEASE],"?").concat(u[f.BUILD],"?")),v("FULL","^".concat(u[f.FULLPLAIN],"$")),v("LOOSEPLAIN","[v=\\s]*".concat(u[f.MAINVERSIONLOOSE]).concat(u[f.PRERELEASELOOSE],"?").concat(u[f.BUILD],"?")),v("LOOSE","^".concat(u[f.LOOSEPLAIN],"$")),v("GTLT","((?:<|>)?=?)"),v("XRANGEIDENTIFIERLOOSE","".concat(u[f.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),v("XRANGEIDENTIFIER","".concat(u[f.NUMERICIDENTIFIER],"|x|X|\\*")),v("XRANGEPLAIN","[v=\\s]*(".concat(u[f.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(u[f.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(u[f.XRANGEIDENTIFIER],")")+"(?:".concat(u[f.PRERELEASE],")?").concat(u[f.BUILD],"?")+")?)?"),v("XRANGEPLAINLOOSE","[v=\\s]*(".concat(u[f.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(u[f.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(u[f.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(u[f.PRERELEASELOOSE],")?").concat(u[f.BUILD],"?")+")?)?"),v("XRANGE","^".concat(u[f.GTLT],"\\s*").concat(u[f.XRANGEPLAIN],"$")),v("XRANGELOOSE","^".concat(u[f.GTLT],"\\s*").concat(u[f.XRANGEPLAINLOOSE],"$")),v("COERCEPLAIN","".concat("(^|[^\\d])(\\d{1,").concat(n,"})")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:\\.(\\d{1,".concat(n,"}))?")),v("COERCE","".concat(u[f.COERCEPLAIN],"(?:$|[^\\d])")),v("COERCEFULL",u[f.COERCEPLAIN]+"(?:".concat(u[f.PRERELEASE],")?")+"(?:".concat(u[f.BUILD],")?")+"(?:$|[^\\d])"),v("COERCERTL",u[f.COERCE],!0),v("COERCERTLFULL",u[f.COERCEFULL],!0),v("LONETILDE","(?:~>?)"),v("TILDETRIM","(\\s*)".concat(u[f.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",v("TILDE","^".concat(u[f.LONETILDE]).concat(u[f.XRANGEPLAIN],"$")),v("TILDELOOSE","^".concat(u[f.LONETILDE]).concat(u[f.XRANGEPLAINLOOSE],"$")),v("LONECARET","(?:\\^)"),v("CARETTRIM","(\\s*)".concat(u[f.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",v("CARET","^".concat(u[f.LONECARET]).concat(u[f.XRANGEPLAIN],"$")),v("CARETLOOSE","^".concat(u[f.LONECARET]).concat(u[f.XRANGEPLAINLOOSE],"$")),v("COMPARATORLOOSE","^".concat(u[f.GTLT],"\\s*(").concat(u[f.LOOSEPLAIN],")$|^$")),v("COMPARATOR","^".concat(u[f.GTLT],"\\s*(").concat(u[f.FULLPLAIN],")$|^$")),v("COMPARATORTRIM","(\\s*)".concat(u[f.GTLT],"\\s*(").concat(u[f.LOOSEPLAIN],"|").concat(u[f.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",v("HYPHENRANGE","^\\s*(".concat(u[f.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(u[f.XRANGEPLAIN],")")+"\\s*$"),v("HYPHENRANGELOOSE","^\\s*(".concat(u[f.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(u[f.XRANGEPLAINLOOSE],")")+"\\s*$"),v("STAR","(<|>)?=?\\s*\\*"),v("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),v("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(gt,gt.exports)),gt.exports}function wt(){if(U)return F;U=1;var e=Object.freeze({loose:!0}),t=Object.freeze({});return F=function(r){return r?"object"!==L(r)?e:r:t}}function kt(){if(W)return H;W=1;var e=/^[0-9]+$/,t=function(t,r){var n=e.test(t),i=e.test(r);return n&&i&&(t=+t,r=+r),t===r?0:n&&!i?-1:i&&!n?1:t<r?-1:1};return H={compareIdentifiers:t,rcompareIdentifiers:function(e,r){return t(r,e)}}}function _t(){if(V)return q;V=1;var e=mt(),t=yt(),r=t.MAX_LENGTH,n=t.MAX_SAFE_INTEGER,i=bt(),o=i.safeRe,s=i.t,a=wt(),c=kt().compareIdentifiers,u=function(){function t(i,c){if(R(this,t),c=a(c),i instanceof t){if(i.loose===!!c.loose&&i.includePrerelease===!!c.includePrerelease)return i;i=i.version}else if("string"!=typeof i)throw new TypeError('Invalid version. Must be a string. Got type "'.concat(L(i),'".'));if(i.length>r)throw new TypeError("version is longer than ".concat(r," characters"));e("SemVer",i,c),this.options=c,this.loose=!!c.loose,this.includePrerelease=!!c.includePrerelease;var u=i.trim().match(c.loose?o[s.LOOSE]:o[s.FULL]);if(!u)throw new TypeError("Invalid Version: ".concat(i));if(this.raw=i,this.major=+u[1],this.minor=+u[2],this.patch=+u[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");u[4]?this.prerelease=u[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e}):this.prerelease=[],this.build=u[5]?u[5].split("."):[],this.format()}return C(t,[{key:"format",value:function(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(r){if(e("SemVer.compare",this.version,this.options,r),!(r instanceof t)){if("string"==typeof r&&r===this.version)return 0;r=new t(r,this.options)}return r.version===this.version?0:this.compareMain(r)||this.comparePre(r)}},{key:"compareMain",value:function(e){return e instanceof t||(e=new t(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}},{key:"comparePre",value:function(r){if(r instanceof t||(r=new t(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;var n=0;do{var i=this.prerelease[n],o=r.prerelease[n];if(e("prerelease compare",n,i,o),void 0===i&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===i)return-1;if(i!==o)return c(i,o)}while(++n)}},{key:"compareBuild",value:function(r){r instanceof t||(r=new t(r,this.options));var n=0;do{var i=this.build[n],o=r.build[n];if(e("build compare",n,i,o),void 0===i&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===i)return-1;if(i!==o)return c(i,o)}while(++n)}},{key:"inc",value:function(e,t,r){if(e.startsWith("pre")){if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(t){var n="-".concat(t).match(this.options.loose?o[s.PRERELEASELOOSE]:o[s.PRERELEASE]);if(!n||n[1]!==t)throw new Error("invalid identifier: ".concat(t))}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"release":if(0===this.prerelease.length)throw new Error("version ".concat(this.raw," is not a prerelease"));this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":var i=Number(r)?1:0;if(0===this.prerelease.length)this.prerelease=[i];else{for(var a=this.prerelease.length;--a>=0;)"number"==typeof this.prerelease[a]&&(this.prerelease[a]++,a=-2);if(-1===a){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(t){var u=[t,i];!1===r&&(u=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=u):this.prerelease=u}break;default:throw new Error("invalid increment argument: ".concat(e))}return this.raw=this.format(),this.build.length&&(this.raw+="+".concat(this.build.join("."))),this}}])}();return q=u}function Et(){if(J)return z;J=1;var e=_t();return z=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t instanceof e)return t;try{return new e(t,r)}catch(i){if(!n)return null;throw i}},z}function St(){if(le)return ue;le=1;var e=_t();return ue=function(t,r,n){return new e(t,n).compare(new e(r,n))}}function Rt(){if(ge)return ve;ge=1;var e=_t();return ve=function(t,r,n){var i=new e(t,n),o=new e(r,n);return i.compare(o)||i.compareBuild(o)}}function It(){if(_e)return ke;_e=1;var e=St();return ke=function(t,r,n){return e(t,r,n)>0}}function Ct(){if(Se)return Ee;Se=1;var e=St();return Ee=function(t,r,n){return e(t,r,n)<0}}function At(){if(Ie)return Re;Ie=1;var e=St();return Re=function(t,r,n){return 0===e(t,r,n)}}function xt(){if(Ae)return Ce;Ae=1;var e=St();return Ce=function(t,r,n){return 0!==e(t,r,n)}}function Mt(){if(Me)return xe;Me=1;var e=St();return xe=function(t,r,n){return e(t,r,n)>=0}}function Ot(){if(Pe)return Oe;Pe=1;var e=St();return Oe=function(t,r,n){return e(t,r,n)<=0}}function Pt(){if(Le)return Ne;Le=1;var e=At(),t=xt(),r=It(),n=Mt(),i=Ct(),o=Ot();return Ne=function(s,a,c,u){switch(a){case"===":return"object"===L(s)&&(s=s.version),"object"===L(c)&&(c=c.version),s===c;case"!==":return"object"===L(s)&&(s=s.version),"object"===L(c)&&(c=c.version),s!==c;case"":case"=":case"==":return e(s,c,u);case"!=":return t(s,c,u);case">":return r(s,c,u);case">=":return n(s,c,u);case"<":return i(s,c,u);case"<=":return o(s,c,u);default:throw new TypeError("Invalid operator: ".concat(a))}}}function Nt(){if(Ue)return Fe;Ue=1;var e=/\s+/g,t=function(){function t(r,o){var s=this;if(R(this,t),o=n(o),r instanceof t)return r.loose===!!o.loose&&r.includePrerelease===!!o.includePrerelease?r:new t(r.raw,o);if(r instanceof i)return this.raw=r.value,this.set=[[r]],this.formatted=void 0,this;if(this.options=o,this.loose=!!o.loose,this.includePrerelease=!!o.includePrerelease,this.raw=r.trim().replace(e," "),this.set=this.raw.split("||").map(function(e){return s.parseRange(e.trim())}).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(this.raw));if(this.set.length>1){var a=this.set[0];if(this.set=this.set.filter(function(e){return!g(e[0])}),0===this.set.length)this.set=[a];else if(this.set.length>1){var c,u=S(this.set);try{for(u.s();!(c=u.n()).done;){var l=c.value;if(1===l.length&&y(l[0])){this.set=[l];break}}}catch(f){u.e(f)}finally{u.f()}}}this.formatted=void 0}return C(t,[{key:"range",get:function(){if(void 0===this.formatted){this.formatted="";for(var e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");for(var t=this.set[e],r=0;r<t.length;r++)r>0&&(this.formatted+=" "),this.formatted+=t[r].toString().trim()}}return this.formatted}},{key:"format",value:function(){return this.range}},{key:"toString",value:function(){return this.range}},{key:"parseRange",value:function(e){var t=this,n=((this.options.includePrerelease&&p)|(this.options.loose&&v))+":"+e,s=r.get(n);if(s)return s;var a=this.options.loose,h=a?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];e=e.replace(h,N(this.options.includePrerelease)),o("hyphen replace",e),e=e.replace(c[u.COMPARATORTRIM],l),o("comparator trim",e),e=e.replace(c[u.TILDETRIM],f),o("tilde trim",e),e=e.replace(c[u.CARETTRIM],d),o("caret trim",e);var y=e.split(" ").map(function(e){return b(e,t.options)}).join(" ").split(/\s+/).map(function(e){return P(e,t.options)});a&&(y=y.filter(function(e){return o("loose invalid filter",e,t.options),!!e.match(c[u.COMPARATORLOOSE])})),o("range list",y);var m,w=new Map,k=y.map(function(e){return new i(e,t.options)}),E=S(k);try{for(E.s();!(m=E.n()).done;){var R=m.value;if(g(R))return[R];w.set(R.value,R)}}catch(C){E.e(C)}finally{E.f()}w.size>1&&w.has("")&&w.delete("");var I=_(w.values());return r.set(n,I),I}},{key:"intersects",value:function(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(function(t){return m(t,r)&&e.set.some(function(e){return m(e,r)&&t.every(function(t){return e.every(function(e){return t.intersects(e,r)})})})})}},{key:"test",value:function(e){if(!e)return!1;if("string"==typeof e)try{e=new s(e,this.options)}catch(r){return!1}for(var t=0;t<this.set.length;t++)if(L(this.set[t],e,this.options))return!0;return!1}}])}();Fe=t;var r=new(De?Be:(De=1,Be=function(){return C(function e(){R(this,e),this.max=1e3,this.map=new Map},[{key:"get",value:function(e){var t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}},{key:"delete",value:function(e){return this.map.delete(e)}},{key:"set",value:function(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){var r=this.map.keys().next().value;this.delete(r)}this.map.set(e,t)}return this}}])}())),n=wt(),i=Lt(),o=mt(),s=_t(),a=bt(),c=a.safeRe,u=a.t,l=a.comparatorTrimReplace,f=a.tildeTrimReplace,d=a.caretTrimReplace,h=yt(),p=h.FLAG_INCLUDE_PRERELEASE,v=h.FLAG_LOOSE,g=function(e){return"<0.0.0-0"===e.value},y=function(e){return""===e.value},m=function(e,t){for(var r=!0,n=e.slice(),i=n.pop();r&&n.length;)r=n.every(function(e){return i.intersects(e,t)}),i=n.pop();return r},b=function(e,t){return o("comp",e,t),e=I(e,t),o("caret",e),e=k(e,t),o("tildes",e),e=x(e,t),o("xrange",e),e=O(e,t),o("stars",e),e},w=function(e){return!e||"x"===e.toLowerCase()||"*"===e},k=function(e,t){return e.trim().split(/\s+/).map(function(e){return E(e,t)}).join(" ")},E=function(e,t){var r=t.loose?c[u.TILDELOOSE]:c[u.TILDE];return e.replace(r,function(t,r,n,i,s){var a;return o("tilde",e,t,r,n,i,s),w(r)?a="":w(n)?a=">=".concat(r,".0.0 <").concat(+r+1,".0.0-0"):w(i)?a=">=".concat(r,".").concat(n,".0 <").concat(r,".").concat(+n+1,".0-0"):s?(o("replaceTilde pr",s),a=">=".concat(r,".").concat(n,".").concat(i,"-").concat(s," <").concat(r,".").concat(+n+1,".0-0")):a=">=".concat(r,".").concat(n,".").concat(i," <").concat(r,".").concat(+n+1,".0-0"),o("tilde return",a),a})},I=function(e,t){return e.trim().split(/\s+/).map(function(e){return A(e,t)}).join(" ")},A=function(e,t){o("caret",e,t);var r=t.loose?c[u.CARETLOOSE]:c[u.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,function(t,r,i,s,a){var c;return o("caret",e,t,r,i,s,a),w(r)?c="":w(i)?c=">=".concat(r,".0.0").concat(n," <").concat(+r+1,".0.0-0"):w(s)?c="0"===r?">=".concat(r,".").concat(i,".0").concat(n," <").concat(r,".").concat(+i+1,".0-0"):">=".concat(r,".").concat(i,".0").concat(n," <").concat(+r+1,".0.0-0"):a?(o("replaceCaret pr",a),c="0"===r?"0"===i?">=".concat(r,".").concat(i,".").concat(s,"-").concat(a," <").concat(r,".").concat(i,".").concat(+s+1,"-0"):">=".concat(r,".").concat(i,".").concat(s,"-").concat(a," <").concat(r,".").concat(+i+1,".0-0"):">=".concat(r,".").concat(i,".").concat(s,"-").concat(a," <").concat(+r+1,".0.0-0")):(o("no pr"),c="0"===r?"0"===i?">=".concat(r,".").concat(i,".").concat(s).concat(n," <").concat(r,".").concat(i,".").concat(+s+1,"-0"):">=".concat(r,".").concat(i,".").concat(s).concat(n," <").concat(r,".").concat(+i+1,".0-0"):">=".concat(r,".").concat(i,".").concat(s," <").concat(+r+1,".0.0-0")),o("caret return",c),c})},x=function(e,t){return o("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return M(e,t)}).join(" ")},M=function(e,t){e=e.trim();var r=t.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return e.replace(r,function(r,n,i,s,a,c){o("xRange",e,r,n,i,s,a,c);var u=w(i),l=u||w(s),f=l||w(a),d=f;return"="===n&&d&&(n=""),c=t.includePrerelease?"-0":"",u?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(l&&(s=0),a=0,">"===n?(n=">=",l?(i=+i+1,s=0,a=0):(s=+s+1,a=0)):"<="===n&&(n="<",l?i=+i+1:s=+s+1),"<"===n&&(c="-0"),r="".concat(n+i,".").concat(s,".").concat(a).concat(c)):l?r=">=".concat(i,".0.0").concat(c," <").concat(+i+1,".0.0-0"):f&&(r=">=".concat(i,".").concat(s,".0").concat(c," <").concat(i,".").concat(+s+1,".0-0")),o("xRange return",r),r})},O=function(e,t){return o("replaceStars",e,t),e.trim().replace(c[u.STAR],"")},P=function(e,t){return o("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?u.GTE0PRE:u.GTE0],"")},N=function(e){return function(t,r,n,i,o,s,a,c,u,l,f,d){return r=w(n)?"":w(i)?">=".concat(n,".0.0").concat(e?"-0":""):w(o)?">=".concat(n,".").concat(i,".0").concat(e?"-0":""):s?">=".concat(r):">=".concat(r).concat(e?"-0":""),c=w(u)?"":w(l)?"<".concat(+u+1,".0.0-0"):w(f)?"<".concat(u,".").concat(+l+1,".0-0"):d?"<=".concat(u,".").concat(l,".").concat(f,"-").concat(d):e?"<".concat(u,".").concat(l,".").concat(+f+1,"-0"):"<=".concat(c),"".concat(r," ").concat(c).trim()}},L=function(e,t,r){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(var s=0;s<e.length;s++)if(o(e[s].semver),e[s].semver!==i.ANY&&e[s].semver.prerelease.length>0){var a=e[s].semver;if(a.major===t.major&&a.minor===t.minor&&a.patch===t.patch)return!0}return!1}return!0};return Fe}function Lt(){if(We)return He;We=1;var e=Symbol("SemVer ANY"),t=function(){function t(n,i){if(R(this,t),i=r(i),n instanceof t){if(n.loose===!!i.loose)return n;n=n.value}n=n.trim().split(/\s+/).join(" "),a("comparator",n,i),this.options=i,this.loose=!!i.loose,this.parse(n),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}return C(t,[{key:"parse",value:function(t){var r=this.options.loose?i[o.COMPARATORLOOSE]:i[o.COMPARATOR],n=t.match(r);if(!n)throw new TypeError("Invalid comparator: ".concat(t));this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new c(n[2],this.options.loose):this.semver=e}},{key:"toString",value:function(){return this.value}},{key:"test",value:function(t){if(a("Comparator.test",t,this.options.loose),this.semver===e||t===e)return!0;if("string"==typeof t)try{t=new c(t,this.options)}catch(r){return!1}return s(t,this.operator,this.semver,this.options)}},{key:"intersects",value:function(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new u(e.value,n).test(this.value):""===e.operator?""===e.value||new u(this.value,n).test(e.semver):(!(n=r(n)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(s(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(s(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}],[{key:"ANY",get:function(){return e}}])}();He=t;var r=wt(),n=bt(),i=n.safeRe,o=n.t,s=Pt(),a=mt(),c=_t(),u=Nt();return He}function Tt(){if(Ve)return qe;Ve=1;var e=Nt();return qe=function(t,r,n){try{r=new e(r,n)}catch(i){return!1}return r.test(t)},qe}function jt(){if(et)return $e;et=1;var e=Nt();return $e=function(t,r){try{return new e(t,r).range||"*"}catch(n){return null}},$e}function Bt(){if(rt)return tt;rt=1;var e=_t(),t=Lt(),r=t.ANY,n=Nt(),i=Tt(),o=It(),s=Ct(),a=Ot(),c=Mt();return tt=function(u,l,f,d){var h,p,v,g,y;switch(u=new e(u,d),l=new n(l,d),f){case">":h=o,p=a,v=s,g=">",y=">=";break;case"<":h=s,p=c,v=o,g="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(u,l,d))return!1;for(var m,b=function(){var e=l.set[w],n=null,i=null;return e.forEach(function(e){e.semver===r&&(e=new t(">=0.0.0")),n=n||e,i=i||e,h(e.semver,n.semver,d)?n=e:v(e.semver,i.semver,d)&&(i=e)}),n.operator===g||n.operator===y?{v:!1}:i.operator&&i.operator!==g||!p(u,i.semver)?i.operator===y&&v(u,i.semver)?{v:!1}:void 0:{v:!1}},w=0;w<l.set.length;++w)if(m=b())return m.v;return!0},tt}function Dt(){if(pt)return ht;pt=1;var e=bt(),t=yt(),r=_t(),n=kt(),i=Et(),o=function(){if(Z)return G;Z=1;var e=Et();return G=function(t,r){var n=e(t,r);return n?n.version:null},G}(),s=function(){if(Q)return Y;Q=1;var e=Et();return Y=function(t,r){var n=e(t.trim().replace(/^[=v]+/,""),r);return n?n.version:null},Y}(),a=function(){if(X)return K;X=1;var e=_t();return K=function(t,r,n,i,o){"string"==typeof n&&(o=i,i=n,n=void 0);try{return new e(t instanceof e?t.version:t,n).inc(r,i,o).version}catch(s){return null}},K}(),c=function(){if(ee)return $;ee=1;var e=Et();return $=function(t,r){var n=e(t,null,!0),i=e(r,null,!0),o=n.compare(i);if(0===o)return null;var s=o>0,a=s?n:i,c=s?i:n,u=!!a.prerelease.length;if(c.prerelease.length&&!u){if(!c.patch&&!c.minor)return"major";if(0===c.compareMain(a))return c.minor&&!c.patch?"minor":"patch"}var l=u?"pre":"";return n.major!==i.major?l+"major":n.minor!==i.minor?l+"minor":n.patch!==i.patch?l+"patch":"prerelease"}}(),u=function(){if(re)return te;re=1;var e=_t();return te=function(t,r){return new e(t,r).major}}(),l=function(){if(ie)return ne;ie=1;var e=_t();return ne=function(t,r){return new e(t,r).minor}}(),f=function(){if(se)return oe;se=1;var e=_t();return oe=function(t,r){return new e(t,r).patch}}(),d=function(){if(ce)return ae;ce=1;var e=Et();return ae=function(t,r){var n=e(t,r);return n&&n.prerelease.length?n.prerelease:null},ae}(),h=St(),p=function(){if(de)return fe;de=1;var e=St();return fe=function(t,r,n){return e(r,t,n)}}(),v=function(){if(pe)return he;pe=1;var e=St();return he=function(t,r){return e(t,r,!0)}}(),g=Rt(),y=function(){if(me)return ye;me=1;var e=Rt();return ye=function(t,r){return t.sort(function(t,n){return e(t,n,r)})}}(),m=function(){if(we)return be;we=1;var e=Rt();return be=function(t,r){return t.sort(function(t,n){return e(n,t,r)})}}(),b=It(),w=Ct(),k=At(),_=xt(),E=Mt(),R=Ot(),I=Pt(),C=function(){if(je)return Te;je=1;var e=_t(),t=Et(),r=bt(),n=r.safeRe,i=r.t;return Te=function(r,o){if(r instanceof e)return r;if("number"==typeof r&&(r=String(r)),"string"!=typeof r)return null;var s=null;if((o=o||{}).rtl){for(var a,c=o.includePrerelease?n[i.COERCERTLFULL]:n[i.COERCERTL];(a=c.exec(r))&&(!s||s.index+s[0].length!==r.length);)s&&a.index+a[0].length===s.index+s[0].length||(s=a),c.lastIndex=a.index+a[1].length+a[2].length;c.lastIndex=-1}else s=r.match(o.includePrerelease?n[i.COERCEFULL]:n[i.COERCE]);if(null===s)return null;var u=s[2],l=s[3]||"0",f=s[4]||"0",d=o.includePrerelease&&s[5]?"-".concat(s[5]):"",h=o.includePrerelease&&s[6]?"+".concat(s[6]):"";return t("".concat(u,".").concat(l,".").concat(f).concat(d).concat(h),o)},Te}(),A=Lt(),M=Nt(),O=Tt(),P=function(){if(Je)return ze;Je=1;var e=Nt();return ze=function(t,r){return new e(t,r).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},ze}(),N=function(){if(Ze)return Ge;Ze=1;var e=_t(),t=Nt();return Ge=function(r,n,i){var o=null,s=null,a=null;try{a=new t(n,i)}catch(c){return null}return r.forEach(function(t){a.test(t)&&(o&&-1!==s.compare(t)||(s=new e(o=t,i)))}),o},Ge}(),L=function(){if(Qe)return Ye;Qe=1;var e=_t(),t=Nt();return Ye=function(r,n,i){var o=null,s=null,a=null;try{a=new t(n,i)}catch(c){return null}return r.forEach(function(t){a.test(t)&&(o&&1!==s.compare(t)||(s=new e(o=t,i)))}),o},Ye}(),T=function(){if(Xe)return Ke;Xe=1;var e=_t(),t=Nt(),r=It();return Ke=function(n,i){n=new t(n,i);var o=new e("0.0.0");if(n.test(o))return o;if(o=new e("0.0.0-0"),n.test(o))return o;o=null;for(var s=function(){var t=n.set[a],i=null;t.forEach(function(t){var n=new e(t.semver.version);switch(t.operator){case">":0===n.prerelease.length?n.patch++:n.prerelease.push(0),n.raw=n.format();case"":case">=":i&&!r(n,i)||(i=n);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: ".concat(t.operator))}}),!i||o&&!r(o,i)||(o=i)},a=0;a<n.set.length;++a)s();return o&&n.test(o)?o:null},Ke}(),j=jt(),B=Bt(),D=function(){if(it)return nt;it=1;var e=Bt();return nt=function(t,r,n){return e(t,r,">",n)},nt}(),F=function(){if(st)return ot;st=1;var e=Bt();return ot=function(t,r,n){return e(t,r,"<",n)},ot}(),U=function(){if(ct)return at;ct=1;var e=Nt();return at=function(t,r,n){return t=new e(t,n),r=new e(r,n),t.intersects(r,n)}}(),H=function(){if(lt)return ut;lt=1;var e=Tt(),t=St();return ut=function(r,n,i){var o,s=[],a=null,c=null,u=r.sort(function(e,r){return t(e,r,i)}),l=S(u);try{for(l.s();!(o=l.n()).done;){var f=o.value;e(f,n,i)?(c=f,a||(a=f)):(c&&s.push([a,c]),c=null,a=null)}}catch(w){l.e(w)}finally{l.f()}a&&s.push([a,null]);for(var d=[],h=0,p=s;h<p.length;h++){var v=x(p[h],2),g=v[0],y=v[1];g===y?d.push(g):y||g!==u[0]?y?g===u[0]?d.push("<=".concat(y)):d.push("".concat(g," - ").concat(y)):d.push(">=".concat(g)):d.push("*")}var m=d.join(" || "),b="string"==typeof n.raw?n.raw:String(n);return m.length<b.length?m:n},ut}(),W=function(){if(dt)return ft;dt=1;var e=Nt(),t=Lt(),r=t.ANY,n=Tt(),i=St(),o=[new t(">=0.0.0-0")],s=[new t(">=0.0.0")],a=function(e,t,a){if(e===t)return!0;if(1===e.length&&e[0].semver===r){if(1===t.length&&t[0].semver===r)return!0;e=a.includePrerelease?o:s}if(1===t.length&&t[0].semver===r){if(a.includePrerelease)return!0;t=s}var l,f,d,h,p=new Set,v=S(e);try{for(v.s();!(d=v.n()).done;){var g=d.value;">"===g.operator||">="===g.operator?l=c(l,g,a):"<"===g.operator||"<="===g.operator?f=u(f,g,a):p.add(g.semver)}}catch(N){v.e(N)}finally{v.f()}if(p.size>1)return null;if(l&&f){if((h=i(l.semver,f.semver,a))>0)return null;if(0===h&&(">="!==l.operator||"<="!==f.operator))return null}var y,m,b,w,k,_=S(p);try{for(_.s();!(y=_.n()).done;){var E=y.value;if(l&&!n(E,String(l),a))return null;if(f&&!n(E,String(f),a))return null;var R,I=S(t);try{for(I.s();!(R=I.n()).done;){var C=R.value;if(!n(E,String(C),a))return!1}}catch(N){I.e(N)}finally{I.f()}return!0}}catch(N){_.e(N)}finally{_.f()}var A=!(!f||a.includePrerelease||!f.semver.prerelease.length)&&f.semver,x=!(!l||a.includePrerelease||!l.semver.prerelease.length)&&l.semver;A&&1===A.prerelease.length&&"<"===f.operator&&0===A.prerelease[0]&&(A=!1);var M,O=S(t);try{for(O.s();!(M=O.n()).done;){var P=M.value;if(k=k||">"===P.operator||">="===P.operator,w=w||"<"===P.operator||"<="===P.operator,l)if(x&&P.semver.prerelease&&P.semver.prerelease.length&&P.semver.major===x.major&&P.semver.minor===x.minor&&P.semver.patch===x.patch&&(x=!1),">"===P.operator||">="===P.operator){if((m=c(l,P,a))===P&&m!==l)return!1}else if(">="===l.operator&&!n(l.semver,String(P),a))return!1;if(f)if(A&&P.semver.prerelease&&P.semver.prerelease.length&&P.semver.major===A.major&&P.semver.minor===A.minor&&P.semver.patch===A.patch&&(A=!1),"<"===P.operator||"<="===P.operator){if((b=u(f,P,a))===P&&b!==f)return!1}else if("<="===f.operator&&!n(f.semver,String(P),a))return!1;if(!P.operator&&(f||l)&&0!==h)return!1}}catch(N){O.e(N)}finally{O.f()}return!(l&&w&&!f&&0!==h||f&&k&&!l&&0!==h||x||A)},c=function(e,t,r){if(!e)return t;var n=i(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},u=function(e,t,r){if(!e)return t;var n=i(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};return ft=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t===r)return!0;t=new e(t,n),r=new e(r,n);var i,o=!1,s=S(t.set);try{e:for(s.s();!(i=s.n()).done;){var c,u=i.value,l=S(r.set);try{for(l.s();!(c=l.n()).done;){var f=c.value,d=a(u,f,n);if(o=o||null!==d,d)continue e}}catch(h){l.e(h)}finally{l.f()}if(o)return!1}}catch(h){s.e(h)}finally{s.f()}return!0},ft}();return ht={parse:i,valid:o,clean:s,inc:a,diff:c,major:u,minor:l,patch:f,prerelease:d,compare:h,rcompare:p,compareLoose:v,compareBuild:g,sort:y,rsort:m,gt:b,lt:w,eq:k,neq:_,gte:E,lte:R,cmp:I,coerce:C,Comparator:A,Range:M,satisfies:O,toComparators:P,maxSatisfying:N,minSatisfying:L,minVersion:T,validRange:j,outside:B,gtr:D,ltr:F,intersects:U,simplifyRange:H,subset:W,SemVer:r,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers}}var Ft,Ut={exports:{}};function Ht(){return Ft||(Ft=1,"function"==typeof Object.create?Ut.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Ut.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}),Ut.exports}var Wt,qt={},Vt={},zt={};function Jt(){if(Wt)return zt;Wt=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.walletLogo=void 0;return zt.walletLogo=function(e,t){var r;switch(e){case"standard":default:return r=t,"data:image/svg+xml,%3Csvg width='".concat(t,"' height='").concat(r,"' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E ");case"circle":return r=t,"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='".concat(t,"' height='").concat(r,"' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E");case"text":return r=(.1*t).toFixed(2),"data:image/svg+xml,%3Csvg width='".concat(t,"' height='").concat(r,"' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E");case"textWithLogo":return r=(.25*t).toFixed(2),"data:image/svg+xml,%3Csvg width='".concat(t,"' height='").concat(r,"' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E");case"textLight":return r=(.1*t).toFixed(2),"data:image/svg+xml,%3Csvg width='".concat(t,"' height='").concat(r,"' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E");case"textWithLogoLight":return r=(.25*t).toFixed(2),"data:image/svg+xml,%3Csvg width='".concat(t,"' height='").concat(r,"' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E")}},zt}var Gt,Zt={};function Yt(){return Gt||(Gt=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.LINK_API_URL=void 0,Zt.LINK_API_URL="https://www.walletlink.org"),Zt}var Qt,Kt={},Xt={},$t={};function er(){return Qt||(Qt=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.errorValues=$t.standardErrorCodes=void 0,$t.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},$t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}}),$t}var tr,rr,nr={},ir={};function or(){return tr||(tr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=e.getErrorCode=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;var t=er(),r="Unspecified error message.";function n(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;if(n&&Number.isInteger(n)){var s=n.toString();if(a(t.errorValues,s))return t.errorValues[s].message;if(o(n))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return i}function i(e){if(!Number.isInteger(e))return!1;var r=e.toString();return!!t.errorValues[r]||!!o(e)}function o(e){return e>=-32099&&e<=-32e3}function s(e){return e&&"object"===L(e)&&!Array.isArray(e)?Object.assign({},e):e}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return"object"===L(e)&&null!==e&&t in e&&"string"==typeof e[t]}e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",e.getMessageFromCode=n,e.isValidCode=i,e.getErrorCode=function(e){var t;return"number"==typeof e?e:function(e){return"object"===L(e)&&null!==e&&("number"==typeof e.code||"number"==typeof e.errorCode)}(e)?null!==(t=e.code)&&void 0!==t?t:e.errorCode:void 0},e.serialize=function(e){var o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).shouldIncludeStack,u=void 0!==o&&o,l={};if(e&&"object"===L(e)&&!Array.isArray(e)&&a(e,"code")&&i(e.code)){var f=e;l.code=f.code,f.message&&"string"==typeof f.message?(l.message=f.message,a(f,"data")&&(l.data=f.data)):(l.message=n(l.code),l.data={originalError:s(e)})}else l.code=t.standardErrorCodes.rpc.internal,l.message=c(e,"message")?e.message:r,l.data={originalError:s(e)};return u&&(l.stack=c(e,"stack")?e.stack:void 0),l}}(ir)),ir}function sr(){if(rr)return nr;rr=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.standardErrors=void 0;var e=er(),t=or();function r(e,r){var n=x(i(r),2),s=n[0],a=n[1];return new o(e,s||(0,t.getMessageFromCode)(e),a)}function n(e,r){var n=x(i(r),2),o=n[0],a=n[1];return new s(e,o||(0,t.getMessageFromCode)(e),a)}function i(e){if(e){if("string"==typeof e)return[e];if("object"===L(e)&&!Array.isArray(e)){var t=e.message,r=e.data;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}nr.standardErrors={rpc:{parse:function(t){return r(e.standardErrorCodes.rpc.parse,t)},invalidRequest:function(t){return r(e.standardErrorCodes.rpc.invalidRequest,t)},invalidParams:function(t){return r(e.standardErrorCodes.rpc.invalidParams,t)},methodNotFound:function(t){return r(e.standardErrorCodes.rpc.methodNotFound,t)},internal:function(t){return r(e.standardErrorCodes.rpc.internal,t)},server:function(e){if(!e||"object"!==L(e)||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");var t=e.code;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return r(t,e)},invalidInput:function(t){return r(e.standardErrorCodes.rpc.invalidInput,t)},resourceNotFound:function(t){return r(e.standardErrorCodes.rpc.resourceNotFound,t)},resourceUnavailable:function(t){return r(e.standardErrorCodes.rpc.resourceUnavailable,t)},transactionRejected:function(t){return r(e.standardErrorCodes.rpc.transactionRejected,t)},methodNotSupported:function(t){return r(e.standardErrorCodes.rpc.methodNotSupported,t)},limitExceeded:function(t){return r(e.standardErrorCodes.rpc.limitExceeded,t)}},provider:{userRejectedRequest:function(t){return n(e.standardErrorCodes.provider.userRejectedRequest,t)},unauthorized:function(t){return n(e.standardErrorCodes.provider.unauthorized,t)},unsupportedMethod:function(t){return n(e.standardErrorCodes.provider.unsupportedMethod,t)},disconnected:function(t){return n(e.standardErrorCodes.provider.disconnected,t)},chainDisconnected:function(t){return n(e.standardErrorCodes.provider.chainDisconnected,t)},unsupportedChain:function(t){return n(e.standardErrorCodes.provider.unsupportedChain,t)},custom:function(e){if(!e||"object"!==L(e)||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");var t=e.code,r=e.message,n=e.data;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new s(t,r,n)}}};var o=function(e){function t(e,r,n){var i;if(R(this,t),!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string.');return(i=g(this,t,[r])).code=e,void 0!==n&&(i.data=n),i}return y(t,e),C(t)}(m(Error)),s=function(e){function t(e,r,n){if(R(this,t),!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');return g(this,t,[e,r,n])}return y(t,e),C(t)}(o);return nr}var ar,cr={},ur={};function lr(){if(ar)return ur;return ar=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.isErrorResponse=void 0,ur.isErrorResponse=function(e){return void 0!==e.errorMessage},ur}var fr,dr,hr,pr={};function vr(){return fr||(fr=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.LIB_VERSION=void 0,pr.LIB_VERSION="3.9.3"),pr}function gr(){if(dr)return cr;dr=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.serializeError=void 0;var e=lr(),t=vr(),r=er(),n=or();return cr.serializeError=function(i,o){var s=(0,n.serialize)(function(t){if("string"==typeof t)return{message:t,code:r.standardErrorCodes.rpc.internal};if((0,e.isErrorResponse)(t))return Object.assign(Object.assign({},t),{message:t.errorMessage,code:t.errorCode,data:{method:t.method}});return t}(i),{shouldIncludeStack:!0}),a=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");a.searchParams.set("version",t.LIB_VERSION),a.searchParams.set("code",s.code.toString());var c=function(e,t){var r=null==e?void 0:e.method;if(r)return r;if(void 0===t)return;if("string"==typeof t)return t;if(!Array.isArray(t))return t.method;if(t.length>0)return t[0].method;return}(s.data,o);return c&&a.searchParams.set("method",c),a.searchParams.set("message",s.message),Object.assign(Object.assign({},s),{docUrl:a.href})},cr}function yr(){return hr||(hr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.standardErrors=e.standardErrorCodes=e.serializeError=e.getMessageFromCode=e.getErrorCode=void 0;var t=er();Object.defineProperty(e,"standardErrorCodes",{enumerable:!0,get:function(){return t.standardErrorCodes}});var r=sr();Object.defineProperty(e,"standardErrors",{enumerable:!0,get:function(){return r.standardErrors}});var n=gr();Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return n.serializeError}});var i=or();Object.defineProperty(e,"getErrorCode",{enumerable:!0,get:function(){return i.getErrorCode}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}})}(Xt)),Xt}var mr,br,wr={};function kr(){if(mr)return wr;function e(){return function(e){return e}}var t;return mr=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.ProviderType=wr.RegExpString=wr.IntNumber=wr.BigIntString=wr.AddressString=wr.HexString=wr.OpaqueType=void 0,wr.OpaqueType=e,wr.HexString=function(e){return e},wr.AddressString=function(e){return e},wr.BigIntString=function(e){return e},wr.IntNumber=function(e){return Math.floor(e)},wr.RegExpString=function(e){return e},function(e){e.CoinbaseWallet="CoinbaseWallet",e.MetaMask="MetaMask",e.Unselected=""}(t||(wr.ProviderType=t={})),wr}function _r(){if(br)return Kt;br=1;var e=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.isMobileWeb=Kt.getLocation=Kt.isInIFrame=Kt.createQrUrl=Kt.getFavicon=Kt.range=Kt.isBigNumber=Kt.ensureParsedJSONObject=Kt.ensureBN=Kt.ensureRegExpString=Kt.ensureIntNumber=Kt.ensureBuffer=Kt.ensureAddressString=Kt.ensureEvenLengthHexString=Kt.ensureHexString=Kt.isHexString=Kt.prepend0x=Kt.strip0x=Kt.has0xPrefix=Kt.hexStringFromIntNumber=Kt.intNumberFromHexString=Kt.bigIntStringFromBN=Kt.hexStringFromBuffer=Kt.hexStringToUint8Array=Kt.uint8ArrayToHex=Kt.randomBytesHex=void 0;var t=e(d()),r=yr(),n=kr(),i=/^[0-9]*$/,o=/^[a-f0-9]*$/;function s(e){return _(e).map(function(e){return e.toString(16).padStart(2,"0")}).join("")}function a(e){return e.startsWith("0x")||e.startsWith("0X")}function c(e){return a(e)?e.slice(2):e}function u(e){return a(e)?"0x".concat(e.slice(2)):"0x".concat(e)}function l(e){if("string"!=typeof e)return!1;var t=c(e).toLowerCase();return o.test(t)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"==typeof e){var i=c(e).toLowerCase();if(o.test(i))return(0,n.HexString)(t?"0x".concat(i):i)}throw r.standardErrors.rpc.invalidParams('"'.concat(String(e),'" is not a hexadecimal string'))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=f(e,!1);return r.length%2==1&&(r=(0,n.HexString)("0".concat(r))),t?(0,n.HexString)("0x".concat(r)):r}function p(e){if("number"==typeof e&&Number.isInteger(e))return(0,n.IntNumber)(e);if("string"==typeof e){if(i.test(e))return(0,n.IntNumber)(Number(e));if(l(e))return(0,n.IntNumber)(new t.default(h(e,!1),16).toNumber())}throw r.standardErrors.rpc.invalidParams("Not an integer: ".concat(String(e)))}function g(e){if(null==e||"function"!=typeof e.constructor)return!1;var t=e.constructor;return"function"==typeof t.config&&"number"==typeof t.EUCLID}function y(){try{return null!==window.frameElement}catch(e){return!1}}return Kt.randomBytesHex=function(e){return s(crypto.getRandomValues(new Uint8Array(e)))},Kt.uint8ArrayToHex=s,Kt.hexStringToUint8Array=function(e){return new Uint8Array(e.match(/.{1,2}/g).map(function(e){return parseInt(e,16)}))},Kt.hexStringFromBuffer=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.toString("hex");return(0,n.HexString)(t?"0x".concat(r):r)},Kt.bigIntStringFromBN=function(e){return(0,n.BigIntString)(e.toString(10))},Kt.intNumberFromHexString=function(e){return(0,n.IntNumber)(new t.default(h(e,!1),16).toNumber())},Kt.hexStringFromIntNumber=function(e){return(0,n.HexString)("0x".concat(new t.default(e).toString(16)))},Kt.has0xPrefix=a,Kt.strip0x=c,Kt.prepend0x=u,Kt.isHexString=l,Kt.ensureHexString=f,Kt.ensureEvenLengthHexString=h,Kt.ensureAddressString=function(e){if("string"==typeof e){var t=c(e).toLowerCase();if(l(t)&&40===t.length)return(0,n.AddressString)(u(t))}throw r.standardErrors.rpc.invalidParams("Invalid Ethereum address: ".concat(String(e)))},Kt.ensureBuffer=function(e){if(Buffer.isBuffer(e))return e;if("string"==typeof e){if(l(e)){var t=h(e,!1);return Buffer.from(t,"hex")}return Buffer.from(e,"utf8")}throw r.standardErrors.rpc.invalidParams("Not binary data: ".concat(String(e)))},Kt.ensureIntNumber=p,Kt.ensureRegExpString=function(e){if(e instanceof RegExp)return(0,n.RegExpString)(e.toString());throw r.standardErrors.rpc.invalidParams("Not a RegExp: ".concat(String(e)))},Kt.ensureBN=function(e){if(null!==e&&(t.default.isBN(e)||g(e)))return new t.default(e.toString(10),10);if("number"==typeof e)return new t.default(p(e));if("string"==typeof e){if(i.test(e))return new t.default(e,10);if(l(e))return new t.default(h(e,!1),16)}throw r.standardErrors.rpc.invalidParams("Not an integer: ".concat(String(e)))},Kt.ensureParsedJSONObject=function(e){if("string"==typeof e)return JSON.parse(e);if("object"===L(e))return e;throw r.standardErrors.rpc.invalidParams("Not a JSON string or an object: ".concat(String(e)))},Kt.isBigNumber=g,Kt.range=function(e,t){return Array.from({length:t-e},function(t,r){return e+r})},Kt.getFavicon=function(){var e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),t=document.location,r=t.protocol,n=t.host,i=e?e.getAttribute("href"):null;return!i||i.startsWith("javascript:")||i.startsWith("vbscript:")?null:i.startsWith("http://")||i.startsWith("https://")||i.startsWith("data:")?i:i.startsWith("//")?r+i:"".concat(r,"//").concat(n).concat(i)},Kt.createQrUrl=function(e,t,r,n,i,o){var s=new URLSearchParams(v(v(v(v(v({},n?"parent-id":"id",e),"secret",t),"server",r),"v",i),"chainId",o.toString())).toString();return"".concat(r,"/#/link?").concat(s)},Kt.isInIFrame=y,Kt.getLocation=function(){try{return y()&&window.top?window.top.location:window.location}catch(e){return window.location}},Kt.isMobileWeb=function(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(null===(e=null===window||void 0===window?void 0:window.navigator)||void 0===e?void 0:e.userAgent)},Kt}var Er,Sr={};function Rr(){if(Er)return Sr;Er=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.ScopedLocalStorage=void 0;var e=function(){return C(function e(t){R(this,e),this.scope=t},[{key:"setItem",value:function(e,t){localStorage.setItem(this.scopedKey(e),t)}},{key:"getItem",value:function(e){return localStorage.getItem(this.scopedKey(e))}},{key:"removeItem",value:function(e){localStorage.removeItem(this.scopedKey(e))}},{key:"clear",value:function(){for(var e=this.scopedKey(""),t=[],r=0;r<localStorage.length;r++){var n=localStorage.key(r);"string"==typeof n&&n.startsWith(e)&&t.push(n)}t.forEach(function(e){return localStorage.removeItem(e)})}},{key:"scopedKey",value:function(e){return"".concat(this.scope,":").concat(e)}}])}();return Sr.ScopedLocalStorage=e,Sr}var Ir,Cr={},Ar={exports:{}};var xr,Mr={},Or={},Pr={};function Nr(){return xr||(xr=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.EVENTS=void 0,Pr.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",METHOD_NOT_IMPLEMENTED:"walletlink_sdk.method_not_implemented",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"}),Pr}var Lr,Tr={};function jr(){if(Lr)return Tr;Lr=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.RelayAbstract=Tr.APP_VERSION_KEY=Tr.LOCAL_STORAGE_ADDRESSES_KEY=Tr.WALLET_USER_NAME_KEY=void 0;var e=yr();Tr.WALLET_USER_NAME_KEY="walletUsername",Tr.LOCAL_STORAGE_ADDRESSES_KEY="Addresses",Tr.APP_VERSION_KEY="AppVersion";var t=function(){return C(function e(){R(this,e)},[{key:"makeEthereumJSONRPCRequest",value:(t=p(f().m(function t(r,n){return f().w(function(t){for(;;)switch(t.n){case 0:if(n){t.n=1;break}throw new Error("Error: No jsonRpcUrl provided");case 1:return t.a(2,window.fetch(n,{method:"POST",body:JSON.stringify(r),mode:"cors",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(!t)throw e.standardErrors.rpc.parse({});var n=t,i=n.error;if(i)throw(0,e.serializeError)(i,r.method);return n}))}},t)})),function(e,r){return t.apply(this,arguments)})}]);var t}();return Tr.RelayAbstract=t,Tr}var Br,Dr,Fr,Ur,Hr,Wr,qr,Vr,zr,Jr,Gr,Zr,Yr,Qr,Kr,Xr,$r,en,tn,rn,nn,on,sn,an,cn,un,ln,fn,dn,hn,pn,vn,gn,yn,mn,bn,wn,kn,_n,En,Sn,Rn,In,Cn,An,xn,Mn,On,Pn,Nn,Ln,Tn,jn,Bn,Dn,Fn,Un,Hn,Wn,qn,Vn,zn,Jn,Gn,Zn,Yn,Qn,Kn,Xn,$n,ei,ti,ri,ni,ii,oi,si,ai,ci,ui,li={},fi={exports:{}};function di(){return Ur?Fr:(Ur=1,Fr=TypeError)}function hi(){return Wr?Hr:(Wr=1,Hr=Object)}function pi(){return Vr?qr:(Vr=1,qr=Error)}function vi(){return Jr?zr:(Jr=1,zr=EvalError)}function gi(){return Zr?Gr:(Zr=1,Gr=RangeError)}function yi(){return Qr?Yr:(Qr=1,Yr=ReferenceError)}function mi(){return Xr?Kr:(Xr=1,Kr=SyntaxError)}function bi(){return en?$r:(en=1,$r=URIError)}function wi(){return rn?tn:(rn=1,tn=Math.abs)}function ki(){return on?nn:(on=1,nn=Math.floor)}function _i(){return an?sn:(an=1,sn=Math.max)}function Ei(){return un?cn:(un=1,cn=Math.min)}function Si(){return fn?ln:(fn=1,ln=Math.pow)}function Ri(){return hn?dn:(hn=1,dn=Math.round)}function Ii(){return vn?pn:(vn=1,pn=Number.isNaN||function(e){return e!=e})}function Ci(){if(yn)return gn;yn=1;var e=Ii();return gn=function(t){return e(t)||0===t?t:t<0?-1:1},gn}function Ai(){return bn?mn:(bn=1,mn=Object.getOwnPropertyDescriptor)}function xi(){if(kn)return wn;kn=1;var e=Ai();if(e)try{e([],"length")}catch(t){e=null}return wn=e}function Mi(){if(En)return _n;En=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch(t){e=!1}return _n=e}function Oi(){return Rn?Sn:(Rn=1,Sn=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===L(Symbol.iterator))return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0})}function Pi(){if(Cn)return In;Cn=1;var e="undefined"!=typeof Symbol&&Symbol,t=Oi();return In=function(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"===L(e("foo"))&&("symbol"===L(Symbol("bar"))&&t())))}}function Ni(){return xn?An:(xn=1,An="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null)}function Li(){return On?Mn:(On=1,Mn=hi().getPrototypeOf||null)}function Ti(){if(Nn)return Pn;Nn=1;var e=Object.prototype.toString,t=Math.max,r=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r};return Pn=function(n){var i=this;if("function"!=typeof i||"[object Function]"!==e.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,s=function(e,t){for(var r=[],n=t,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r}(arguments,1),a=t(0,i.length-s.length),c=[],u=0;u<a;u++)c[u]="$"+u;if(o=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(c,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof o){var e=i.apply(this,r(s,arguments));return Object(e)===e?e:this}return i.apply(n,r(s,arguments))}),i.prototype){var l=function(){};l.prototype=i.prototype,o.prototype=new l,l.prototype=null}return o},Pn}function ji(){if(Tn)return Ln;Tn=1;var e=Ti();return Ln=Function.prototype.bind||e}function Bi(){return Bn?jn:(Bn=1,jn=Function.prototype.call)}function Di(){return Fn?Dn:(Fn=1,Dn=Function.prototype.apply)}function Fi(){if(qn)return Wn;qn=1;var e=ji(),t=Di(),r=Bi(),n=Hn?Un:(Hn=1,Un="undefined"!=typeof Reflect&&Reflect&&Reflect.apply);return Wn=n||e.call(r,t)}function Ui(){if(zn)return Vn;zn=1;var e=ji(),t=di(),r=Bi(),n=Fi();return Vn=function(i){if(i.length<1||"function"!=typeof i[0])throw new t("a function is required");return n(e,r,i)}}function Hi(){if(Gn)return Jn;Gn=1;var e,t=Ui(),r=xi();try{e=[].__proto__===Array.prototype}catch(s){if(!s||"object"!==L(s)||!("code"in s)||"ERR_PROTO_ACCESS"!==s.code)throw s}var n=!!e&&r&&r(Object.prototype,"__proto__"),i=Object,o=i.getPrototypeOf;return Jn=n&&"function"==typeof n.get?t([n.get]):"function"==typeof o&&function(e){return o(null==e?e:i(e))}}function Wi(){if(Yn)return Zn;Yn=1;var e=Ni(),t=Li(),r=Hi();return Zn=e?function(t){return e(t)}:t?function(e){if(!e||"object"!==L(e)&&"function"!=typeof e)throw new TypeError("getProto: not an object");return t(e)}:r?function(e){return r(e)}:null}function qi(){if(Kn)return Qn;Kn=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=ji();return Qn=r.call(e,t)}function Vi(){if($n)return Xn;var e;$n=1;var t=hi(),r=pi(),n=vi(),i=gi(),o=yi(),s=mi(),a=di(),c=bi(),u=wi(),l=ki(),f=_i(),d=Ei(),h=Si(),p=Ri(),v=Ci(),g=Function,y=function(e){try{return g('"use strict"; return ('+e+").constructor;")()}catch(t){}},m=xi(),b=Mi(),w=function(){throw new a},k=m?function(){try{return w}catch(e){try{return m(arguments,"callee").get}catch(t){return w}}}():w,_=Pi()(),E=Wi(),S=Li(),R=Ni(),I=Di(),C=Bi(),A={},x="undefined"!=typeof Uint8Array&&E?E(Uint8Array):e,M={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?e:ArrayBuffer,"%ArrayIteratorPrototype%":_&&E?E([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":A,"%AsyncGenerator%":A,"%AsyncGeneratorFunction%":A,"%AsyncIteratorPrototype%":A,"%Atomics%":"undefined"==typeof Atomics?e:Atomics,"%BigInt%":"undefined"==typeof BigInt?e:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?e:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":"undefined"==typeof Float16Array?e:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?e:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?e:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?e:FinalizationRegistry,"%Function%":g,"%GeneratorFunction%":A,"%Int8Array%":"undefined"==typeof Int8Array?e:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?e:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_&&E?E(E([][Symbol.iterator]())):e,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":L(JSON))?JSON:e,"%Map%":"undefined"==typeof Map?e:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&_&&E?E((new Map)[Symbol.iterator]()):e,"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":m,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?e:Promise,"%Proxy%":"undefined"==typeof Proxy?e:Proxy,"%RangeError%":i,"%ReferenceError%":o,"%Reflect%":"undefined"==typeof Reflect?e:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?e:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&_&&E?E((new Set)[Symbol.iterator]()):e,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_&&E?E(""[Symbol.iterator]()):e,"%Symbol%":_?Symbol:e,"%SyntaxError%":s,"%ThrowTypeError%":k,"%TypedArray%":x,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?e:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?e:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?e:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?e:Uint32Array,"%URIError%":c,"%WeakMap%":"undefined"==typeof WeakMap?e:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?e:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?e:WeakSet,"%Function.prototype.call%":C,"%Function.prototype.apply%":I,"%Object.defineProperty%":b,"%Object.getPrototypeOf%":S,"%Math.abs%":u,"%Math.floor%":l,"%Math.max%":f,"%Math.min%":d,"%Math.pow%":h,"%Math.round%":p,"%Math.sign%":v,"%Reflect.getPrototypeOf%":R};if(E)try{null.error}catch(z){var O=E(E(z));M["%Error.prototype%"]=O}var P=function e(t){var r;if("%AsyncFunction%"===t)r=y("async function () {}");else if("%GeneratorFunction%"===t)r=y("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=y("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&E&&(r=E(i.prototype))}return M[t]=r,r},N={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=ji(),j=qi(),B=T.call(C,Array.prototype.concat),D=T.call(I,Array.prototype.splice),F=T.call(C,String.prototype.replace),U=T.call(C,String.prototype.slice),H=T.call(C,RegExp.prototype.exec),W=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,V=function(e,t){var r,n=e;if(j(N,n)&&(n="%"+(r=N[n])[0]+"%"),j(M,n)){var i=M[n];if(i===A&&(i=P(n)),void 0===i&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new s("intrinsic "+e+" does not exist!")};return Xn=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===H(/^%?[^%]*%?$/,e))throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=U(e,0,1),r=U(e,-1);if("%"===t&&"%"!==r)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new s("invalid intrinsic syntax, expected opening `%`");var n=[];return F(e,W,function(e,t,r,i){n[n.length]=r?F(i,q,"$1"):t||e}),n}(e),n=r.length>0?r[0]:"",i=V("%"+n+"%",t),o=i.name,c=i.value,u=!1,l=i.alias;l&&(n=l[0],D(r,B([0,1],l)));for(var f=1,d=!0;f<r.length;f+=1){var h=r[f],p=U(h,0,1),v=U(h,-1);if(('"'===p||"'"===p||"`"===p||'"'===v||"'"===v||"`"===v)&&p!==v)throw new s("property names with quotes must have matching quotes");if("constructor"!==h&&d||(u=!0),j(M,o="%"+(n+="."+h)+"%"))c=M[o];else if(null!=c){if(!(h in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(m&&f+1>=r.length){var g=m(c,h);c=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:c[h]}else d=j(c,h),c=c[h];d&&!u&&(M[o]=c)}}return c},Xn}function zi(){if(ti)return ei;ti=1;var e=Vi(),t=Ui(),r=t([e("%String.prototype.indexOf%")]);return ei=function(n,i){var o=e(n,!!i);return"function"==typeof o&&r(n,".prototype.")>-1?t([o]):o}}function Ji(){if(ni)return ri;ni=1;var e,t,r=Function.prototype.toString,n="object"===("undefined"==typeof Reflect?"undefined":L(Reflect))&&null!==Reflect&&Reflect.apply;if("function"==typeof n&&"function"==typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw t}}),t={},n(function(){throw 42},null,e)}catch(d){d!==t&&(n=null)}else n=null;var i=/^\s*class\b/,o=function(e){try{var t=r.call(e);return i.test(t)}catch(n){return!1}},s=function(e){try{return!o(e)&&(r.call(e),!0)}catch(t){return!1}},a=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,u=!(0 in[,]),l=function(){return!1};if("object"===("undefined"==typeof document?"undefined":L(document))){var f=document.all;a.call(f)===a.call(document.all)&&(l=function(e){if((u||!e)&&(void 0===e||"object"===L(e)))try{var t=a.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(r){}return!1})}return ri=n?function(r){if(l(r))return!0;if(!r)return!1;if("function"!=typeof r&&"object"!==L(r))return!1;try{n(r,null,e)}catch(i){if(i!==t)return!1}return!o(r)&&s(r)}:function(e){if(l(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!==L(e))return!1;if(c)return s(e);if(o(e))return!1;var t=a.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&s(e)}}function Gi(){if(oi)return ii;oi=1;var e=Ji(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty;return ii=function(n,i,o){if(!e(i))throw new TypeError("iterator must be a function");var s,a;arguments.length>=3&&(s=o),a=n,"[object Array]"===t.call(a)?function(e,t,n){for(var i=0,o=e.length;i<o;i++)r.call(e,i)&&(null==n?t(e[i],i,e):t.call(n,e[i],i,e))}(n,i,s):"string"==typeof n?function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(n,i,s):function(e,t,n){for(var i in e)r.call(e,i)&&(null==n?t(e[i],i,e):t.call(n,e[i],i,e))}(n,i,s)},ii}function Zi(){return ai?si:(ai=1,si=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"])}function Yi(){if(ui)return ci;ui=1;var e=Zi(),t="undefined"==typeof globalThis?h:globalThis;return ci=function(){for(var r=[],n=0;n<e.length;n++)"function"==typeof t[e[n]]&&(r[r.length]=e[n]);return r}}var Qi,Ki,Xi,$i,eo,to,ro,no,io,oo,so,ao,co,uo,lo,fo,ho,po,vo,go,yo,mo,bo,wo,ko,_o,Eo,So,Ro,Io,Co,Ao,xo,Mo,Oo,Po={exports:{}};function No(){if(Ki)return Qi;Ki=1;var e=Mi(),t=mi(),r=di(),n=xi();return Qi=function(i,o,s){if(!i||"object"!==L(i)&&"function"!=typeof i)throw new r("`obj` must be an object or a function`");if("string"!=typeof o&&"symbol"!==L(o))throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new r("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],f=!!n&&n(i,o);if(e)e(i,o,{configurable:null===u&&f?f.configurable:!u,enumerable:null===a&&f?f.enumerable:!a,value:s,writable:null===c&&f?f.writable:!c});else{if(!l&&(a||c||u))throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");i[o]=s}},Qi}function Lo(){if($i)return Xi;$i=1;var e=Mi(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return 1!==e([],"length",{value:1}).length}catch(t){return!0}},Xi=t}function To(){if(to)return eo;to=1;var e=Vi(),t=No(),r=Lo()(),n=xi(),i=di(),o=e("%Math.floor%");return eo=function(e,s){if("function"!=typeof e)throw new i("`fn` is not a function");if("number"!=typeof s||s<0||s>4294967295||o(s)!==s)throw new i("`length` must be a positive 32-bit integer");var a=arguments.length>2&&!!arguments[2],c=!0,u=!0;if("length"in e&&n){var l=n(e,"length");l&&!l.configurable&&(c=!1),l&&!l.writable&&(u=!1)}return(c||u||!a)&&(r?t(e,"length",s,!0,!0):t(e,"length",s)),e},eo}function jo(){if(no)return ro;no=1;var e=ji(),t=Di(),r=Fi();return ro=function(){return r(e,t,arguments)},ro}function Bo(){return io||(io=1,function(e){var t=To(),r=Mi(),n=Ui(),i=jo();e.exports=function(e){var r=n(arguments),i=e.length-(arguments.length-1);return t(r,1+(i>0?i:0),!0)},r?r(e.exports,"apply",{value:i}):e.exports.apply=i}(Po)),Po.exports}function Do(){if(co)return ao;co=1;var e=Gi(),t=Yi(),r=Bo(),n=zi(),i=xi(),o=Wi(),s=n("Object.prototype.toString"),a=function(){if(so)return oo;so=1;var e=Oi();return oo=function(){return e()&&!!Symbol.toStringTag}}()(),c="undefined"==typeof globalThis?h:globalThis,u=t(),l=n("String.prototype.slice"),f=n("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},d={__proto__:null};e(u,a&&i&&o?function(e){var t=new c[e];if(Symbol.toStringTag in t&&o){var n=o(t),s=i(n,Symbol.toStringTag);if(!s&&n){var a=o(n);s=i(a,Symbol.toStringTag)}d["$"+e]=r(s.get)}}:function(e){var t=new c[e],n=t.slice||t.set;n&&(d["$"+e]=r(n))});return ao=function(t){if(!t||"object"!==L(t))return!1;if(!a){var r=l(s(t),8,-1);return f(u,r)>-1?r:"Object"===r&&function(t){var r=!1;return e(d,function(e,n){if(!r)try{e(t),r=l(n,1)}catch(i){}}),r}(t)}return i?function(t){var r=!1;return e(d,function(e,n){if(!r)try{"$"+e(t)===n&&(r=l(n,1))}catch(i){}}),r}(t):null}}function Fo(){if(lo)return uo;lo=1;var e=Do();return uo=function(t){return!!e(t)}}function Uo(){if(ho)return fo;ho=1;var e=di(),t=zi()("TypedArray.prototype.buffer",!0),r=Fo();return fo=t||function(t){if(!r(t))throw new e("Not a Typed Array");return t.buffer}}function Ho(){if(vo)return po;vo=1;var e=b().Buffer,t=function(){if(Dr)return Br;Dr=1;var e={}.toString;return Br=Array.isArray||function(t){return"[object Array]"==e.call(t)}}(),r=Uo(),n=ArrayBuffer.isView||function(e){try{return r(e),!0}catch(t){return!1}},i="undefined"!=typeof Uint8Array,o="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,s=o&&(e.prototype instanceof Uint8Array||e.TYPED_ARRAY_SUPPORT);return po=function(r,a){if(r instanceof e)return r;if("string"==typeof r)return e.from(r,a);if(o&&n(r)){if(0===r.byteLength)return e.alloc(0);if(s){var c=e.from(r.buffer,r.byteOffset,r.byteLength);if(c.byteLength===r.byteLength)return c}var u=r instanceof Uint8Array?r:new Uint8Array(r.buffer,r.byteOffset,r.byteLength),l=e.from(u);if(l.length===r.byteLength)return l}if(i&&r instanceof Uint8Array)return e.from(r);var f=t(r);if(f)for(var d=0;d<r.length;d+=1){var h=r[d];if("number"!=typeof h||h<0||h>255||~~h!==h)throw new RangeError("Array items must be numbers in the range 0-255.")}if(f||e.isBuffer(r)&&r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r))return e.from(r);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')}}function Wo(){if(yo)return go;yo=1;var e=b().Buffer,t=Ho();function r(t,r){this._block=e.alloc(t),this._finalSize=r,this._blockSize=t,this._len=0}return r.prototype.update=function(e,r){e=t(e,r||"utf8");for(var n=this._block,i=this._blockSize,o=e.length,s=this._len,a=0;a<o;){for(var c=s%i,u=Math.min(o-a,i-c),l=0;l<u;l++)n[c+l]=e[a+l];a+=u,(s+=u)%i===0&&this._update(n)}return this._len+=o,this},r.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},go=r}function qo(){if(Eo)return _o;Eo=1;var e=Ht(),t=Wo(),r=b().Buffer,n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=new Array(64);function o(){this.init(),this._w=i,t.call(this,64,56)}function s(e,t,r){return r^e&(t^r)}function a(e,t,r){return e&t|r&(e|t)}function c(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function u(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function l(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function f(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}return e(o,t),o.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},o.prototype._update=function(e){for(var t=this._w,r=0|this._a,i=0|this._b,o=0|this._c,d=0|this._d,h=0|this._e,p=0|this._f,v=0|this._g,g=0|this._h,y=0;y<16;++y)t[y]=e.readInt32BE(4*y);for(;y<64;++y)t[y]=f(t[y-2])+t[y-7]+l(t[y-15])+t[y-16]|0;for(var m=0;m<64;++m){var b=g+u(h)+s(h,p,v)+n[m]+t[m]|0,w=c(r)+a(r,i,o)|0;g=v,v=p,p=h,h=d+b|0,d=o,o=i,i=r,r=b+w|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=d+this._d|0,this._e=h+this._e|0,this._f=p+this._f|0,this._g=v+this._g|0,this._h=g+this._h|0},o.prototype._hash=function(){var e=r.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},_o=o}function Vo(){if(Co)return Io;Co=1;var e=Ht(),t=Wo(),r=b().Buffer,n=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],i=new Array(160);function o(){this.init(),this._w=i,t.call(this,128,112)}function s(e,t,r){return r^e&(t^r)}function a(e,t,r){return e&t|r&(e|t)}function c(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function u(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function f(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function d(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function h(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function p(e,t){return e>>>0<t>>>0?1:0}return e(o,t),o.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},o.prototype._update=function(e){for(var t=this._w,r=0|this._ah,i=0|this._bh,o=0|this._ch,v=0|this._dh,g=0|this._eh,y=0|this._fh,m=0|this._gh,b=0|this._hh,w=0|this._al,k=0|this._bl,_=0|this._cl,E=0|this._dl,S=0|this._el,R=0|this._fl,I=0|this._gl,C=0|this._hl,A=0;A<32;A+=2)t[A]=e.readInt32BE(4*A),t[A+1]=e.readInt32BE(4*A+4);for(;A<160;A+=2){var x=t[A-30],M=t[A-30+1],O=l(x,M),P=f(M,x),N=d(x=t[A-4],M=t[A-4+1]),L=h(M,x),T=t[A-14],j=t[A-14+1],B=t[A-32],D=t[A-32+1],F=P+j|0,U=O+T+p(F,P)|0;U=(U=U+N+p(F=F+L|0,L)|0)+B+p(F=F+D|0,D)|0,t[A]=U,t[A+1]=F}for(var H=0;H<160;H+=2){U=t[H],F=t[H+1];var W=a(r,i,o),q=a(w,k,_),V=c(r,w),z=c(w,r),J=u(g,S),G=u(S,g),Z=n[H],Y=n[H+1],Q=s(g,y,m),K=s(S,R,I),X=C+G|0,$=b+J+p(X,C)|0;$=($=($=$+Q+p(X=X+K|0,K)|0)+Z+p(X=X+Y|0,Y)|0)+U+p(X=X+F|0,F)|0;var ee=z+q|0,te=V+W+p(ee,z)|0;b=m,C=I,m=y,I=R,y=g,R=S,g=v+$+p(S=E+X|0,E)|0,v=o,E=_,o=i,_=k,i=r,k=w,r=$+te+p(w=X+ee|0,X)|0}this._al=this._al+w|0,this._bl=this._bl+k|0,this._cl=this._cl+_|0,this._dl=this._dl+E|0,this._el=this._el+S|0,this._fl=this._fl+R|0,this._gl=this._gl+I|0,this._hl=this._hl+C|0,this._ah=this._ah+r+p(this._al,w)|0,this._bh=this._bh+i+p(this._bl,k)|0,this._ch=this._ch+o+p(this._cl,_)|0,this._dh=this._dh+v+p(this._dl,E)|0,this._eh=this._eh+g+p(this._el,S)|0,this._fh=this._fh+y+p(this._fl,R)|0,this._gh=this._gh+m+p(this._gl,I)|0,this._hh=this._hh+b+p(this._hl,C)|0},o.prototype._hash=function(){var e=r.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},Io=o}function zo(){return Mo||(Mo=1,function(e){e.exports=function(t){var r=t.toLowerCase(),n=e.exports[r];if(!n)throw new Error(r+" is not supported (we accept pull requests)");return new n},e.exports.sha=function(){if(bo)return mo;bo=1;var e=Ht(),t=Wo(),r=b().Buffer,n=[1518500249,1859775393,-1894007588,-899497514],i=new Array(80);function o(){this.init(),this._w=i,t.call(this,64,56)}function s(e){return e<<5|e>>>27}function a(e){return e<<30|e>>>2}function c(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}return e(o,t),o.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},o.prototype._update=function(e){for(var t=this._w,r=0|this._a,i=0|this._b,o=0|this._c,u=0|this._d,l=0|this._e,f=0;f<16;++f)t[f]=e.readInt32BE(4*f);for(;f<80;++f)t[f]=t[f-3]^t[f-8]^t[f-14]^t[f-16];for(var d=0;d<80;++d){var h=~~(d/20),p=s(r)+c(h,i,o,u)+l+t[d]+n[h]|0;l=u,u=o,o=a(i),i=r,r=p}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=u+this._d|0,this._e=l+this._e|0},o.prototype._hash=function(){var e=r.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},mo=o}(),e.exports.sha1=function(){if(ko)return wo;ko=1;var e=Ht(),t=Wo(),r=b().Buffer,n=[1518500249,1859775393,-1894007588,-899497514],i=new Array(80);function o(){this.init(),this._w=i,t.call(this,64,56)}function s(e){return e<<1|e>>>31}function a(e){return e<<5|e>>>27}function c(e){return e<<30|e>>>2}function u(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}return e(o,t),o.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},o.prototype._update=function(e){for(var t=this._w,r=0|this._a,i=0|this._b,o=0|this._c,l=0|this._d,f=0|this._e,d=0;d<16;++d)t[d]=e.readInt32BE(4*d);for(;d<80;++d)t[d]=s(t[d-3]^t[d-8]^t[d-14]^t[d-16]);for(var h=0;h<80;++h){var p=~~(h/20),v=a(r)+u(p,i,o,l)+f+t[h]+n[p]|0;f=l,l=o,o=c(i),i=r,r=v}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=l+this._d|0,this._e=f+this._e|0},o.prototype._hash=function(){var e=r.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},wo=o}(),e.exports.sha224=function(){if(Ro)return So;Ro=1;var e=Ht(),t=qo(),r=Wo(),n=b().Buffer,i=new Array(64);function o(){this.init(),this._w=i,r.call(this,64,56)}return e(o,t),o.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},o.prototype._hash=function(){var e=n.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},So=o}(),e.exports.sha256=qo(),e.exports.sha384=function(){if(xo)return Ao;xo=1;var e=Ht(),t=Vo(),r=Wo(),n=b().Buffer,i=new Array(160);function o(){this.init(),this._w=i,r.call(this,128,112)}return e(o,t),o.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},o.prototype._hash=function(){var e=n.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},Ao=o}(),e.exports.sha512=Vo()}(fi)),fi.exports}function Jo(){if(Oo)return li;Oo=1,Object.defineProperty(li,"__esModule",{value:!0}),li.Session=void 0;var e=zo(),t=_r(),r="session:id",n="session:secret",i="session:linked",o=function(){function o(r,n,i,s){R(this,o),this._storage=r,this._id=n||(0,t.randomBytesHex)(16),this._secret=i||(0,t.randomBytesHex)(32),this._key=(new e.sha256).update("".concat(this._id,", ").concat(this._secret," WalletLink")).digest("hex"),this._linked=!!s}return C(o,[{key:"id",get:function(){return this._id}},{key:"secret",get:function(){return this._secret}},{key:"key",get:function(){return this._key}},{key:"linked",get:function(){return this._linked},set:function(e){this._linked=e,this.persistLinked()}},{key:"save",value:function(){return this._storage.setItem(r,this._id),this._storage.setItem(n,this._secret),this.persistLinked(),this}},{key:"persistLinked",value:function(){this._storage.setItem(i,this._linked?"1":"0")}}],[{key:"load",value:function(e){var t=e.getItem(r),s=e.getItem(i),a=e.getItem(n);return t&&a?new o(e,t,a,"1"===s):null}},{key:"hash",value:function(t){return(new e.sha256).update(t).digest("hex")}}])}();return li.Session=o,li}var Go,Zo={},Yo={};function Qo(){if(Go)return Yo;Go=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.Cipher=void 0;var e=_r(),t=function(){return C(function e(t){R(this,e),this.secret=t},[{key:"encrypt",value:(r=p(f().m(function t(r){var n,i,o,s,a,c,u,l,d,h;return f().w(function(t){for(;;)switch(t.n){case 0:if(64===(n=this.secret).length){t.n=1;break}throw Error("secret must be 256 bits");case 1:return i=crypto.getRandomValues(new Uint8Array(12)),t.n=2,crypto.subtle.importKey("raw",(0,e.hexStringToUint8Array)(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]);case 2:return o=t.v,s=new TextEncoder,t.n=3,window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},o,s.encode(r));case 3:return a=t.v,c=a.slice(a.byteLength-16),u=a.slice(0,a.byteLength-16),l=new Uint8Array(c),d=new Uint8Array(u),h=new Uint8Array([].concat(_(i),_(l),_(d))),t.a(2,(0,e.uint8ArrayToHex)(h))}},t,this)})),function(e){return r.apply(this,arguments)})},{key:"decrypt",value:(t=p(f().m(function t(r){var n;return f().w(function(t){for(;;)switch(t.n){case 0:if(64===(n=this.secret).length){t.n=1;break}throw Error("secret must be 256 bits");case 1:return t.a(2,new Promise(function(t,i){p(f().m(function o(){var s,a,c,u,l,d,h,p,v,g;return f().w(function(o){for(;;)switch(o.p=o.n){case 0:return o.n=1,crypto.subtle.importKey("raw",(0,e.hexStringToUint8Array)(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]);case 1:return s=o.v,a=(0,e.hexStringToUint8Array)(r),c=a.slice(0,12),u=a.slice(12,28),l=a.slice(28),d=new Uint8Array([].concat(_(l),_(u))),h={name:"AES-GCM",iv:new Uint8Array(c)},o.p=2,o.n=3,window.crypto.subtle.decrypt(h,s,d);case 3:p=o.v,v=new TextDecoder,t(v.decode(p)),o.n=5;break;case 4:o.p=4,g=o.v,i(g);case 5:return o.a(2)}},o,null,[[2,4]])}))()}))}},t,this)})),function(e){return t.apply(this,arguments)})}]);var t,r}();return Yo.Cipher=t,Yo}var Ko,Xo={};function $o(){if(Ko)return Xo;Ko=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.WalletLinkHTTP=void 0;var e=function(){return C(function e(t,r,n){R(this,e),this.linkAPIUrl=t,this.sessionId=r;var i="".concat(r,":").concat(n);this.auth="Basic ".concat(btoa(i))},[{key:"markUnseenEventsAsSeen",value:(t=p(f().m(function e(t){var r=this;return f().w(function(e){for(;;)if(0===e.n)return e.a(2,Promise.all(t.map(function(e){return fetch("".concat(r.linkAPIUrl,"/events/").concat(e.eventId,"/seen"),{method:"POST",headers:{Authorization:r.auth}})})).catch(function(e){return console.error("Unabled to mark event as failed:",e)}))},e)})),function(e){return t.apply(this,arguments)})},{key:"fetchUnseenEvents",value:(e=p(f().m(function e(){var t,r,n,i,o,s,a=this;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,fetch("".concat(this.linkAPIUrl,"/events?unseen=true"),{headers:{Authorization:this.auth}});case 1:if(!(r=e.v).ok){e.n=4;break}return e.n=2,r.json();case 2:if(n=e.v,i=n.events,!(o=n.error)){e.n=3;break}throw new Error("Check unseen events failed: ".concat(o));case 3:return s=null!==(t=null==i?void 0:i.filter(function(e){return"Web3Response"===e.event}).map(function(e){return{type:"Event",sessionId:a.sessionId,eventId:e.id,event:e.event,data:e.data}}))&&void 0!==t?t:[],this.markUnseenEventsAsSeen(s),e.a(2,s);case 4:throw new Error("Check unseen events failed: ".concat(r.status));case 5:return e.a(2)}},e,this)})),function(){return e.apply(this,arguments)})}]);var e,t}();return Xo.WalletLinkHTTP=e,Xo}var es,ts,rs={};function ns(){if(es)return rs;var e;es=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.WalletLinkWebSocket=rs.ConnectionState=void 0,function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"}(e||(rs.ConnectionState=e={}));var t=function(){return C(function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WebSocket;R(this,e),this.WebSocketClass=r,this.webSocket=null,this.pendingData=[],this.url=t.replace(/^http/,"ws")},[{key:"setConnectionStateListener",value:function(e){this.connectionStateListener=e}},{key:"setIncomingDataListener",value:function(e){this.incomingDataListener=e}},{key:"connect",value:(t=p(f().m(function t(){var r=this;return f().w(function(t){for(;;)switch(t.n){case 0:if(!this.webSocket){t.n=1;break}throw new Error("webSocket object is not null");case 1:return t.a(2,new Promise(function(t,n){var i,o;try{r.webSocket=o=new r.WebSocketClass(r.url)}catch(s){return void n(s)}null===(i=r.connectionStateListener)||void 0===i||i.call(r,e.CONNECTING),o.onclose=function(t){var i;r.clearWebSocket(),n(new Error("websocket error ".concat(t.code,": ").concat(t.reason))),null===(i=r.connectionStateListener)||void 0===i||i.call(r,e.DISCONNECTED)},o.onopen=function(n){var i;t(),null===(i=r.connectionStateListener)||void 0===i||i.call(r,e.CONNECTED),r.pendingData.length>0&&(_(r.pendingData).forEach(function(e){return r.sendData(e)}),r.pendingData=[])},o.onmessage=function(e){var t,n;if("h"===e.data)null===(t=r.incomingDataListener)||void 0===t||t.call(r,{type:"Heartbeat"});else try{var i=JSON.parse(e.data);null===(n=r.incomingDataListener)||void 0===n||n.call(r,i)}catch(o){}}}))}},t,this)})),function(){return t.apply(this,arguments)})},{key:"disconnect",value:function(){var t,r=this.webSocket;if(r){this.clearWebSocket(),null===(t=this.connectionStateListener)||void 0===t||t.call(this,e.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{r.close()}catch(n){}}}},{key:"sendData",value:function(e){var t=this.webSocket;if(!t)return this.pendingData.push(e),void this.connect();t.send(e)}},{key:"clearWebSocket",value:function(){var e=this.webSocket;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}]);var t}();return rs.WalletLinkWebSocket=t,rs}function is(){if(ts)return Zo;ts=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.WalletLinkConnection=void 0;var e=kr(),t=Qo(),r=Nr(),n=jr(),i=Jo(),o=$o(),s=ns(),a=function(){return C(function a(c){var u=this,l=c.session,d=c.linkAPIUrl,h=c.listener,v=c.diagnostic,g=c.WebSocketClass,y=void 0===g?WebSocket:g;R(this,a),this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,e.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=function(e){e&&new Map([["__destroyed",u.handleDestroyed],["EthereumAddress",u.handleAccountUpdated],["WalletUsername",u.handleWalletUsernameUpdated],["AppVersion",u.handleAppVersionUpdated],["ChainId",function(t){return e.JsonRpcUrl&&u.handleChainUpdated(t,e.JsonRpcUrl)}]]).forEach(function(t,r){var n=e[r];void 0!==n&&t(n)})},this.handleDestroyed=function(e){var t,n;"1"===e&&(null===(t=u.listener)||void 0===t||t.resetAndReload(),null===(n=u.diagnostic)||void 0===n||n.log(r.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:u.isDestroyed,sessionIdHash:i.Session.hash(u.session.id)}))},this.handleAccountUpdated=function(){var e=p(f().m(function e(t){var n,i,o;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,u.cipher.decrypt(t);case 1:o=e.v,null===(n=u.listener)||void 0===n||n.accountUpdated(o),e.n=3;break;case 2:e.p=2,e.v,null===(i=u.diagnostic)||void 0===i||i.log(r.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"});case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}(),this.handleMetadataUpdated=function(){var e=p(f().m(function e(t,n){var i,o,s;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,u.cipher.decrypt(n);case 1:s=e.v,null===(i=u.listener)||void 0===i||i.metadataUpdated(t,s),e.n=3;break;case 2:e.p=2,e.v,null===(o=u.diagnostic)||void 0===o||o.log(r.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:t});case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t,r){return e.apply(this,arguments)}}(),this.handleWalletUsernameUpdated=function(){var e=p(f().m(function e(t){return f().w(function(e){for(;;)switch(e.n){case 0:u.handleMetadataUpdated(n.WALLET_USER_NAME_KEY,t);case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),this.handleAppVersionUpdated=function(){var e=p(f().m(function e(t){return f().w(function(e){for(;;)switch(e.n){case 0:u.handleMetadataUpdated(n.APP_VERSION_KEY,t);case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),this.handleChainUpdated=function(){var e=p(f().m(function e(t,n){var i,o,s,a;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,u.cipher.decrypt(t);case 1:return s=e.v,e.n=2,u.cipher.decrypt(n);case 2:a=e.v,null===(i=u.listener)||void 0===i||i.chainUpdated(s,a),e.n=4;break;case 3:e.p=3,e.v,null===(o=u.diagnostic)||void 0===o||o.log(r.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"});case 4:return e.a(2)}},e,null,[[0,3]])}));return function(t,r){return e.apply(this,arguments)}}(),this.session=l,this.cipher=new t.Cipher(l.secret),this.diagnostic=v,this.listener=h;var m=new s.WalletLinkWebSocket("".concat(d,"/rpc"),y);m.setConnectionStateListener(function(){var e=p(f().m(function e(t){var n,o,a,c;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:null===(n=u.diagnostic)||void 0===n||n.log(r.EVENTS.CONNECTED_STATE_CHANGE,{state:t,sessionIdHash:i.Session.hash(l.id)}),o=!1,c=t,e.n=c===s.ConnectionState.DISCONNECTED?1:c===s.ConnectionState.CONNECTED?2:c===s.ConnectionState.CONNECTING?6:7;break;case 1:return u.destroyed||(a=function(){var e=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,new Promise(function(e){return setTimeout(e,5e3)});case 1:u.destroyed||m.connect().catch(function(){a()});case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),a()),e.a(3,7);case 2:return e.p=2,e.n=3,u.authenticate();case 3:u.sendIsLinked(),u.sendGetSessionConfig(),o=!0,e.n=5;break;case 4:e.p=4,e.v;case 5:return u.updateLastHeartbeat(),setInterval(function(){u.heartbeat()},1e4),u.shouldFetchUnseenEventsOnConnect&&u.fetchUnseenEventsAPI(),e.a(3,7);case 6:return e.a(3,7);case 7:u.connected!==o&&(u.connected=o);case 8:return e.a(2)}},e,null,[[2,4]])}));return function(t){return e.apply(this,arguments)}}()),m.setIncomingDataListener(function(e){var t,n,o;switch(e.type){case"Heartbeat":return void u.updateLastHeartbeat();case"IsLinkedOK":case"Linked":var s="IsLinkedOK"===e.type?e.linked:void 0;null===(t=u.diagnostic)||void 0===t||t.log(r.EVENTS.LINKED,{sessionIdHash:i.Session.hash(l.id),linked:s,type:e.type,onlineGuests:e.onlineGuests}),u.linked=s||e.onlineGuests>0;break;case"GetSessionConfigOK":case"SessionConfigUpdated":null===(n=u.diagnostic)||void 0===n||n.log(r.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:i.Session.hash(l.id),metadata_keys:e&&e.metadata?Object.keys(e.metadata):void 0}),u.handleSessionMetadataUpdated(e.metadata);break;case"Event":u.handleIncomingEvent(e)}void 0!==e.id&&(null===(o=u.requestResolutions.get(e.id))||void 0===o||o(e))}),this.ws=m,this.http=new o.WalletLinkHTTP(d,l.id,l.key)},[{key:"connect",value:function(){var e;if(this.destroyed)throw new Error("instance is destroyed");null===(e=this.diagnostic)||void 0===e||e.log(r.EVENTS.STARTED_CONNECTING,{sessionIdHash:i.Session.hash(this.session.id)}),this.ws.connect()}},{key:"destroy",value:function(){var e;this.destroyed=!0,this.ws.disconnect(),null===(e=this.diagnostic)||void 0===e||e.log(r.EVENTS.DISCONNECTED,{sessionIdHash:i.Session.hash(this.session.id)}),this.listener=void 0}},{key:"isDestroyed",get:function(){return this.destroyed}},{key:"connected",get:function(){return this._connected},set:function(e){var t,r;this._connected=e,e&&(null===(t=this.onceConnected)||void 0===t||t.call(this)),null===(r=this.listener)||void 0===r||r.connectedUpdated(e)}},{key:"setOnceConnected",value:function(e){var t=this;return new Promise(function(r){t.connected?e().then(r):t.onceConnected=function(){e().then(r),t.onceConnected=void 0}})}},{key:"linked",get:function(){return this._linked},set:function(e){var t,r;this._linked=e,e&&(null===(t=this.onceLinked)||void 0===t||t.call(this)),null===(r=this.listener)||void 0===r||r.linkedUpdated(e)}},{key:"setOnceLinked",value:function(e){var t=this;return new Promise(function(r){t.linked?e().then(r):t.onceLinked=function(){e().then(r),t.onceLinked=void 0}})}},{key:"handleIncomingEvent",value:(g=p(f().m(function e(t){var n,i,o,s;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:if("Event"===t.type&&"Web3Response"===t.event){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,this.cipher.decrypt(t.data);case 2:if(o=e.v,"WEB3_RESPONSE"===(s=JSON.parse(o)).type){e.n=3;break}return e.a(2);case 3:null===(n=this.listener)||void 0===n||n.handleWeb3ResponseMessage(s),e.n=5;break;case 4:e.p=4,e.v,null===(i=this.diagnostic)||void 0===i||i.log(r.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"});case 5:return e.a(2)}},e,this,[[1,4]])})),function(e){return g.apply(this,arguments)})},{key:"checkUnseenEvents",value:(h=p(f().m(function e(){var t;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.connected){e.n=1;break}return this.shouldFetchUnseenEventsOnConnect=!0,e.a(2);case 1:return e.n=2,new Promise(function(e){return setTimeout(e,250)});case 2:return e.p=2,e.n=3,this.fetchUnseenEventsAPI();case 3:e.n=5;break;case 4:e.p=4,t=e.v,console.error("Unable to check for unseen events",t);case 5:return e.a(2)}},e,this,[[2,4]])})),function(){return h.apply(this,arguments)})},{key:"fetchUnseenEventsAPI",value:(d=p(f().m(function e(){var t=this;return f().w(function(e){for(;;)switch(e.n){case 0:return this.shouldFetchUnseenEventsOnConnect=!1,e.n=1,this.http.fetchUnseenEvents();case 1:e.v.forEach(function(e){return t.handleIncomingEvent(e)});case 2:return e.a(2)}},e,this)})),function(){return d.apply(this,arguments)})},{key:"setSessionMetadata",value:(l=p(f().m(function t(r,n){var i,o=this;return f().w(function(t){for(;;)if(0===t.n)return i={type:"SetSessionConfig",id:(0,e.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:v({},r,n)},t.a(2,this.setOnceConnected(p(f().m(function e(){var t;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,o.makeRequest(i);case 1:if("Fail"!==(t=e.v).type){e.n=2;break}throw new Error(t.error||"failed to set session metadata");case 2:return e.a(2)}},e)}))))},t,this)})),function(e,t){return l.apply(this,arguments)})},{key:"publishEvent",value:(u=p(f().m(function t(r,n){var i,o,s,a=this,c=arguments;return f().w(function(t){for(;;)switch(t.n){case 0:return i=c.length>2&&void 0!==c[2]&&c[2],t.n=1,this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,relaySource:window.coinbaseWalletExtension?"injected_sdk":"sdk"})));case 1:return o=t.v,s={type:"PublishEvent",id:(0,e.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:r,data:o,callWebhook:i},t.a(2,this.setOnceLinked(p(f().m(function e(){var t;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,a.makeRequest(s);case 1:if("Fail"!==(t=e.v).type){e.n=2;break}throw new Error(t.error||"failed to publish event");case 2:return e.a(2,t.eventId)}},e)}))))}},t,this)})),function(e,t){return u.apply(this,arguments)})},{key:"sendData",value:function(e){this.ws.sendData(JSON.stringify(e))}},{key:"updateLastHeartbeat",value:function(){this.lastHeartbeatResponse=Date.now()}},{key:"heartbeat",value:function(){if(Date.now()-this.lastHeartbeatResponse>2e4)this.ws.disconnect();else try{this.ws.sendData("h")}catch(e){}}},{key:"makeRequest",value:(c=p(f().m(function e(t){var r,n,i,o=this,s=arguments;return f().w(function(e){for(;;)if(0===e.n)return r=s.length>1&&void 0!==s[1]?s[1]:6e4,n=t.id,this.sendData(t),e.a(2,Promise.race([new Promise(function(e,t){i=window.setTimeout(function(){t(new Error("request ".concat(n," timed out")))},r)}),new Promise(function(e){o.requestResolutions.set(n,function(t){clearTimeout(i),e(t),o.requestResolutions.delete(n)})})]))},e,this)})),function(e){return c.apply(this,arguments)})},{key:"authenticate",value:(a=p(f().m(function t(){var r,n;return f().w(function(t){for(;;)switch(t.n){case 0:return r={type:"HostSession",id:(0,e.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},t.n=1,this.makeRequest(r);case 1:if("Fail"!==(n=t.v).type){t.n=2;break}throw new Error(n.error||"failed to authentcate");case 2:return t.a(2)}},t,this)})),function(){return a.apply(this,arguments)})},{key:"sendIsLinked",value:function(){var t={type:"IsLinked",id:(0,e.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}},{key:"sendGetSessionConfig",value:function(){var t={type:"GetSessionConfig",id:(0,e.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}}]);var a,c,u,l,d,h,g}();return Zo.WalletLinkConnection=a,Zo}var os,ss,as={},cs={},us={};function ls(){return os||(os=1,Object.defineProperty(us,"__esModule",{value:!0}),us.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}'),us}function fs(){if(ss)return cs;ss=1;var e=cs&&cs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cs,"__esModule",{value:!0}),cs.injectCssReset=void 0;var t=e(ls());return cs.injectCssReset=function(){var e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(t.default)),document.documentElement.appendChild(e)},cs}var ds={},hs=w(M),ps={};function vs(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==L(e))if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=vs(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function gs(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=vs(e))&&(n&&(n+=" "),n+=t);return n}var ys,ms=Object.freeze(Object.defineProperty({__proto__:null,clsx:gs,default:gs},Symbol.toStringTag,{value:"Module"})),bs=w(ms),ws=w(O),ks={},_s={};function Es(){if(ys)return _s;ys=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.CloseIcon=void 0;var e=hs;return _s.CloseIcon=function(t){return(0,e.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,e.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))},_s}var Ss,Rs={};function Is(){if(Ss)return Rs;Ss=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.CoinbaseWalletRound=void 0;var e=hs;return Rs.CoinbaseWalletRound=function(t){return(0,e.h)("svg",Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,e.h)("circle",{cx:"14",cy:"14",r:"14",fill:"#0052FF"}),(0,e.h)("path",{d:"M23.8521 14.0003C23.8521 19.455 19.455 23.8521 14.0003 23.8521C8.54559 23.8521 4.14844 19.455 4.14844 14.0003C4.14844 8.54559 8.54559 4.14844 14.0003 4.14844C19.455 4.14844 23.8521 8.54559 23.8521 14.0003Z",fill:"white"}),(0,e.h)("path",{d:"M11.1855 12.5042C11.1855 12.0477 11.1855 11.7942 11.2835 11.642C11.3814 11.4899 11.4793 11.3377 11.6261 11.287C11.8219 11.1855 12.0178 11.1855 12.5073 11.1855H15.4934C15.983 11.1855 16.1788 11.1855 16.3746 11.287C16.5215 11.3884 16.6683 11.4899 16.7173 11.642C16.8152 11.8449 16.8152 12.0477 16.8152 12.5042V15.4965C16.8152 15.953 16.8152 16.2066 16.7173 16.3587C16.6194 16.5109 16.5215 16.663 16.3746 16.7137C16.1788 16.8152 15.983 16.8152 15.4934 16.8152H12.5073C12.0178 16.8152 11.8219 16.8152 11.6261 16.7137C11.4793 16.6123 11.3324 16.5109 11.2835 16.3587C11.1855 16.1558 11.1855 15.953 11.1855 15.4965V12.5042Z",fill:"#0052FF"}))},Rs}var Cs,As={};function xs(){if(Cs)return As;Cs=1,Object.defineProperty(As,"__esModule",{value:!0}),As.QRCodeIcon=void 0;var e=hs;return As.QRCodeIcon=function(t){return(0,e.h)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},t),(0,e.h)("path",{d:"M3 3V8.99939L5 8.99996V5H9V3H3Z"}),(0,e.h)("path",{d:"M15 21L21 21V15.0006L19 15V19L15 19V21Z"}),(0,e.h)("path",{d:"M21 9H19V5H15.0006L15 3H21V9Z"}),(0,e.h)("path",{d:"M3 15V21H8.99939L8.99996 19H5L5 15H3Z"}))},As}var Ms,Os,Ps,Ns={};function Ls(){if(Os)return Ms;function e(e){this.mode=r.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,n=this.data.length;t<n;t++){var i=[],o=this.data.charCodeAt(t);o>65536?(i[0]=240|(1835008&o)>>>18,i[1]=128|(258048&o)>>>12,i[2]=128|(4032&o)>>>6,i[3]=128|63&o):o>2048?(i[0]=224|(61440&o)>>>12,i[1]=128|(4032&o)>>>6,i[2]=128|63&o):o>128?(i[0]=192|(1984&o)>>>6,i[1]=128|63&o):i[0]=o,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function t(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Os=1,e.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}},t.prototype={addData:function(t){var r=new e(t);this.dataList.push(r),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,r){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,r),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(this.modules[e+r][t+n]=0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=v.getLostPoint(this);(0==r||e>n)&&(e=n,t=r)}return t},createMovieClip:function(e,t,r){var n=e.createEmptyMovieClip(t,r);this.make();for(var i=0;i<this.modules.length;i++)for(var o=1*i,s=0;s<this.modules[i].length;s++){var a=1*s;this.modules[i][s]&&(n.beginFill(0,100),n.moveTo(a,o),n.lineTo(a+1,o),n.lineTo(a+1,o+1),n.lineTo(a,o+1),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=v.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],i=e[r];if(null==this.modules[n][i])for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)this.modules[n+o][i+s]=-2==o||2==o||-2==s||2==s||0==o&&0==s}},setupTypeNumber:function(e){for(var t=v.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&1==(t>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(r=0;r<18;r++){n=!e&&1==(t>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=v.getBCHTypeInfo(r),i=0;i<15;i++){var o=!e&&1==(n>>i&1);i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(i=0;i<15;i++){o=!e&&1==(n>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,i=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var a=0;a<2;a++)if(null==this.modules[n][s-a]){var c=!1;o<e.length&&(c=1==(e[o]>>>i&1)),v.getMask(t,n,s-a)&&(c=!c),this.modules[n][s-a]=c,-1==--i&&(o++,i=7)}if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}}},t.PAD0=236,t.PAD1=17,t.createData=function(e,r,n){for(var i=b.getRSBlocks(e,r),o=new w,s=0;s<n.length;s++){var a=n[s];o.put(a.mode,4),o.put(a.getLength(),v.getLengthInBits(a.mode,e)),a.write(o)}var c=0;for(s=0;s<i.length;s++)c+=i[s].dataCount;if(o.getLengthInBits()>8*c)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+8*c+")");for(o.getLengthInBits()+4<=8*c&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*c||(o.put(t.PAD0,8),o.getLengthInBits()>=8*c));)o.put(t.PAD1,8);return t.createBytes(o,i)},t.createBytes=function(e,t){for(var r=0,n=0,i=0,o=new Array(t.length),s=new Array(t.length),a=0;a<t.length;a++){var c=t[a].dataCount,u=t[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,u),o[a]=new Array(c);for(var l=0;l<o[a].length;l++)o[a][l]=255&e.buffer[l+r];r+=c;var f=v.getErrorCorrectPolynomial(u),d=new m(o[a],f.getLength()-1).mod(f);s[a]=new Array(f.getLength()-1);for(l=0;l<s[a].length;l++){var h=l+d.getLength()-s[a].length;s[a][l]=h>=0?d.get(h):0}}var p=0;for(l=0;l<t.length;l++)p+=t[l].totalCount;var g=new Array(p),y=0;for(l=0;l<n;l++)for(a=0;a<t.length;a++)l<o[a].length&&(g[y++]=o[a][l]);for(l=0;l<i;l++)for(a=0;a<t.length;a++)l<s[a].length&&(g[y++]=s[a][l]);return g};for(var r={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n=1,i=0,o=3,s=2,a=0,c=1,u=2,l=3,f=4,d=5,h=6,p=7,v={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;v.getBCHDigit(t)-v.getBCHDigit(v.G15)>=0;)t^=v.G15<<v.getBCHDigit(t)-v.getBCHDigit(v.G15);return(e<<10|t)^v.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;v.getBCHDigit(t)-v.getBCHDigit(v.G18)>=0;)t^=v.G18<<v.getBCHDigit(t)-v.getBCHDigit(v.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return v.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case a:return(t+r)%2==0;case c:return t%2==0;case u:return r%3==0;case l:return(t+r)%3==0;case f:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case d:return t*r%2+t*r%3==0;case h:return(t*r%2+t*r%3)%2==0;case p:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new m([1],0),r=0;r<e;r++)t=t.multiply(new m([1,g.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var i=0;i<t;i++){for(var o=0,s=e.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||t<=n+a))for(var c=-1;c<=1;c++)i+c<0||t<=i+c||0==a&&0==c||s==e.isDark(n+a,i+c)&&o++;o>5&&(r+=3+o-5)}for(n=0;n<t-1;n++)for(i=0;i<t-1;i++){var u=0;e.isDark(n,i)&&u++,e.isDark(n+1,i)&&u++,e.isDark(n,i+1)&&u++,e.isDark(n+1,i+1)&&u++,0!=u&&4!=u||(r+=3)}for(n=0;n<t;n++)for(i=0;i<t-6;i++)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(r+=40);for(i=0;i<t;i++)for(n=0;n<t-6;n++)e.isDark(n,i)&&!e.isDark(n+1,i)&&e.isDark(n+2,i)&&e.isDark(n+3,i)&&e.isDark(n+4,i)&&!e.isDark(n+5,i)&&e.isDark(n+6,i)&&(r+=40);var l=0;for(i=0;i<t;i++)for(n=0;n<t;n++)e.isDark(n,i)&&l++;return r+=10*(Math.abs(100*l/t/t-50)/5)}},g={glog:function(e){if(e<1)throw new Error("glog("+e+")");return g.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return g.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},y=0;y<8;y++)g.EXP_TABLE[y]=1<<y;for(y=8;y<256;y++)g.EXP_TABLE[y]=g.EXP_TABLE[y-4]^g.EXP_TABLE[y-5]^g.EXP_TABLE[y-6]^g.EXP_TABLE[y-8];for(y=0;y<255;y++)g.LOG_TABLE[g.EXP_TABLE[y]]=y;function m(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&0==e[r];)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}function b(e,t){this.totalCount=e,this.dataCount=t}function w(){this.buffer=[],this.length=0}m.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=g.gexp(g.glog(this.get(r))+g.glog(e.get(n)));return new m(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=g.glog(this.get(0))-g.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(n=0;n<e.getLength();n++)r[n]^=g.gexp(g.glog(e.get(n))+t);return new m(r,0).mod(e)}},b.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],b.getRSBlocks=function(e,t){var r=b.getRsBlockTable(e,t);if(null==r)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,i=[],o=0;o<n;o++)for(var s=r[3*o+0],a=r[3*o+1],c=r[3*o+2],u=0;u<s;u++)i.push(new b(a,c));return i},b.getRsBlockTable=function(e,t){switch(t){case n:return b.RS_BLOCK_TABLE[4*(e-1)+0];case i:return b.RS_BLOCK_TABLE[4*(e-1)+1];case o:return b.RS_BLOCK_TABLE[4*(e-1)+2];case s:return b.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},w.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var k=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function _(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},"string"==typeof e&&(e={content:e}),e)for(var r in e)this.options[r]=e[r];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var a=this.options.content,c=function(e,t){for(var r=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}(e),n=1,i=0,o=0,s=k.length;o<=s;o++){var a=k[o];if(!a)throw new Error("Content too long: expected "+i+" but got "+r);switch(t){case"L":i=a[0];break;case"M":i=a[1];break;case"Q":i=a[2];break;case"H":i=a[3];break;default:throw new Error("Unknwon error correction level: "+t)}if(r<=i)break;n++}if(n>k.length)throw new Error("Content too long");return n}(a,this.options.ecl),u=function(e){switch(e){case"L":return n;case"M":return i;case"Q":return o;case"H":return s;default:throw new Error("Unknwon error correction level: "+e)}}(this.options.ecl);this.qrcode=new t(c,u),this.qrcode.addData(a),this.qrcode.make()}return _.prototype.svg=function(e){var t=this.options||{},r=this.qrcode.modules;void 0===e&&(e={container:t.container||"svg"});for(var n=void 0===t.pretty||!!t.pretty,i=n?"  ":"",o=n?"\r\n":"",s=t.width,a=t.height,c=r.length,u=s/(c+2*t.padding),l=a/(c+2*t.padding),f=void 0!==t.join&&!!t.join,d=void 0!==t.swap&&!!t.swap,h=void 0===t.xmlDeclaration||!!t.xmlDeclaration,p=void 0!==t.predefined&&!!t.predefined,v=p?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+u+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+o:"",g=i+'<rect x="0" y="0" width="'+s+'" height="'+a+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+o,y="",m="",b=0;b<c;b++)for(var w=0;w<c;w++){if(r[w][b]){var k=w*u+t.padding*u,_=b*l+t.padding*l;if(d){var E=k;k=_,_=E}if(f){var S=u+k,R=l+_;k=Number.isInteger(k)?Number(k):k.toFixed(2),_=Number.isInteger(_)?Number(_):_.toFixed(2),S=Number.isInteger(S)?Number(S):S.toFixed(2),m+="M"+k+","+_+" V"+(R=Number.isInteger(R)?Number(R):R.toFixed(2))+" H"+S+" V"+_+" H"+k+" Z "}else y+=p?i+'<use x="'+k.toString()+'" y="'+_.toString()+'" href="#qrmodule" />'+o:i+'<rect x="'+k.toString()+'" y="'+_.toString()+'" width="'+u+'" height="'+l+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+o}}f&&(y=i+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+m+'" />');var I="";if(void 0!==this.options.image&&this.options.image.svg){var C=s*this.options.image.width/100,A=a*this.options.image.height/100,x=a/2-A/2;I+='<svg x="'.concat(s/2-C/2,'" y="').concat(x,'" width="').concat(C,'" height="').concat(A,'" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">'),I+=this.options.image.svg+o,I+="</svg>"}var M="";switch(e.container){case"svg":h&&(M+='<?xml version="1.0" standalone="yes"?>'+o),M+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+s+'" height="'+a+'">'+o,M+=v+g+y,M+=I,M+="</svg>";break;case"svg-viewbox":h&&(M+='<?xml version="1.0" standalone="yes"?>'+o),M+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+s+" "+a+'">'+o,M+=v+g+y,M+=I,M+="</svg>";break;case"g":M+='<g width="'+s+'" height="'+a+'">'+o,M+=v+g+y,M+=I,M+="</g>";break;default:M+=(v+g+y+I).replace(/^\s+/,"")}return M},Ms=_}function Ts(){if(Ps)return Ns;Ps=1;var e=Ns&&Ns.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.QRCode=void 0;var t=hs,r=ws,n=e(Ls());return Ns.QRCode=function(e){var i=x((0,r.useState)(""),2),o=i[0],s=i[1];return(0,r.useEffect)(function(){var t,r,i=new n.default({content:e.content,background:e.bgColor||"#ffffff",color:e.fgColor||"#000000",container:"svg",ecl:"M",width:null!==(t=e.width)&&void 0!==t?t:256,height:null!==(r=e.height)&&void 0!==r?r:256,padding:0,image:e.image}),o=Buffer.from(i.svg(),"utf8").toString("base64");s("data:image/svg+xml;base64,".concat(o))},[e.bgColor,e.content,e.fgColor,e.height,e.image,e.width]),o?(0,t.h)("img",{src:o,alt:"QR Code"}):null},Ns}var js,Bs,Ds={},Fs={};function Us(){return js||(js=1,Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}"),Fs}function Hs(){if(Bs)return Ds;Bs=1;var e=Ds&&Ds.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.Spinner=void 0;var t=hs,r=e(Us());return Ds.Spinner=function(e){var n,i=null!==(n=e.size)&&void 0!==n?n:64,o=e.color||"#000";return(0,t.h)("div",{class:"-cbwsdk-spinner"},(0,t.h)("style",null,r.default),(0,t.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:i,height:i}},(0,t.h)("circle",{style:{cx:50,cy:50,r:45,stroke:o}})))},Ds}var Ws,qs,Vs={};function zs(){return Ws||(Ws=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer;border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}"),Vs}function Js(){if(qs)return ks;qs=1;var e=ks&&ks.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ks,"__esModule",{value:!0}),ks.CoinbaseWalletSteps=ks.ConnectContent=void 0;var t=e(bs),r=hs,n=_r(),i=vr(),o=Es(),s=Is(),a=xs(),c=Ts(),u=Hs(),l=e(zs()),f="Coinbase Wallet app",d="Connect with your self-custody wallet",h=g,p=function(e){return"light"===e?"#FFFFFF":"#0A0B0D"};function v(e){var n=e.title,i=e.description,o=e.theme;return(0,r.h)("div",{className:(0,t.default)("-cbwsdk-connect-item",o)},(0,r.h)("div",null,(0,r.h)(s.CoinbaseWalletRound,null)),(0,r.h)("div",{className:"-cbwsdk-connect-item-copy-wrapper"},(0,r.h)("h3",{className:"-cbwsdk-connect-item-title"},n),(0,r.h)("p",{className:"-cbwsdk-connect-item-description"},i)))}function g(e){var n=e.theme;return(0,r.h)("ol",{className:"-cbwsdk-wallet-steps"},(0,r.h)("li",{className:(0,t.default)("-cbwsdk-wallet-steps-item",n)},(0,r.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,r.h)("li",{className:(0,t.default)("-cbwsdk-wallet-steps-item",n)},(0,r.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},(0,r.h)("span",null,"Tap ",(0,r.h)("strong",null,"Scan")," "),(0,r.h)("span",{className:(0,t.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",n)},(0,r.h)(a.QRCodeIcon,{fill:p(n)})))))}return ks.ConnectContent=function(e){var s=e.theme,a=(0,n.createQrUrl)(e.sessionId,e.sessionSecret,e.linkAPIUrl,e.isParentConnection,e.version,e.chainId),p=h;return(0,r.h)("div",{"data-testid":"connect-content",className:(0,t.default)("-cbwsdk-connect-content",s)},(0,r.h)("style",null,l.default),(0,r.h)("div",{className:"-cbwsdk-connect-content-header"},(0,r.h)("h2",{className:(0,t.default)("-cbwsdk-connect-content-heading",s)},"Scan to connect with our mobile app"),e.onCancel&&(0,r.h)("button",{type:"button",className:"-cbwsdk-cancel-button",onClick:e.onCancel},(0,r.h)(o.CloseIcon,{fill:"light"===s?"#0A0B0D":"#FFFFFF"}))),(0,r.h)("div",{className:"-cbwsdk-connect-content-layout"},(0,r.h)("div",{className:"-cbwsdk-connect-content-column-left"},(0,r.h)(v,{title:f,description:d,theme:s})),(0,r.h)("div",{className:"-cbwsdk-connect-content-column-right"},(0,r.h)("div",{className:"-cbwsdk-connect-content-qr-wrapper"},(0,r.h)(c.QRCode,{content:a,width:200,height:200,fgColor:"#000",bgColor:"transparent"}),(0,r.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:i.LIB_VERSION}),(0,r.h)("input",{type:"hidden",value:a})),(0,r.h)(p,{theme:s}),!e.isConnected&&(0,r.h)("div",{"data-testid":"connecting-spinner",className:(0,t.default)("-cbwsdk-connect-content-qr-connecting",s)},(0,r.h)(u.Spinner,{size:36,color:"dark"===s?"#FFF":"#000"}),(0,r.h)("p",null,"Connecting...")))))},ks.CoinbaseWalletSteps=g,ks}var Gs,Zs={},Ys={};function Qs(){if(Gs)return Ys;Gs=1,Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.ArrowLeftIcon=void 0;var e=hs;return Ys.ArrowLeftIcon=function(t){return(0,e.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,e.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))},Ys}var Ks,Xs={};function $s(){if(Ks)return Xs;Ks=1,Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.LaptopIcon=void 0;var e=hs;return Xs.LaptopIcon=function(t){return(0,e.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,e.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,e.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))},Xs}var ea,ta={};function ra(){if(ea)return ta;ea=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.SafeIcon=void 0;var e=hs;return ta.SafeIcon=function(t){return(0,e.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))},ta}var na,ia,oa={};function sa(){return na||(na=1,Object.defineProperty(oa,"__esModule",{value:!0}),oa.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}"),oa}function aa(){if(ia)return Zs;ia=1;var e=Zs&&Zs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.TryExtensionContent=void 0;var t=e(bs),r=hs,n=ws,i=Qs(),o=$s(),s=ra(),a=e(sa());return Zs.TryExtensionContent=function(e){var c=e.theme,u=x((0,n.useState)(!1),2),l=u[0],f=u[1],d=(0,n.useCallback)(function(){window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),h=(0,n.useCallback)(function(){l?window.location.reload():(d(),f(!0))},[d,l]);return(0,r.h)("div",{class:(0,t.default)("-cbwsdk-try-extension",c)},(0,r.h)("style",null,a.default),(0,r.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,r.h)("h3",{class:(0,t.default)("-cbwsdk-try-extension-heading",c)},"Or try the Coinbase Wallet browser extension"),(0,r.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,r.h)("button",{class:(0,t.default)("-cbwsdk-try-extension-cta",c),onClick:h},l?"Refresh":"Install"),(0,r.h)("div",null,!l&&(0,r.h)(i.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:"light"===c?"#0052FF":"#588AF5"})))),(0,r.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,r.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,r.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,r.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,r.h)("span",{class:(0,t.default)("-cbwsdk-try-extension-list-item-icon",c)},(0,r.h)(o.LaptopIcon,{fill:"light"===c?"#0A0B0D":"#FFFFFF"}))),(0,r.h)("div",{class:(0,t.default)("-cbwsdk-try-extension-list-item-copy",c)},"Connect with dapps with just one click on your desktop browser")),(0,r.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,r.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,r.h)("span",{class:(0,t.default)("-cbwsdk-try-extension-list-item-icon",c)},(0,r.h)(s.SafeIcon,{fill:"light"===c?"#0A0B0D":"#FFFFFF"}))),(0,r.h)("div",{class:(0,t.default)("-cbwsdk-try-extension-list-item-copy",c)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))},Zs}var ca,ua,la,fa={};function da(){return ca||(ca=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}"),fa}function ha(){if(ua)return ps;ua=1;var e=ps&&ps.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ps,"__esModule",{value:!0}),ps.ConnectDialog=void 0;var t=e(bs),r=hs,n=ws,i=Js(),o=aa(),s=e(da());return ps.ConnectDialog=function(e){var a=e.isOpen,c=e.darkMode,u=x((0,n.useState)(!a),2),l=u[0],f=u[1],d=x((0,n.useState)(!a),2),h=d[0],p=d[1];(0,n.useEffect)(function(){var e=[window.setTimeout(function(){p(!a)},10)];return a?f(!1):e.push(window.setTimeout(function(){f(!0)},360)),function(){e.forEach(window.clearTimeout)}},[a]);var v=c?"dark":"light";return(0,r.h)("div",{class:(0,t.default)("-cbwsdk-connect-dialog-container",l&&"-cbwsdk-connect-dialog-container-hidden")},(0,r.h)("style",null,s.default),(0,r.h)("div",{class:(0,t.default)("-cbwsdk-connect-dialog-backdrop",v,h&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,r.h)("div",{class:"-cbwsdk-connect-dialog"},(0,r.h)("div",{class:(0,t.default)("-cbwsdk-connect-dialog-box",h&&"-cbwsdk-connect-dialog-box-hidden")},e.connectDisabled?null:(0,r.h)(i.ConnectContent,{theme:v,version:e.version,sessionId:e.sessionId,sessionSecret:e.sessionSecret,linkAPIUrl:e.linkAPIUrl,isConnected:e.isConnected,isParentConnection:e.isParentConnection,chainId:e.chainId,onCancel:e.onCancel}),(0,r.h)(o.TryExtensionContent,{theme:v}))))},ps}function pa(){if(la)return ds;la=1,Object.defineProperty(ds,"__esModule",{value:!0}),ds.LinkFlow=void 0;var e=hs,t=ha(),r=function(){return C(function e(t){R(this,e),this.connected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=t.darkMode,this.version=t.version,this.sessionId=t.sessionId,this.sessionSecret=t.sessionSecret,this.linkAPIUrl=t.linkAPIUrl,this.isParentConnection=t.isParentConnection},[{key:"attach",value:function(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render()}},{key:"setConnected",value:function(e){this.connected!==e&&(this.connected=e,this.render())}},{key:"setChainId",value:function(e){this.chainId!==e&&(this.chainId=e,this.render())}},{key:"detach",value:function(){var t;this.root&&((0,e.render)(null,this.root),null===(t=this.root.parentElement)||void 0===t||t.removeChild(this.root))}},{key:"setConnectDisabled",value:function(e){this.connectDisabled=e}},{key:"open",value:function(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}},{key:"close",value:function(){this.isOpen=!1,this.onCancel=null,this.render()}},{key:"render",value:function(){this.root&&(0,e.render)((0,e.h)(t.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.connected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)}}])}();return ds.LinkFlow=r,ds}var va,ga,ya,ma,ba={},wa={};function ka(){return va||(va=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}"),wa}function _a(){return ga||(ga=1,function(e){var t=ba&&ba.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.SnackbarInstance=e.SnackbarContainer=e.Snackbar=void 0;var r=t(bs),n=hs,i=ws,o=t(ka()),s=function(){return C(function e(t){R(this,e),this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=t.darkMode},[{key:"attach",value:function(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}},{key:"presentItem",value:function(e){var t=this,r=this.nextItemKey++;return this.items.set(r,e),this.render(),function(){t.items.delete(r),t.render()}}},{key:"clear",value:function(){this.items.clear(),this.render()}},{key:"render",value:function(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(e.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(function(t){var r=x(t,2),i=r[0],o=r[1];return(0,n.h)(e.SnackbarInstance,Object.assign({},o,{key:i}))}))),this.root)}}])}();e.Snackbar=s;e.SnackbarContainer=function(e){return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,o.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},e.children))};e.SnackbarInstance=function(e){var t=e.autoExpand,o=e.message,s=e.menuItems,a=x((0,i.useState)(!0),2),c=a[0],u=a[1],l=x((0,i.useState)(null!=t&&t),2),f=l[0],d=l[1];(0,i.useEffect)(function(){var e=[window.setTimeout(function(){u(!1)},1),window.setTimeout(function(){d(!0)},1e4)];return function(){e.forEach(window.clearTimeout)}});return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",c&&"-cbwsdk-snackbar-instance-hidden",f&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:function(){d(!f)}},(0,n.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},o),(0,n.h)("div",{class:"-gear-container"},!f&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=",class:"-gear-icon",title:"Expand"}))),s&&s.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},s.map(function(e,t){return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:e.onClick,key:t},(0,n.h)("svg",{width:e.svgWidth,height:e.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":e.defaultFillRule,"clip-rule":e.defaultClipRule,d:e.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},e.info))})))}}(ba)),ba}function Ea(){if(ya)return as;ya=1,Object.defineProperty(as,"__esModule",{value:!0}),as.WalletLinkRelayUI=void 0;var e=fs(),t=pa(),r=_a(),n=function(){return C(function e(n){R(this,e),this.standalone=null,this.attached=!1,this.snackbar=new r.Snackbar({darkMode:n.darkMode}),this.linkFlow=new t.LinkFlow({darkMode:n.darkMode,version:n.version,sessionId:n.session.id,sessionSecret:n.session.secret,linkAPIUrl:n.linkAPIUrl,isParentConnection:!1})},[{key:"attach",value:function(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");var t=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",t.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,e.injectCssReset)()}},{key:"setConnected",value:function(e){this.linkFlow.setConnected(e)}},{key:"setChainId",value:function(e){this.linkFlow.setChainId(e)}},{key:"setConnectDisabled",value:function(e){this.linkFlow.setConnectDisabled(e)}},{key:"addEthereumChain",value:function(){}},{key:"watchAsset",value:function(){}},{key:"switchEthereumChain",value:function(){}},{key:"requestEthereumAccounts",value:function(e){this.linkFlow.open({onCancel:e.onCancel})}},{key:"hideRequestEthereumAccounts",value:function(){this.linkFlow.close()}},{key:"signEthereumMessage",value:function(){}},{key:"signEthereumTransaction",value:function(){}},{key:"submitEthereumTransaction",value:function(){}},{key:"ethereumAddressFromSignedMessage",value:function(){}},{key:"showConnecting",value:function(e){var t;return t=e.isUnlinkedErrorState?{autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:{message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(t)}},{key:"reloadUI",value:function(){document.location.reload()}},{key:"inlineAccountsResponse",value:function(){return!1}},{key:"inlineAddEthereumChain",value:function(){return!1}},{key:"inlineWatchAsset",value:function(){return!1}},{key:"inlineSwitchEthereumChain",value:function(){return!1}},{key:"setStandalone",value:function(e){this.standalone=e}},{key:"isStandalone",value:function(){var e;return null!==(e=this.standalone)&&void 0!==e&&e}}])}();return as.WalletLinkRelayUI=n,as}function Sa(){if(ma)return Or;ma=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.WalletLinkRelay=void 0;var e=yr(),t=kr(),r=_r(),n=Nr(),i=jr(),o=Jo(),s=is(),a=lr(),c=Ea(),u=function(u){function l(e){var t,r;R(this,l),(t=g(this,l)).accountsCallback=null,t.chainCallbackParams={chainId:"",jsonRpcUrl:""},t.chainCallback=null,t.dappDefaultChain=1,t.appName="",t.appLogoUrl=null,t.linkedUpdated=function(e){var r;t.isLinked=e;var o=t.storage.getItem(i.LOCAL_STORAGE_ADDRESSES_KEY);if(e&&(t.session.linked=e),t.isUnlinkedErrorState=!1,o){var s=o.split(" "),a="true"===t.storage.getItem("IsStandaloneSigning");if(""!==s[0]&&!e&&t.session.linked&&!a){t.isUnlinkedErrorState=!0;var c=t.getSessionIdHash();null===(r=t.diagnostic)||void 0===r||r.log(n.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:c})}}},t.metadataUpdated=function(e,r){t.storage.setItem(e,r)},t.chainUpdated=function(e,r){t.chainCallbackParams.chainId===e&&t.chainCallbackParams.jsonRpcUrl===r||(t.chainCallbackParams={chainId:e,jsonRpcUrl:r},t.chainCallback&&t.chainCallback(e,r))},t.accountUpdated=function(e){t.accountsCallback&&t.accountsCallback([e]),l.accountRequestCallbackIds.size>0&&(Array.from(l.accountRequestCallbackIds.values()).forEach(function(r){var n={type:"WEB3_RESPONSE",id:r,response:{method:"requestEthereumAccounts",result:[e]}};t.invokeCallback(Object.assign(Object.assign({},n),{id:r}))}),l.accountRequestCallbackIds.clear())},t.connectedUpdated=function(e){t.ui.setConnected(e)},t.resetAndReload=t.resetAndReload.bind(t),t.linkAPIUrl=e.linkAPIUrl,t.storage=e.storage,t.options=e;var o=t.subscribe(),s=o.session,a=o.ui,c=o.connection;return t._session=s,t.connection=c,t.relayEventManager=e.relayEventManager,t.diagnostic=e.diagnosticLogger,t._reloadOnDisconnect=null===(r=e.reloadOnDisconnect)||void 0===r||r,t.ui=a,t}return y(l,u),C(l,[{key:"subscribe",value:function(){var e=o.Session.load(this.storage)||new o.Session(this.storage).save(),t=this.linkAPIUrl,r=this.diagnostic,n=new s.WalletLinkConnection({session:e,linkAPIUrl:t,diagnostic:r,listener:this}),i=this.options,a=i.version,c=i.darkMode,u=this.options.uiConstructor({linkAPIUrl:t,version:a,darkMode:c,session:e});return n.connect(),{session:e,ui:u,connection:n}}},{key:"attachUI",value:function(){this.ui.attach()}},{key:"resetAndReload",value:function(){var e=this;Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(function(e){return setTimeout(function(){return e(null)},1e3)})]).then(function(){var t,r,i=e.ui.isStandalone();null===(t=e.diagnostic)||void 0===t||t.log(n.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:e.getSessionIdHash()}),e.connection.destroy();var s=o.Session.load(e.storage);if((null==s?void 0:s.id)===e._session.id?e.storage.clear():s&&(null===(r=e.diagnostic)||void 0===r||r.log(n.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:e.getSessionIdHash(),storedSessionIdHash:o.Session.hash(s.id)})),e._reloadOnDisconnect)e.ui.reloadUI();else{e.accountsCallback&&e.accountsCallback([],!0);var a=e.subscribe(),c=a.session,u=a.ui,l=a.connection;e._session=c,e.connection=l,e.ui=u,i&&e.ui.setStandalone&&e.ui.setStandalone(!0),e.options.headlessMode||e.attachUI()}}).catch(function(t){var r;null===(r=e.diagnostic)||void 0===r||r.log(n.EVENTS.FAILURE,{method:"relay::resetAndReload",message:"failed to reset and reload with ".concat(t),sessionIdHash:e.getSessionIdHash()})})}},{key:"setAppInfo",value:function(e,t){this.appName=e,this.appLogoUrl=t}},{key:"getStorageItem",value:function(e){return this.storage.getItem(e)}},{key:"session",get:function(){return this._session}},{key:"setStorageItem",value:function(e,t){this.storage.setItem(e,t)}},{key:"signEthereumMessage",value:function(e,t,n,i){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,r.hexStringFromBuffer)(e,!0),address:t,addPrefix:n,typedDataJson:i||null}})}},{key:"ethereumAddressFromSignedMessage",value:function(e,t,n){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,r.hexStringFromBuffer)(e,!0),signature:(0,r.hexStringFromBuffer)(t,!0),addPrefix:n}})}},{key:"signEthereumTransaction",value:function(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,r.bigIntStringFromBN)(e.weiValue),data:(0,r.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,r.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,r.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,r.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,r.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}},{key:"signAndSubmitEthereumTransaction",value:function(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,r.bigIntStringFromBN)(e.weiValue),data:(0,r.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,r.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,r.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,r.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,r.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}},{key:"submitEthereumTransaction",value:function(e,t){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,r.hexStringFromBuffer)(e,!0),chainId:t}})}},{key:"scanQRCode",value:function(e){return this.sendRequest({method:"scanQRCode",params:{regExp:e}})}},{key:"getQRCodeUrl",value:function(){return(0,r.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}},{key:"genericRequest",value:function(e,t){return this.sendRequest({method:"generic",params:{action:t,data:e}})}},{key:"sendGenericMessage",value:function(e){return this.sendRequest(e)}},{key:"sendRequest",value:function(e){var t=this,n=null,i=(0,r.randomBytesHex)(8),o=function(r){t.publishWeb3RequestCanceledEvent(i),t.handleErrorResponse(i,e.method,r),null==n||n()};return{promise:new Promise(function(r,s){t.ui.isStandalone()||(n=t.ui.showConnecting({isUnlinkedErrorState:t.isUnlinkedErrorState,onCancel:o,onResetConnection:t.resetAndReload})),t.relayEventManager.callbacks.set(i,function(e){if(null==n||n(),(0,a.isErrorResponse)(e))return s(new Error(e.errorMessage));r(e)}),t.ui.isStandalone()?t.sendRequestStandalone(i,e):t.publishWeb3RequestEvent(i,e)}),cancel:o}}},{key:"setConnectDisabled",value:function(e){this.ui.setConnectDisabled(e)}},{key:"setAccountsCallback",value:function(e){this.accountsCallback=e}},{key:"setChainCallback",value:function(e){this.chainCallback=e}},{key:"setDappDefaultChainCallback",value:function(e){this.dappDefaultChain=e,this.ui instanceof c.WalletLinkRelayUI&&this.ui.setChainId(e)}},{key:"publishWeb3RequestEvent",value:function(e,t){var r,i=this,s={type:"WEB3_REQUEST",id:e,request:t},a=o.Session.load(this.storage);null===(r=this.diagnostic)||void 0===r||r.log(n.EVENTS.WEB3_REQUEST,{eventId:s.id,method:"relay::".concat(t.method),sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:a?o.Session.hash(a.id):"",isSessionMismatched:((null==a?void 0:a.id)!==this._session.id).toString()}),this.publishEvent("Web3Request",s,!0).then(function(e){var r;null===(r=i.diagnostic)||void 0===r||r.log(n.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:s.id,method:"relay::".concat(t.method),sessionIdHash:i.getSessionIdHash(),storedSessionIdHash:a?o.Session.hash(a.id):"",isSessionMismatched:((null==a?void 0:a.id)!==i._session.id).toString()})}).catch(function(e){i.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s.id,response:{method:t.method,errorMessage:e.message}})})}},{key:"publishWeb3RequestCanceledEvent",value:function(e){var t={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",t,!1).then()}},{key:"publishEvent",value:function(e,t,r){return this.connection.publishEvent(e,t,r)}},{key:"handleWeb3ResponseMessage",value:function(e){var t,r=this,i=e.response;if(null===(t=this.diagnostic)||void 0===t||t.log(n.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:"relay::".concat(i.method),sessionIdHash:this.getSessionIdHash()}),"requestEthereumAccounts"===i.method)return l.accountRequestCallbackIds.forEach(function(t){return r.invokeCallback(Object.assign(Object.assign({},e),{id:t}))}),void l.accountRequestCallbackIds.clear();this.invokeCallback(e)}},{key:"handleErrorResponse",value:function(t,r,n,i){var o,s=null!==(o=null==n?void 0:n.message)&&void 0!==o?o:(0,e.getMessageFromCode)(i);this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:r,errorMessage:s,errorCode:i}})}},{key:"invokeCallback",value:function(e){var t=this.relayEventManager.callbacks.get(e.id);t&&(t(e.response),this.relayEventManager.callbacks.delete(e.id))}},{key:"requestEthereumAccounts",value:function(){var t=this,n={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},i=(0,r.randomBytesHex)(8),o=function(e){t.publishWeb3RequestCanceledEvent(i),t.handleErrorResponse(i,n.method,e)};return{promise:new Promise(function(r,s){if(t.relayEventManager.callbacks.set(i,function(e){if(t.ui.hideRequestEthereumAccounts(),(0,a.isErrorResponse)(e))return s(new Error(e.errorMessage));r(e)}),t.ui.inlineAccountsResponse()){t.ui.requestEthereumAccounts({onCancel:o,onAccounts:function(e){t.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i,response:{method:"requestEthereumAccounts",result:e}})}})}else{var c=e.standardErrors.provider.userRejectedRequest("User denied account authorization");t.ui.requestEthereumAccounts({onCancel:function(){return o(c)}})}l.accountRequestCallbackIds.add(i),t.ui.inlineAccountsResponse()||t.ui.isStandalone()||t.publishWeb3RequestEvent(i,n)}),cancel:o}}},{key:"selectProvider",value:function(e){var n=this,i="selectProvider",o=(0,r.randomBytesHex)(8);return{cancel:function(e){n.publishWeb3RequestCanceledEvent(o),n.handleErrorResponse(o,i,e)},promise:new Promise(function(r,i){n.relayEventManager.callbacks.set(o,function(e){if((0,a.isErrorResponse)(e))return i(new Error(e.errorMessage));r(e)});n.ui.selectProvider&&n.ui.selectProvider({onApprove:function(e){n.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:o,response:{method:"selectProvider",result:e}})},onCancel:function(e){n.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:o,response:{method:"selectProvider",result:t.ProviderType.Unselected}})},providerOptions:e})})}}},{key:"watchAsset",value:function(e,t,n,i,o,s){var c=this,u={method:"watchAsset",params:{type:e,options:{address:t,symbol:n,decimals:i,image:o},chainId:s}},l=null,f=(0,r.randomBytesHex)(8),d=function(e){c.publishWeb3RequestCanceledEvent(f),c.handleErrorResponse(f,u.method,e),null==l||l()};return this.ui.inlineWatchAsset()||(l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload})),{cancel:d,promise:new Promise(function(r,d){c.relayEventManager.callbacks.set(f,function(e){if(null==l||l(),(0,a.isErrorResponse)(e))return d(new Error(e.errorMessage));r(e)});c.ui.inlineWatchAsset()&&c.ui.watchAsset({onApprove:function(){c.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:f,response:{method:"watchAsset",result:!0}})},onCancel:function(e){c.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:f,response:{method:"watchAsset",result:!1}})},type:e,address:t,symbol:n,decimals:i,image:o,chainId:s}),c.ui.inlineWatchAsset()||c.ui.isStandalone()||c.publishWeb3RequestEvent(f,u)})}}},{key:"addEthereumChain",value:function(e,t,n,i,o,s){var c=this,u={method:"addEthereumChain",params:{chainId:e,rpcUrls:t,blockExplorerUrls:i,chainName:o,iconUrls:n,nativeCurrency:s}},l=null,f=(0,r.randomBytesHex)(8),d=function(e){c.publishWeb3RequestCanceledEvent(f),c.handleErrorResponse(f,u.method,e),null==l||l()};return this.ui.inlineAddEthereumChain(e)||(l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload})),{promise:new Promise(function(t,r){c.relayEventManager.callbacks.set(f,function(e){if(null==l||l(),(0,a.isErrorResponse)(e))return r(new Error(e.errorMessage));t(e)});c.ui.inlineAddEthereumChain(e)&&c.ui.addEthereumChain({onCancel:function(e){c.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:f,response:{method:"addEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},onApprove:function(e){c.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:f,response:{method:"addEthereumChain",result:{isApproved:!0,rpcUrl:e}}})},chainId:u.params.chainId,rpcUrls:u.params.rpcUrls,blockExplorerUrls:u.params.blockExplorerUrls,chainName:u.params.chainName,iconUrls:u.params.iconUrls,nativeCurrency:u.params.nativeCurrency}),c.ui.inlineAddEthereumChain(e)||c.ui.isStandalone()||c.publishWeb3RequestEvent(f,u)}),cancel:d}}},{key:"switchEthereumChain",value:function(t,n){var i=this,o={method:"switchEthereumChain",params:Object.assign({chainId:t},{address:n})},s=(0,r.randomBytesHex)(8),c=new Promise(function(r,n){i.relayEventManager.callbacks.set(s,function(t){return(0,a.isErrorResponse)(t)&&t.errorCode?n(e.standardErrors.provider.custom({code:t.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."})):(0,a.isErrorResponse)(t)?n(new Error(t.errorMessage)):void r(t)});i.ui.switchEthereumChain({onCancel:function(r){var n;if(r){var o=null!==(n=(0,e.getErrorCode)(r))&&void 0!==n?n:e.standardErrorCodes.provider.unsupportedChain;i.handleErrorResponse(s,"switchEthereumChain",r instanceof Error?r:e.standardErrors.provider.unsupportedChain(t),o)}else i.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s,response:{method:"switchEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},onApprove:function(e){i.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s,response:{method:"switchEthereumChain",result:{isApproved:!0,rpcUrl:e}}})},chainId:o.params.chainId,address:o.params.address}),i.ui.inlineSwitchEthereumChain()||i.ui.isStandalone()||i.publishWeb3RequestEvent(s,o)});return{promise:c,cancel:function(e){i.publishWeb3RequestCanceledEvent(s),i.handleErrorResponse(s,o.method,e)}}}},{key:"inlineAddEthereumChain",value:function(e){return this.ui.inlineAddEthereumChain(e)}},{key:"getSessionIdHash",value:function(){return o.Session.hash(this._session.id)}},{key:"sendRequestStandalone",value:function(e,t){var r=this,n=function(n){r.handleErrorResponse(e,t.method,n)},i=function(t){r.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:e,response:t})};switch(t.method){case"signEthereumMessage":this.ui.signEthereumMessage({request:t,onSuccess:i,onCancel:n});break;case"signEthereumTransaction":this.ui.signEthereumTransaction({request:t,onSuccess:i,onCancel:n});break;case"submitEthereumTransaction":this.ui.submitEthereumTransaction({request:t,onSuccess:i,onCancel:n});break;case"ethereumAddressFromSignedMessage":this.ui.ethereumAddressFromSignedMessage({request:t,onSuccess:i});break;default:n()}}}])}(i.RelayAbstract);return Or.WalletLinkRelay=u,u.accountRequestCallbackIds=new Set,Or}var Ra,Ia={},Ca={},Aa={};function xa(){return Ra||(Ra=1,function(e){var t=Aa&&Aa.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=Aa&&Aa.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(_a(),e)}(Aa)),Aa}var Ma,Oa,Pa,Na,La={};function Ta(){return Ma||(Ma=1,Object.defineProperty(La,"__esModule",{value:!0}),La.default=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}"),La}function ja(){if(Oa)return Ca;Oa=1;var e=Ca&&Ca.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.RedirectDialog=void 0;var t=e(bs),r=hs,n=fs(),i=xa(),o=e(Ta()),s=function(){return C(function e(){R(this,e),this.root=null},[{key:"attach",value:function(){var e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),(0,n.injectCssReset)()}},{key:"present",value:function(e){this.render(e)}},{key:"clear",value:function(){this.render(null)}},{key:"render",value:function(e){var t=this;this.root&&((0,r.render)(null,this.root),e&&(0,r.render)((0,r.h)(a,Object.assign({},e,{onDismiss:function(){t.clear()}})),this.root))}}])}();Ca.RedirectDialog=s;var a=function(e){var n=e.title,s=e.buttonText,a=e.darkMode,c=e.onButtonClick,u=e.onDismiss,l=a?"dark":"light";return(0,r.h)(i.SnackbarContainer,{darkMode:a},(0,r.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,r.h)("style",null,o.default),(0,r.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:u}),(0,r.h)("div",{class:(0,t.default)("-cbwsdk-redirect-dialog-box",l)},(0,r.h)("p",null,n),(0,r.h)("button",{onClick:c},s))))};return Ca}function Ba(){if(Pa)return Ia;Pa=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.MobileRelayUI=void 0;var e=ja(),t=function(){return C(function t(r){R(this,t),this.attached=!1,this.darkMode=!1,this.redirectDialog=new e.RedirectDialog,this.darkMode=r.darkMode},[{key:"attach",value:function(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}},{key:"setConnected",value:function(e){}},{key:"redirectToCoinbaseWallet",value:function(e){var t=new URL("https://go.cb-w.com/walletlink");t.searchParams.append("redirect_url",window.location.href),e&&t.searchParams.append("wl_url",e);var r=document.createElement("a");r.target="cbw-opener",r.href=t.href,r.rel="noreferrer noopener",r.click()}},{key:"openCoinbaseWalletDeeplink",value:function(e){var t=this;this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",darkMode:this.darkMode,onButtonClick:function(){t.redirectToCoinbaseWallet(e)}}),setTimeout(function(){t.redirectToCoinbaseWallet(e)},99)}},{key:"showConnecting",value:function(e){var t=this;return function(){t.redirectDialog.clear()}}},{key:"hideRequestEthereumAccounts",value:function(){this.redirectDialog.clear()}},{key:"requestEthereumAccounts",value:function(){}},{key:"addEthereumChain",value:function(){}},{key:"watchAsset",value:function(){}},{key:"selectProvider",value:function(){}},{key:"switchEthereumChain",value:function(){}},{key:"signEthereumMessage",value:function(){}},{key:"signEthereumTransaction",value:function(){}},{key:"submitEthereumTransaction",value:function(){}},{key:"ethereumAddressFromSignedMessage",value:function(){}},{key:"reloadUI",value:function(){}},{key:"setStandalone",value:function(){}},{key:"setConnectDisabled",value:function(){}},{key:"inlineAccountsResponse",value:function(){return!1}},{key:"inlineAddEthereumChain",value:function(){return!1}},{key:"inlineWatchAsset",value:function(){return!1}},{key:"inlineSwitchEthereumChain",value:function(){return!1}},{key:"isStandalone",value:function(){return!1}}])}();return Ia.MobileRelayUI=t,Ia}function Da(){if(Na)return Mr;Na=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.MobileRelay=void 0;var e=_r(),t=Sa(),r=Ba(),n=function(t){function n(e){var t,r;return R(this,n),(t=g(this,n,[e]))._enableMobileWalletLink=null!==(r=e.enableMobileWalletLink)&&void 0!==r&&r,t}return y(n,t),C(n,[{key:"requestEthereumAccounts",value:function(){return this._enableMobileWalletLink?u(n,"requestEthereumAccounts",this,3)([]):{promise:new Promise(function(){var t=(0,e.getLocation)();t.href="https://go.cb-w.com/dapp?cb_url=".concat(encodeURIComponent(t.href))}),cancel:function(){}}}},{key:"publishWeb3RequestEvent",value:function(e,t){var i=this;if(u(n,"publishWeb3RequestEvent",this,3)([e,t]),this._enableMobileWalletLink&&this.ui instanceof r.MobileRelayUI){var o=!1;switch(t.method){case"requestEthereumAccounts":case"connectAndSignIn":o=!0,this.ui.openCoinbaseWalletDeeplink(this.getQRCodeUrl());break;case"switchEthereumChain":return;default:o=!0,this.ui.openCoinbaseWalletDeeplink()}o&&window.addEventListener("blur",function(){window.addEventListener("focus",function(){i.connection.checkUnseenEvents()},{once:!0})},{once:!0})}}},{key:"handleWeb3ResponseMessage",value:function(e){u(n,"handleWeb3ResponseMessage",this,3)([e])}},{key:"connectAndSignIn",value:function(e){if(!this._enableMobileWalletLink)throw new Error("connectAndSignIn is supported only when enableMobileWalletLink is on");return this.sendRequest({method:"connectAndSignIn",params:{appName:this.appName,appLogoUrl:this.appLogoUrl,domain:window.location.hostname,aud:window.location.href,version:"1",type:"eip4361",nonce:e.nonce,iat:(new Date).toISOString(),chainId:"eip155:".concat(this.dappDefaultChain),statement:e.statement,resources:e.resources}})}}])}(t.WalletLinkRelay);return Mr.MobileRelay=n,Mr}var Fa,Ua,Ha,Wa,qa,Va,za={exports:{}};function Ja(){return Ua?Fa:(Ua=1,Fa=P().EventEmitter)}function Ga(){if(Wa)return Ha;function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach(function(e){r(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function r(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===L(t)?t:String(t)}Wa=1;var o=k().Buffer,s=E.inspect,a=s&&s.custom||"inspect";function c(e,t,r){o.prototype.copy.call(e,t,r)}return Ha=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return n(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t=o.allocUnsafe(e>>>0),r=this.head,n=0;r;)c(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0===(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:a,value:function(e,r){return s(this,t(t({},r),{},{depth:0,customInspect:!1}))}}]),e}(),Ha}function Za(){if(Va)return qa;function e(e,n){r(e,n),t(e)}function t(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function r(e,t){e.emit("error",t)}return Va=1,qa={destroy:function(n,i){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(i?i(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(r,this,n)):process.nextTick(r,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,function(r){!i&&r?o._writableState?o._writableState.errorEmitted?process.nextTick(t,o):(o._writableState.errorEmitted=!0,process.nextTick(e,o,r)):process.nextTick(e,o,r):i?(process.nextTick(t,o),i(r)):process.nextTick(t,o)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}var Ya,Qa,Ka,Xa,$a,ec,tc,rc,nc,ic={};function oc(){if(Ya)return ic;Ya=1;var e={};function t(t,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=t,e[t]=i}function r(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(e){return String(e)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}return t("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(e,t,n){var i,o,s;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))s="The ".concat(e," ").concat(i," ").concat(r(t,"type"));else{var a=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(a," ").concat(i," ").concat(r(t,"type"))}return s+=". Received type ".concat(L(n))},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),ic.codes=e,ic}function sc(){if(Ka)return Qa;Ka=1;var e=oc().codes.ERR_INVALID_OPT_VALUE;return Qa={getHighWaterMark:function(t,r,n,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(r,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new e(i?n:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}}function ac(){if($a)return Xa;function e(e){try{if(!h.localStorage)return!1}catch(r){return!1}var t=h.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}return $a=1,Xa=function(t,r){if(e("noDeprecation"))return t;var n=!1;return function(){if(!n){if(e("throwDeprecation"))throw new Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),n=!0}return t.apply(this,arguments)}},Xa}function cc(){if(tc)return ec;function e(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var t;tc=1,ec=E,E.WritableState=_;var r={deprecate:ac()},n=Ja(),i=k().Buffer,o=(void 0!==h?h:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var s,a=Za(),c=sc().getHighWaterMark,u=oc().codes,l=u.ERR_INVALID_ARG_TYPE,f=u.ERR_METHOD_NOT_IMPLEMENTED,d=u.ERR_MULTIPLE_CALLBACK,p=u.ERR_STREAM_CANNOT_PIPE,v=u.ERR_STREAM_DESTROYED,g=u.ERR_STREAM_NULL_VALUES,y=u.ERR_STREAM_WRITE_AFTER_END,m=u.ERR_UNKNOWN_ENCODING,b=a.errorOrDestroy;function w(){}function _(r,n,i){t=t||uc(),r=r||{},"boolean"!=typeof i&&(i=n instanceof t),this.objectMode=!!r.objectMode,i&&(this.objectMode=this.objectMode||!!r.writableObjectMode),this.highWaterMark=c(this,r,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===r.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=r.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new d;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(x,e,t),e._writableState.errorEmitted=!0,b(e,n)):(i(n),e._writableState.errorEmitted=!0,b(e,n),x(e,t))}(e,r,n,t,i);else{var o=C(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||I(e,r),n?process.nextTick(R,e,r,o,i):R(e,r,o,i)}}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==r.emitClose,this.autoDestroy=!!r.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function E(e){var r=this instanceof(t=t||uc());if(!r&&!s.call(E,this))return new E(e);this._writableState=new _(e,this,r),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),n.call(this)}function S(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function R(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),x(e,t)}function I(t,r){r.bufferProcessing=!0;var n=r.bufferedRequest;if(t._writev&&n&&n.next){var i=r.bufferedRequestCount,o=new Array(i),s=r.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,S(t,r,!0,r.length,o,"",s.finish),r.pendingcb++,r.lastBufferedRequest=null,s.next?(r.corkedRequestsFree=s.next,s.next=null):r.corkedRequestsFree=new e(r),r.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,f=n.callback;if(S(t,r,!1,r.objectMode?1:u.length,u,l,f),n=n.next,r.bufferedRequestCount--,r.writing)break}null===n&&(r.lastBufferedRequest=null)}r.bufferedRequest=n,r.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final(function(r){t.pendingcb--,r&&b(e,r),t.prefinished=!0,e.emit("prefinish"),x(e,t)})}function x(e,t){var r=C(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}return Ht()(E,n),_.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(_.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===E&&(e&&e._writableState instanceof _)}})):s=function(e){return e instanceof this},E.prototype.pipe=function(){b(this,new p)},E.prototype.write=function(e,t,r){var n,s=this._writableState,a=!1,c=!s.objectMode&&(n=e,i.isBuffer(n)||n instanceof o);return c&&!i.isBuffer(e)&&(e=function(e){return i.from(e)}(e)),"function"==typeof t&&(r=t,t=null),c?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof r&&(r=w),s.ending?function(e,t){var r=new y;b(e,r),process.nextTick(t,r)}(this,r):(c||function(e,t,r,n){var i;return null===r?i=new g:"string"==typeof r||t.objectMode||(i=new l("chunk",["string","Buffer"],r)),!i||(b(e,i),process.nextTick(n,i),!1)}(this,s,e,r))&&(s.pendingcb++,a=function(e,t,r,n,o,s){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=i.from(t,r));return t}(t,n,o);n!==a&&(r=!0,o="buffer",n=a)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,c,n,o,s);return u}(this,s,c,e,t,r)),a},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||I(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new m(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,r){r(new f("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,x(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=a.destroy,E.prototype._undestroy=a.undestroy,E.prototype._destroy=function(e,t){t(e)},ec}function uc(){if(nc)return rc;nc=1;var e=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};rc=s;var t=jc(),r=cc();Ht()(s,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var o=n[i];s.prototype[o]||(s.prototype[o]=r.prototype[o])}function s(e){if(!(this instanceof s))return new s(e);t.call(this,e),r.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",a)))}function a(){this._writableState.ended||process.nextTick(c,this)}function c(e){e.end()}return Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),rc}var lc,fc,dc,hc,pc,vc,gc,yc,mc,bc,wc,kc,_c,Ec,Sc,Rc,Ic,Cc,Ac,xc,Mc,Oc,Pc={};function Nc(){if(lc)return Pc;lc=1;var e=b().Buffer,t=e.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(r){var n;switch(this.encoding=function(r){var n=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(r);if("string"!=typeof n&&(e.isEncoding===t||!t(r)))throw new Error("Unknown encoding: "+r);return n||r}(r),this.encoding){case"utf16le":this.text=o,this.end=s,n=4;break;case"utf8":this.fillLast=i,n=4;break;case"base64":this.text=a,this.end=c,n=3;break;default:return this.write=u,void(this.end=l)}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(n)}function n(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function i(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function o(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function s(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function a(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function u(e){return e.toString(this.encoding)}function l(e){return e&&e.length?this.write(e):""}return Pc.StringDecoder=r,r.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},r.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},r.prototype.text=function(e,t){var r=function(e,t,r){var i=t.length-1;if(i<r)return 0;var o=n(t[i]);if(o>=0)return o>0&&(e.lastNeed=o-1),o;if(--i<r||-2===o)return 0;if(o=n(t[i]),o>=0)return o>0&&(e.lastNeed=o-2),o;if(--i<r||-2===o)return 0;if(o=n(t[i]),o>=0)return o>0&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},r.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},Pc}function Lc(){if(dc)return fc;dc=1;var e=oc().codes.ERR_STREAM_PREMATURE_CLOSE;function t(){}return fc=function r(n,i,o){if("function"==typeof i)return r(n,null,i);i||(i={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||t);var s=i.readable||!1!==i.readable&&n.readable,a=i.writable||!1!==i.writable&&n.writable,c=function(){n.writable||l()},u=n._writableState&&n._writableState.finished,l=function(){a=!1,u=!0,s||o.call(n)},f=n._readableState&&n._readableState.endEmitted,d=function(){s=!1,f=!0,a||o.call(n)},h=function(e){o.call(n,e)},p=function(){var t;return s&&!f?(n._readableState&&n._readableState.ended||(t=new e),o.call(n,t)):a&&!u?(n._writableState&&n._writableState.ended||(t=new e),o.call(n,t)):void 0},v=function(){n.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(n)?a&&!n._writableState&&(n.on("end",c),n.on("close",c)):(n.on("complete",l),n.on("abort",p),n.req?v():n.on("request",v)),n.on("end",d),n.on("finish",l),!1!==i.error&&n.on("error",h),n.on("close",p),function(){n.removeListener("complete",l),n.removeListener("abort",p),n.removeListener("request",v),n.req&&n.req.removeListener("finish",l),n.removeListener("end",c),n.removeListener("close",c),n.removeListener("finish",l),n.removeListener("end",d),n.removeListener("error",h),n.removeListener("close",p)}},fc}function Tc(){if(pc)return hc;var e;function t(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===L(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}pc=1;var r=Lc(),n=Symbol("lastResolve"),i=Symbol("lastReject"),o=Symbol("error"),s=Symbol("ended"),a=Symbol("lastPromise"),c=Symbol("handlePromise"),u=Symbol("stream");function l(e,t){return{value:e,done:t}}function f(e){var t=e[n];if(null!==t){var r=e[u].read();null!==r&&(e[a]=null,e[n]=null,e[i]=null,t(l(r,!1)))}}function d(e){process.nextTick(f,e)}var h=Object.getPrototypeOf(function(){}),p=Object.setPrototypeOf((e={get stream(){return this[u]},next:function(){var e=this,t=this[o];if(null!==t)return Promise.reject(t);if(this[s])return Promise.resolve(l(void 0,!0));if(this[u].destroyed)return new Promise(function(t,r){process.nextTick(function(){e[o]?r(e[o]):t(l(void 0,!0))})});var r,n=this[a];if(n)r=new Promise(function(e,t){return function(r,n){e.then(function(){t[s]?r(l(void 0,!0)):t[c](r,n)},n)}}(n,this));else{var i=this[u].read();if(null!==i)return Promise.resolve(l(i,!1));r=new Promise(this[c])}return this[a]=r,r}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var e=this;return new Promise(function(t,r){e[u].destroy(null,function(e){e?r(e):t(l(void 0,!0))})})}),e),h);return hc=function(e){var f,h=Object.create(p,(t(f={},u,{value:e,writable:!0}),t(f,n,{value:null,writable:!0}),t(f,i,{value:null,writable:!0}),t(f,o,{value:null,writable:!0}),t(f,s,{value:e._readableState.endEmitted,writable:!0}),t(f,c,{value:function(e,t){var r=h[u].read();r?(h[a]=null,h[n]=null,h[i]=null,e(l(r,!1))):(h[n]=e,h[i]=t)},writable:!0}),f));return h[a]=null,r(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=h[i];return null!==t&&(h[a]=null,h[n]=null,h[i]=null,t(e)),void(h[o]=e)}var r=h[n];null!==r&&(h[a]=null,h[n]=null,h[i]=null,r(l(void 0,!0))),h[s]=!0}),e.on("readable",d.bind(null,h)),h}}function jc(){if(mc)return yc;var e;mc=1,yc=S,S.ReadableState=_,P().EventEmitter;var t=function(e,t){return e.listeners(t).length},r=Ja(),n=k().Buffer,i=(void 0!==h?h:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var o,s=E;o=s&&s.debuglog?s.debuglog("stream"):function(){};var a,c,u,l=Ga(),f=Za(),d=sc().getHighWaterMark,p=oc().codes,v=p.ERR_INVALID_ARG_TYPE,g=p.ERR_STREAM_PUSH_AFTER_EOF,y=p.ERR_METHOD_NOT_IMPLEMENTED,m=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;Ht()(S,r);var b=f.errorOrDestroy,w=["error","close","destroy","pause","resume"];function _(t,r,n){e=e||uc(),t=t||{},"boolean"!=typeof n&&(n=r instanceof e),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=d(this,t,"readableHighWaterMark",n),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(a||(a=Nc().StringDecoder),this.decoder=new a(t.encoding),this.encoding=t.encoding)}function S(t){if(e=e||uc(),!(this instanceof S))return new S(t);var n=this instanceof e;this._readableState=new _(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),r.call(this)}function R(e,t,r,s,a){o("readableAddChunk",t);var c,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(o("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,M(e)))}(e,u);else if(a||(c=function(e,t){var r;o=t,n.isBuffer(o)||o instanceof i||"string"==typeof t||void 0===t||e.objectMode||(r=new v("chunk",["string","Buffer","Uint8Array"],t));var o;return r}(u,t)),c)b(e,c);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===n.prototype||(t=function(e){return n.from(e)}(t)),s)u.endEmitted?b(e,new m):I(e,u,t,!0);else if(u.ended)b(e,new g);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?I(e,u,t,!1):O(e,u)):I(e,u,t,!1)}else s||(u.reading=!1,O(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function I(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&x(e)),O(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=f.destroy,S.prototype._undestroy=f.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=n.from(e,t),t=""),r=!0),R(this,e,t,!1,r)},S.prototype.unshift=function(e){return R(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){a||(a=Nc().StringDecoder);var t=new a(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var C=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=C?e=C:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(M,e))}function M(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function O(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(N,e,t))}function N(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function T(e){o("readable nexttick read 0"),e.read(0)}function j(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function F(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(U,t,e))}function U(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function H(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}return S.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?F(this):x(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&F(this),null;var n,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(r,t))),null===(n=e>0?D(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&F(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(e){b(this,new y("_read()"))},S.prototype.pipe=function(e,r){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,o("pipe count=%d opts=%j",i.pipesCount,r);var s=(!r||!1!==r.end)&&e!==process.stdout&&e!==process.stderr?c:v;function a(t,r){o("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,o("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",d),e.removeListener("unpipe",a),n.removeListener("end",c),n.removeListener("end",v),n.removeListener("data",f),l=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function c(){o("onend"),e.end()}i.endEmitted?process.nextTick(s):n.once("end",s),e.on("unpipe",a);var u=function(e){return function(){var r=e._readableState;o("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,0===r.awaitDrain&&t(e,"data")&&(r.flowing=!0,B(e))}}(n);e.on("drain",u);var l=!1;function f(t){o("ondata");var r=e.write(t);o("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==H(i.pipes,e))&&!l&&(o("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function d(r){o("onerror",r),v(),e.removeListener("error",d),0===t(e,"error")&&b(e,r)}function h(){e.removeListener("finish",p),v()}function p(){o("onfinish"),e.removeListener("close",h),v()}function v(){o("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",h),e.once("finish",p),e.emit("pipe",n),i.flowing||(o("pipe resume"),n.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=H(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var n=r.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,o("on readable",i.length,i.reading),i.length?x(this):i.reading||process.nextTick(T,this))),n},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var n=r.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(L,this),n},S.prototype.removeAllListeners=function(e){var t=r.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(L,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(j,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<w.length;s++)e.on(w[s],this.emit.bind(this,w[s]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===c&&(c=Tc()),c(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=D,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(e,t){return void 0===u&&(u=gc?vc:(gc=1,vc=function(){throw new Error("Readable.from is not available in the browser")})),u(S,e,t)}),yc}function Bc(){if(wc)return bc;wc=1,bc=a;var e=oc().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,o=uc();function s(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new r);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);o.call(this,e),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",c)}function c(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?u(this,null,null):this._flush(function(t,r){u(e,t,r)})}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new i;if(e._transformState.transforming)throw new n;return e.push(null)}return Ht()(a,o),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,o.prototype.push.call(this,e,t)},a.prototype._transform=function(e,r,n){n(new t("_transform()"))},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},a.prototype._destroy=function(e,t){o.prototype._destroy.call(this,e,function(e){t(e)})},bc}function Dc(){if(Sc)return Ec;var e;Sc=1;var t=oc().codes,r=t.ERR_MISSING_ARGS,n=t.ERR_STREAM_DESTROYED;function i(e){if(e)throw e}function o(e){e()}function s(e,t){return e.pipe(t)}return Ec=function(){for(var t=arguments.length,a=new Array(t),c=0;c<t;c++)a[c]=arguments[c];var u,l=function(e){return e.length?"function"!=typeof e[e.length-1]?i:e.pop():i}(a);if(Array.isArray(a[0])&&(a=a[0]),a.length<2)throw new r("streams");var f=a.map(function(t,r){var i=r<a.length-1;return function(t,r,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;t.on("close",function(){s=!0}),void 0===e&&(e=Lc()),e(t,{readable:r,writable:i},function(e){if(e)return o(e);s=!0,o()});var a=!1;return function(e){if(!s&&!a)return a=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new n("pipe"))}}(t,i,r>0,function(e){u||(u=e),e&&f.forEach(o),i||(f.forEach(o),l(u))})});return a.reduce(s)},Ec}function Fc(){return Rc||(Rc=1,function(e,t){(t=e.exports=jc()).Stream=t,t.Readable=t,t.Writable=cc(),t.Duplex=uc(),t.Transform=Bc(),t.PassThrough=function(){if(_c)return kc;_c=1,kc=t;var e=Bc();function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return Ht()(t,e),t.prototype._transform=function(e,t,r){r(null,e)},kc}(),t.finished=Lc(),t.pipeline=Dc()}(za,za.exports)),za.exports}function Uc(){if(Oc)return Mc;Oc=1;var e=function(){if(Cc)return Ic;Cc=1;var e=Fc().Transform;return Ic=function(t){return function(e){function r(e,n,i,o,s){var a;return R(this,r),(a=g(this,r,[s]))._rate=e,a._capacity=n,a._delimitedSuffix=i,a._hashBitLength=o,a._options=s,a._state=new t,a._state.initialize(e,n),a._finalized=!1,a}return y(r,e),C(r,[{key:"_transform",value:function(e,t,r){var n=null;try{this.update(e,t)}catch(i){n=i}r(n)}},{key:"_flush",value:function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)}},{key:"update",value:function(e,t){if(!Buffer.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(e)||(e=Buffer.from(e,t)),this._state.absorb(e),this}},{key:"digest",value:function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);var t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t}},{key:"_resetState",value:function(){return this._state.initialize(this._rate,this._capacity),this}},{key:"_clone",value:function(){var e=new r(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}])}(e)},Ic}(),t=function(){if(xc)return Ac;xc=1;var e=Fc().Transform;return Ac=function(t){return function(e){function r(e,n,i,o){var s;return R(this,r),(s=g(this,r,[o]))._rate=e,s._capacity=n,s._delimitedSuffix=i,s._options=o,s._state=new t,s._state.initialize(e,n),s._finalized=!1,s}return y(r,e),C(r,[{key:"_transform",value:function(e,t,r){var n=null;try{this.update(e,t)}catch(i){n=i}r(n)}},{key:"_flush",value:function(){}},{key:"_read",value:function(e){this.push(this.squeeze(e))}},{key:"update",value:function(e,t){if(!Buffer.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(e)||(e=Buffer.from(e,t)),this._state.absorb(e),this}},{key:"squeeze",value:function(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));var r=this._state.squeeze(e);return void 0!==t&&(r=r.toString(t)),r}},{key:"_resetState",value:function(){return this._state.initialize(this._rate,this._capacity),this}},{key:"_clone",value:function(){var e=new r(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}])}(e)},Ac}();return Mc=function(r){var n=e(r),i=t(r);return function(e,t){switch("string"==typeof e?e.toLowerCase():e){case"keccak224":return new n(1152,448,null,224,t);case"keccak256":return new n(1088,512,null,256,t);case"keccak384":return new n(832,768,null,384,t);case"keccak512":return new n(576,1024,null,512,t);case"sha3-224":return new n(1152,448,6,224,t);case"sha3-256":return new n(1088,512,6,256,t);case"sha3-384":return new n(832,768,6,384,t);case"sha3-512":return new n(576,1024,6,512,t);case"shake128":return new i(1344,256,31,t);case"shake256":return new i(1088,512,31,t);default:throw new Error("Invald algorithm: "+e)}}}}var Hc,Wc,qc,Vc,zc,Jc,Gc,Zc,Yc,Qc,Kc,Xc={};function $c(){if(qc)return Wc;qc=1;var e=function(){if(Hc)return Xc;Hc=1;var e=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];return Xc.p1600=function(t){for(var r=0;r<24;++r){var n=t[0]^t[10]^t[20]^t[30]^t[40],i=t[1]^t[11]^t[21]^t[31]^t[41],o=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],a=t[4]^t[14]^t[24]^t[34]^t[44],c=t[5]^t[15]^t[25]^t[35]^t[45],u=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],f=t[8]^t[18]^t[28]^t[38]^t[48],d=t[9]^t[19]^t[29]^t[39]^t[49],h=f^(o<<1|s>>>31),p=d^(s<<1|o>>>31),v=t[0]^h,g=t[1]^p,y=t[10]^h,m=t[11]^p,b=t[20]^h,w=t[21]^p,k=t[30]^h,_=t[31]^p,E=t[40]^h,S=t[41]^p;h=n^(a<<1|c>>>31),p=i^(c<<1|a>>>31);var R=t[2]^h,I=t[3]^p,C=t[12]^h,A=t[13]^p,x=t[22]^h,M=t[23]^p,O=t[32]^h,P=t[33]^p,N=t[42]^h,L=t[43]^p;h=o^(u<<1|l>>>31),p=s^(l<<1|u>>>31);var T=t[4]^h,j=t[5]^p,B=t[14]^h,D=t[15]^p,F=t[24]^h,U=t[25]^p,H=t[34]^h,W=t[35]^p,q=t[44]^h,V=t[45]^p;h=a^(f<<1|d>>>31),p=c^(d<<1|f>>>31);var z=t[6]^h,J=t[7]^p,G=t[16]^h,Z=t[17]^p,Y=t[26]^h,Q=t[27]^p,K=t[36]^h,X=t[37]^p,$=t[46]^h,ee=t[47]^p;h=u^(n<<1|i>>>31),p=l^(i<<1|n>>>31);var te=t[8]^h,re=t[9]^p,ne=t[18]^h,ie=t[19]^p,oe=t[28]^h,se=t[29]^p,ae=t[38]^h,ce=t[39]^p,ue=t[48]^h,le=t[49]^p,fe=v,de=g,he=m<<4|y>>>28,pe=y<<4|m>>>28,ve=b<<3|w>>>29,ge=w<<3|b>>>29,ye=_<<9|k>>>23,me=k<<9|_>>>23,be=E<<18|S>>>14,we=S<<18|E>>>14,ke=R<<1|I>>>31,_e=I<<1|R>>>31,Ee=A<<12|C>>>20,Se=C<<12|A>>>20,Re=x<<10|M>>>22,Ie=M<<10|x>>>22,Ce=P<<13|O>>>19,Ae=O<<13|P>>>19,xe=N<<2|L>>>30,Me=L<<2|N>>>30,Oe=j<<30|T>>>2,Pe=T<<30|j>>>2,Ne=B<<6|D>>>26,Le=D<<6|B>>>26,Te=U<<11|F>>>21,je=F<<11|U>>>21,Be=H<<15|W>>>17,De=W<<15|H>>>17,Fe=V<<29|q>>>3,Ue=q<<29|V>>>3,He=z<<28|J>>>4,We=J<<28|z>>>4,qe=Z<<23|G>>>9,Ve=G<<23|Z>>>9,ze=Y<<25|Q>>>7,Je=Q<<25|Y>>>7,Ge=K<<21|X>>>11,Ze=X<<21|K>>>11,Ye=ee<<24|$>>>8,Qe=$<<24|ee>>>8,Ke=te<<27|re>>>5,Xe=re<<27|te>>>5,$e=ne<<20|ie>>>12,et=ie<<20|ne>>>12,tt=se<<7|oe>>>25,rt=oe<<7|se>>>25,nt=ae<<8|ce>>>24,it=ce<<8|ae>>>24,ot=ue<<14|le>>>18,st=le<<14|ue>>>18;t[0]=fe^~Ee&Te,t[1]=de^~Se&je,t[10]=He^~$e&ve,t[11]=We^~et&ge,t[20]=ke^~Ne&ze,t[21]=_e^~Le&Je,t[30]=Ke^~he&Re,t[31]=Xe^~pe&Ie,t[40]=Oe^~qe&tt,t[41]=Pe^~Ve&rt,t[2]=Ee^~Te&Ge,t[3]=Se^~je&Ze,t[12]=$e^~ve&Ce,t[13]=et^~ge&Ae,t[22]=Ne^~ze&nt,t[23]=Le^~Je&it,t[32]=he^~Re&Be,t[33]=pe^~Ie&De,t[42]=qe^~tt&ye,t[43]=Ve^~rt&me,t[4]=Te^~Ge&ot,t[5]=je^~Ze&st,t[14]=ve^~Ce&Fe,t[15]=ge^~Ae&Ue,t[24]=ze^~nt&be,t[25]=Je^~it&we,t[34]=Re^~Be&Ye,t[35]=Ie^~De&Qe,t[44]=tt^~ye&xe,t[45]=rt^~me&Me,t[6]=Ge^~ot&fe,t[7]=Ze^~st&de,t[16]=Ce^~Fe&He,t[17]=Ae^~Ue&We,t[26]=nt^~be&ke,t[27]=it^~we&_e,t[36]=Be^~Ye&Ke,t[37]=De^~Qe&Xe,t[46]=ye^~xe&Oe,t[47]=me^~Me&Pe,t[8]=ot^~fe&Ee,t[9]=st^~de&Se,t[18]=Fe^~He&$e,t[19]=Ue^~We&et,t[28]=be^~ke&Ne,t[29]=we^~_e&Le,t[38]=Ye^~Ke&he,t[39]=Qe^~Xe&pe,t[48]=xe^~Oe&qe,t[49]=Me^~Pe&Ve,t[0]^=e[2*r],t[1]^=e[2*r+1]}},Xc}();function t(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}return t.prototype.initialize=function(e,t){for(var r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},t.prototype.absorb=function(t){for(var r=0;r<t.length;++r)this.state[~~(this.count/4)]^=t[r]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(e.p1600(this.state),this.count=0)},t.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<this.count%4*8,128&t&&this.count===this.blockSize-1&&e.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,e.p1600(this.state),this.count=0,this.squeezing=!0},t.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);for(var r=Buffer.alloc(t),n=0;n<t;++n)r[n]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(e.p1600(this.state),this.count=0);return r},t.prototype.copy=function(e){for(var t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing},Wc=t}function eu(){if(Gc)return Jc;Gc=1;var e=zc?Vc:(zc=1,Vc=Uc()($c())),t=d();function r(e){return Buffer.allocUnsafe(e).fill(0)}function n(e,t,n){var o=r(t);return e=i(e),n?e.length<t?(e.copy(o),o):e.slice(0,t):e.length<t?(e.copy(o,t-e.length),o):e.slice(-t)}function i(e){if(!Buffer.isBuffer(e))if(Array.isArray(e))e=Buffer.from(e);else if("string"==typeof e)e=o(e)?Buffer.from((r=s(e)).length%2?"0"+r:r,"hex"):Buffer.from(e);else if("number"==typeof e)e=intToBuffer(e);else if(null==e)e=Buffer.allocUnsafe(0);else if(t.isBN(e))e=e.toArrayLike(Buffer);else{if(!e.toArray)throw new Error("invalid type");e=Buffer.from(e.toArray())}var r;return e}function o(e){return"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/)}function s(e){return"string"==typeof e&&e.startsWith("0x")?e.slice(2):e}return Jc={zeros:r,setLength:n,setLengthRight:function(e,t){return n(e,t,!0)},isHexString:o,stripHexPrefix:s,toBuffer:i,bufferToHex:function(e){return"0x"+(e=i(e)).toString("hex")},keccak:function(t,r){return t=i(t),r||(r=256),e("keccak"+r).update(t).digest()}}}function tu(){if(Yc)return Zc;Yc=1;var e=eu(),t=d();function r(e){return e.startsWith("int[")?"int256"+e.slice(3):"int"===e?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):"ufixed"===e?"ufixed128x128":e}function n(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function i(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function o(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function s(r){var n=L(r);if("string"===n)return e.isHexString(r)?new t(e.stripHexPrefix(r),16):new t(r,10);if("number"===n)return new t(r);if(r.toArray)return r;throw new Error("Argument is not a number")}function a(r,c){var u,l,f,d;if("address"===r)return a("uint160",s(c));if("bool"===r)return a("uint8",c?1:0);if("string"===r)return a("bytes",new Buffer(c,"utf8"));if(function(e){return e.lastIndexOf("]")===e.length-1}(r)){if(void 0===c.length)throw new Error("Not an array?");if("dynamic"!==(u=o(r))&&0!==u&&c.length>u)throw new Error("Elements exceed array size: "+u);for(d in f=[],r=r.slice(0,r.lastIndexOf("[")),"string"==typeof c&&(c=JSON.parse(c)),c)f.push(a(r,c[d]));if("dynamic"===u){var h=a("uint256",c.length);f.unshift(h)}return Buffer.concat(f)}if("bytes"===r)return c=new Buffer(c),f=Buffer.concat([a("uint256",c.length),c]),c.length%32!=0&&(f=Buffer.concat([f,e.zeros(32-c.length%32)])),f;if(r.startsWith("bytes")){if((u=n(r))<1||u>32)throw new Error("Invalid bytes<N> width: "+u);return e.setLengthRight(c,32)}if(r.startsWith("uint")){if((u=n(r))%8||u<8||u>256)throw new Error("Invalid uint<N> width: "+u);if((l=s(c)).bitLength()>u)throw new Error("Supplied uint exceeds width: "+u+" vs "+l.bitLength());if(l<0)throw new Error("Supplied uint is negative");return l.toArrayLike(Buffer,"be",32)}if(r.startsWith("int")){if((u=n(r))%8||u<8||u>256)throw new Error("Invalid int<N> width: "+u);if((l=s(c)).bitLength()>u)throw new Error("Supplied int exceeds width: "+u+" vs "+l.bitLength());return l.toTwos(256).toArrayLike(Buffer,"be",32)}if(r.startsWith("ufixed")){if(u=i(r),(l=s(c))<0)throw new Error("Supplied ufixed is negative");return a("uint256",l.mul(new t(2).pow(new t(u[1]))))}if(r.startsWith("fixed"))return u=i(r),a("int256",s(c).mul(new t(2).pow(new t(u[1]))));throw new Error("Unsupported or invalid type: "+r)}function c(e){return"string"===e||"bytes"===e||"dynamic"===o(e)}function u(t,i){if(t.length!==i.length)throw new Error("Number of types are not matching the values");for(var o,a,c=[],u=0;u<t.length;u++){var l=r(t[u]),f=i[u];if("bytes"===l)c.push(f);else if("string"===l)c.push(new Buffer(f,"utf8"));else if("bool"===l)c.push(new Buffer(f?"01":"00","hex"));else if("address"===l)c.push(e.setLength(f,20));else if(l.startsWith("bytes")){if((o=n(l))<1||o>32)throw new Error("Invalid bytes<N> width: "+o);c.push(e.setLengthRight(f,o))}else if(l.startsWith("uint")){if((o=n(l))%8||o<8||o>256)throw new Error("Invalid uint<N> width: "+o);if((a=s(f)).bitLength()>o)throw new Error("Supplied uint exceeds width: "+o+" vs "+a.bitLength());c.push(a.toArrayLike(Buffer,"be",o/8))}else{if(!l.startsWith("int"))throw new Error("Unsupported or invalid type: "+l);if((o=n(l))%8||o<8||o>256)throw new Error("Invalid int<N> width: "+o);if((a=s(f)).bitLength()>o)throw new Error("Supplied int exceeds width: "+o+" vs "+a.bitLength());c.push(a.toTwos(o).toArrayLike(Buffer,"be",o/8))}}return Buffer.concat(c)}return Zc={rawEncode:function(e,t){var n=[],i=[],o=32*e.length;for(var s in e){var u=r(e[s]),l=a(u,t[s]);c(u)?(n.push(a("uint256",o)),i.push(l),o+=l.length):n.push(l)}return Buffer.concat(n.concat(i))},solidityPack:u,soliditySHA3:function(t,r){return e.keccak(u(t,r))}},Zc}function ru(){if(Kc)return Qc;Kc=1;var e=eu(),t=tu(),r={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},n={encodeData:function(r,n,i){var o=this,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=["bytes32"],c=[this.hashType(r,i)];if(s){var u,l=function(r,n,a){if(void 0!==i[n])return["bytes32",null==a?"0x0000000000000000000000000000000000000000000000000000000000000000":e.keccak(o.encodeData(n,a,i,s))];if(void 0===a)throw new Error("missing value for field ".concat(r," of type ").concat(n));if("bytes"===n)return["bytes32",e.keccak(a)];if("string"===n)return"string"==typeof a&&(a=Buffer.from(a,"utf8")),["bytes32",e.keccak(a)];if(n.lastIndexOf("]")===n.length-1){var c=n.slice(0,n.lastIndexOf("[")),u=a.map(function(e){return l(r,c,e)});return["bytes32",e.keccak(t.rawEncode(u.map(function(e){return x(e,1)[0]}),u.map(function(e){return x(e,2)[1]})))]}return[n,a]},f=S(i[r]);try{for(f.s();!(u=f.n()).done;){var d=u.value,h=x(l(d.name,d.type,n[d.name]),2),p=h[0],v=h[1];a.push(p),c.push(v)}}catch(w){f.e(w)}finally{f.f()}}else{var g,y=S(i[r]);try{for(y.s();!(g=y.n()).done;){var m=g.value,b=n[m.name];if(void 0!==b)if("bytes"===m.type)a.push("bytes32"),b=e.keccak(b),c.push(b);else if("string"===m.type)a.push("bytes32"),"string"==typeof b&&(b=Buffer.from(b,"utf8")),b=e.keccak(b),c.push(b);else if(void 0!==i[m.type])a.push("bytes32"),b=e.keccak(this.encodeData(m.type,b,i,s)),c.push(b);else{if(m.type.lastIndexOf("]")===m.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");a.push(m.type),c.push(b)}}}catch(w){y.e(w)}finally{y.f()}}return t.rawEncode(a,c)},encodeType:function(e,t){var r,n="",i=this.findTypeDependencies(e,t).filter(function(t){return t!==e}),o=S(i=[e].concat(i.sort()));try{for(o.s();!(r=o.n()).done;){var s=r.value;if(!t[s])throw new Error("No type definition specified: "+s);n+=s+"("+t[s].map(function(e){var t=e.name;return e.type+" "+t}).join(",")+")"}}catch(a){o.e(a)}finally{o.f()}return n},findTypeDependencies:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e=e.match(/^\w*/)[0],r.includes(e)||void 0===t[e])return r;r.push(e);var n,i=S(t[e]);try{for(i.s();!(n=i.n()).done;){var o,s=n.value,a=S(this.findTypeDependencies(s.type,t,r));try{for(a.s();!(o=a.n()).done;){var c=o.value;!r.includes(c)&&r.push(c)}}catch(u){a.e(u)}finally{a.f()}}}catch(u){i.e(u)}finally{i.f()}return r},hashStruct:function(t,r,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return e.keccak(this.encodeData(t,r,n,i))},hashType:function(t,r){return e.keccak(this.encodeType(t,r))},sanitizeData:function(e){var t={};for(var n in r.properties)e[n]&&(t[n]=e[n]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.sanitizeData(t),i=[Buffer.from("1901","hex")];return i.push(this.hashStruct("EIP712Domain",n.domain,n.types,r)),"EIP712Domain"!==n.primaryType&&i.push(this.hashStruct(n.primaryType,n.message,n.types,r)),e.keccak(Buffer.concat(i))}};return Qc={TYPED_MESSAGE_SCHEMA:r,TypedDataUtils:n,hashForSignTypedDataLegacy:function(r){return function(r){var n=new Error("Expect argument to be non-empty array");if("object"!==L(r)||!r.length)throw n;var i=r.map(function(t){return"bytes"===t.type?e.toBuffer(t.value):t.value}),o=r.map(function(e){return e.type}),s=r.map(function(e){if(!e.name)throw n;return e.type+" "+e.name});return t.soliditySHA3(["bytes32","bytes32"],[t.soliditySHA3(new Array(r.length).fill("string"),s),t.soliditySHA3(o,i)])}(r.data)},hashForSignTypedData_v3:function(e){return n.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return n.hash(e.data)}},Qc}var nu,iu={};function ou(){if(nu)return iu;nu=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.filterFromParam=iu.FilterPolyfill=void 0;var e=kr(),t=_r(),r={jsonrpc:"2.0",id:0},n=function(){return C(function t(r){R(this,t),this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,e.IntNumber)(1),this.REQUEST_THROTTLE_INTERVAL=1e3,this.lastFetchTimestamp=new Date(0),this.resolvers=[],this.provider=r},[{key:"newFilter",value:(b=p(f().m(function e(r){var n,o,s;return f().w(function(e){for(;;)switch(e.n){case 0:return n=i(r),o=this.makeFilterId(),e.n=1,this.setInitialCursorPosition(o,n.fromBlock);case 1:return s=e.v,console.info("Installing new log filter(".concat(o,"):"),n,"initial cursor position:",s),this.logFilters.set(o,n),this.setFilterTimeout(o),e.a(2,(0,t.hexStringFromIntNumber)(o))}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"newBlockFilter",value:(m=p(f().m(function e(){var r,n;return f().w(function(e){for(;;)switch(e.n){case 0:return r=this.makeFilterId(),e.n=1,this.setInitialCursorPosition(r,"latest");case 1:return n=e.v,console.info("Installing new block filter (".concat(r,") with initial cursor position:"),n),this.blockFilters.add(r),this.setFilterTimeout(r),e.a(2,(0,t.hexStringFromIntNumber)(r))}},e,this)})),function(){return m.apply(this,arguments)})},{key:"newPendingTransactionFilter",value:(y=p(f().m(function e(){var r,n;return f().w(function(e){for(;;)switch(e.n){case 0:return r=this.makeFilterId(),e.n=1,this.setInitialCursorPosition(r,"latest");case 1:return n=e.v,console.info("Installing new block filter (".concat(r,") with initial cursor position:"),n),this.pendingTransactionFilters.add(r),this.setFilterTimeout(r),e.a(2,(0,t.hexStringFromIntNumber)(r))}},e,this)})),function(){return y.apply(this,arguments)})},{key:"uninstallFilter",value:function(e){var r=(0,t.intNumberFromHexString)(e);return console.info("Uninstalling filter (".concat(r,")")),this.deleteFilter(r),!0}},{key:"getFilterChanges",value:function(e){var r=(0,t.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(c())}},{key:"getFilterLogs",value:(g=p(f().m(function e(n){var i,s;return f().w(function(e){for(;;)switch(e.n){case 0:if(i=(0,t.intNumberFromHexString)(n),s=this.logFilters.get(i)){e.n=1;break}return e.a(2,c());case 1:return e.a(2,this.sendAsyncPromise(Object.assign(Object.assign({},r),{method:"eth_getLogs",params:[o(s)]})))}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"makeFilterId",value:function(){return(0,e.IntNumber)(++this.nextFilterId)}},{key:"sendAsyncPromise",value:function(e){var t=this;return new Promise(function(r,n){t.provider.sendAsync(e,function(e,t){return e?n(e):Array.isArray(t)||null==t?n(new Error("unexpected response received: ".concat(JSON.stringify(t)))):void r(t)})})}},{key:"deleteFilter",value:function(e){console.info("Deleting filter (".concat(e,")")),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}},{key:"getLogFilterChanges",value:(v=p(f().m(function n(i){var s,a,l,d,h,p,v,g;return f().w(function(n){for(;;)switch(n.n){case 0:if(s=this.logFilters.get(i),(a=this.cursors.get(i))&&s){n.n=1;break}return n.a(2,c());case 1:return n.n=2,this.getCurrentBlockHeight();case 2:if(l=n.v,d="latest"===s.toBlock?l:s.toBlock,!(a>l)){n.n=3;break}return n.a(2,u());case 3:if(!(a>Number(s.toBlock))){n.n=4;break}return n.a(2,u());case 4:return console.info("Fetching logs from ".concat(a," to ").concat(d," for filter ").concat(i)),n.n=5,this.sendAsyncPromise(Object.assign(Object.assign({},r),{method:"eth_getLogs",params:[o(Object.assign(Object.assign({},s),{fromBlock:a,toBlock:d}))]}));case 5:return h=n.v,Array.isArray(h.result)&&(p=h.result.map(function(e){return(0,t.intNumberFromHexString)(e.blockNumber||"0x0")}),(v=Math.max.apply(Math,_(p)))&&v>a&&(g=(0,e.IntNumber)(v+1),console.info("Moving cursor position for filter (".concat(i,") from ").concat(a," to ").concat(g)),this.cursors.set(i,g))),n.a(2,h)}},n,this)})),function(e){return v.apply(this,arguments)})},{key:"getBlockFilterChanges",value:(h=p(f().m(function n(i){var o,s,a,l,d=this;return f().w(function(n){for(;;)switch(n.n){case 0:if(o=this.cursors.get(i)){n.n=1;break}return n.a(2,c());case 1:return n.n=2,this.getCurrentBlockHeight();case 2:if(s=n.v,!(o>s)){n.n=3;break}return n.a(2,u());case 3:return console.info("Fetching blocks from ".concat(o," to ").concat(s," for filter (").concat(i,")")),n.n=4,Promise.all((0,t.range)(o,s+1).map(function(t){return d.getBlockHashByNumber((0,e.IntNumber)(t))}));case 4:return a=n.v.filter(function(e){return!!e}),l=(0,e.IntNumber)(o+a.length),console.info("Moving cursor position for filter (".concat(i,") from ").concat(o," to ").concat(l)),this.cursors.set(i,l),n.a(2,Object.assign(Object.assign({},r),{result:a}))}},n,this)})),function(e){return h.apply(this,arguments)})},{key:"getPendingTransactionFilterChanges",value:(d=p(f().m(function e(t){return f().w(function(e){for(;;)if(0===e.n)return e.a(2,Promise.resolve(u()))},e)})),function(e){return d.apply(this,arguments)})},{key:"setInitialCursorPosition",value:(l=p(f().m(function e(t,r){var n,i;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.getCurrentBlockHeight();case 1:return n=e.v,i="number"==typeof r&&r>n?r:n,this.cursors.set(t,i),e.a(2,i)}},e,this)})),function(e,t){return l.apply(this,arguments)})},{key:"setFilterTimeout",value:function(e){var t=this,r=this.timeouts.get(e);r&&window.clearTimeout(r);var n=window.setTimeout(function(){console.info("Filter (".concat(e,") timed out")),t.deleteFilter(e)},3e5);this.timeouts.set(e,n)}},{key:"getCurrentBlockHeight",value:(a=p(f().m(function e(){var t,r,n=this;return f().w(function(e){for(;;)switch(e.n){case 0:if(!((t=new Date).getTime()-this.lastFetchTimestamp.getTime()>this.REQUEST_THROTTLE_INTERVAL)){e.n=2;break}return this.lastFetchTimestamp=t,e.n=1,this._getCurrentBlockHeight();case 1:r=e.v,this.currentBlockHeight=r,this.resolvers.forEach(function(e){return e(r)}),this.resolvers=[];case 2:if(this.currentBlockHeight){e.n=3;break}return e.a(2,new Promise(function(e){return n.resolvers.push(e)}));case 3:return e.a(2,this.currentBlockHeight)}},e,this)})),function(){return a.apply(this,arguments)})},{key:"_getCurrentBlockHeight",value:(s=p(f().m(function e(){var n,i;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.sendAsyncPromise(Object.assign(Object.assign({},r),{method:"eth_blockNumber",params:[]}));case 1:return n=e.v,i=n.result,e.a(2,(0,t.intNumberFromHexString)((0,t.ensureHexString)(i)))}},e,this)})),function(){return s.apply(this,arguments)})},{key:"getBlockHashByNumber",value:(n=p(f().m(function e(n){var i;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.sendAsyncPromise(Object.assign(Object.assign({},r),{method:"eth_getBlockByNumber",params:[(0,t.hexStringFromIntNumber)(n),!1]}));case 1:if(!(i=e.v).result||"string"!=typeof i.result.hash){e.n=2;break}return e.a(2,(0,t.ensureHexString)(i.result.hash));case 2:return e.a(2,null)}},e,this)})),function(e){return n.apply(this,arguments)})}]);var n,s,a,l,d,h,v,g,y,m,b}();function i(e){return{fromBlock:s(e.fromBlock),toBlock:s(e.toBlock),addresses:void 0===e.address?null:Array.isArray(e.address)?e.address:[e.address],topics:e.topics||[]}}function o(e){var t={fromBlock:a(e.fromBlock),toBlock:a(e.toBlock),topics:e.topics};return null!==e.addresses&&(t.address=e.addresses),t}function s(r){if(void 0===r||"latest"===r||"pending"===r)return"latest";if("earliest"===r)return(0,e.IntNumber)(0);if((0,t.isHexString)(r))return(0,t.intNumberFromHexString)(r);throw new Error("Invalid block option: ".concat(String(r)))}function a(e){return"latest"===e?e:(0,t.hexStringFromIntNumber)(e)}function c(){return Object.assign(Object.assign({},r),{error:{code:-32e3,message:"filter not found"}})}function u(){return Object.assign(Object.assign({},r),{result:[]})}return iu.FilterPolyfill=n,iu.filterFromParam=i,iu}var su,au,cu,uu,lu={},fu={},du={};function hu(){if(au)return su;return au=1,su=function(e){var t=(e=e||{}).max||Number.MAX_SAFE_INTEGER,r=void 0!==e.start?e.start:Math.floor(Math.random()*t);return function(){return r%=t,r++}},su}var pu,vu,gu={},yu={};function mu(){if(pu)return yu;function e(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(function(){throw n})}}pu=1,Object.defineProperty(yu,"__esModule",{value:!0});var t=function(t){function r(){return R(this,r),g(this,r,arguments)}return y(r,t),C(r,[{key:"emit",value:function(t){var r="error"===t,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(r){var a;if(o.length>0&&(a=o[0]),a instanceof Error)throw a;var c=new Error("Unhandled error.".concat(a?" (".concat(a.message,")"):""));throw c.context=a,c}var u=n[t];if(void 0===u)return!1;if("function"==typeof u)e(u,this,o);else for(var l=u.length,f=function(e){for(var t=e.length,r=new Array(t),n=0;n<t;n+=1)r[n]=e[n];return r}(u),d=0;d<l;d+=1)e(f[d],this,o);return!0}}])}(P().EventEmitter);return yu.default=t,yu}function bu(){if(vu)return gu;vu=1;var e=gu&&gu.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gu,"__esModule",{value:!0}),gu.BaseBlockTracker=void 0;var t=e(mu()),r=function(e,t){return e+t},n=["sync","latest"],i=function(e){function t(e){var r;return R(this,t),(r=g(this,t))._blockResetDuration=e.blockResetDuration||2e4,r._usePastBlocks=e.usePastBlocks||!1,r._currentBlock=null,r._isRunning=!1,r._onNewListener=r._onNewListener.bind(r),r._onRemoveListener=r._onRemoveListener.bind(r),r._resetCurrentBlock=r._resetCurrentBlock.bind(r),r._setupInternalEvents(),r}return y(t,e),C(t,[{key:"destroy",value:(c=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:return this._cancelBlockResetTimeout(),e.n=1,this._maybeEnd();case 1:u(t,"removeAllListeners",this,3)([]);case 2:return e.a(2)}},e,this)})),function(){return c.apply(this,arguments)})},{key:"isRunning",value:function(){return this._isRunning}},{key:"getCurrentBlock",value:function(){return this._currentBlock}},{key:"getLatestBlock",value:(a=p(f().m(function e(){var t,r=this;return f().w(function(e){for(;;)switch(e.n){case 0:if(!this._currentBlock){e.n=1;break}return e.a(2,this._currentBlock);case 1:return e.n=2,new Promise(function(e){return r.once("latest",e)});case 2:return t=e.v,e.a(2,t)}},e,this)})),function(){return a.apply(this,arguments)})},{key:"removeAllListeners",value:function(e){return e?u(t,"removeAllListeners",this,3)([e]):u(t,"removeAllListeners",this,3)([]),this._setupInternalEvents(),this._onRemoveListener(),this}},{key:"_setupInternalEvents",value:function(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}},{key:"_onNewListener",value:function(e){n.includes(e)&&this._maybeStart()}},{key:"_onRemoveListener",value:function(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}},{key:"_maybeStart",value:(s=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:if(!this._isRunning){e.n=1;break}return e.a(2);case 1:return this._isRunning=!0,this._cancelBlockResetTimeout(),e.n=2,this._start();case 2:this.emit("_started");case 3:return e.a(2)}},e,this)})),function(){return s.apply(this,arguments)})},{key:"_maybeEnd",value:(i=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:if(this._isRunning){e.n=1;break}return e.a(2);case 1:return this._isRunning=!1,this._setupBlockResetTimeout(),e.n=2,this._end();case 2:this.emit("_ended");case 3:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_getBlockTrackerEventCount",value:function(){var e=this;return n.map(function(t){return e.listenerCount(t)}).reduce(r)}},{key:"_shouldUseNewBlock",value:function(e){var t=this._currentBlock;if(!t)return!0;var r=o(e),n=o(t);return this._usePastBlocks&&r<n||r>n}},{key:"_newPotentialLatest",value:function(e){this._shouldUseNewBlock(e)&&this._setCurrentBlock(e)}},{key:"_setCurrentBlock",value:function(e){var t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}},{key:"_setupBlockResetTimeout",value:function(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}},{key:"_cancelBlockResetTimeout",value:function(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}},{key:"_resetCurrentBlock",value:function(){this._currentBlock=null}}]);var i,s,a,c}(t.default);function o(e){return Number.parseInt(e,16)}return gu.BaseBlockTracker=i,gu}var wu={},ku={},_u={},Eu=function(e){function t(e,n){var i,o;R(this,t);var s=e.message,a=e.explanation,c=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,r),u=e.path,l=0===u.length?s:"At path: ".concat(u.join(".")," -- ").concat(s);return i=g(this,t,[null!=a?a:l]),null!=a&&(i.cause=l),Object.assign(i,c),i.name=i.constructor.name,i.failures=function(){return null!=o?o:o=[e].concat(_(n()))},i}return y(t,e),C(t)}(m(TypeError));function Su(e){return Ru(e)&&"function"==typeof e[Symbol.iterator]}function Ru(e){return"object"===L(e)&&null!=e}function Iu(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function Cu(e){return"symbol"===L(e)?e.toString():"string"==typeof e?JSON.stringify(e):"".concat(e)}function Au(e,t,r,n){if(!0!==e){!1===e?e={}:"string"==typeof e&&(e={message:e});var i=t.path,o=t.branch,s=r.type,a=e,u=a.refinement,l=a.message,f=void 0===l?"Expected a value of type `".concat(s,"`").concat(u?" with refinement `".concat(u,"`"):"",", but received: `").concat(Cu(n),"`"):l;return c(c({value:n,type:s,refinement:u,key:i[i.length-1],path:i,branch:o},e),{},{message:f})}}function xu(e,t,r,n){var i,o,s,a,c;return f().w(function(u){for(;;)switch(u.p=u.n){case 0:Su(e)||(e=[e]),i=S(e),u.p=1,i.s();case 2:if((o=i.n()).done){u.n=4;break}if(s=o.value,!(a=Au(s,t,r,n))){u.n=3;break}return u.n=3,a;case 3:u.n=2;break;case 4:u.n=6;break;case 5:u.p=5,c=u.v,i.e(c);case 6:return u.p=6,i.f(),u.f(6);case 7:return u.a(2)}},vt,null,[[1,5,6,7]])}function Mu(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return f().m(function n(){var i,o,s,a,c,u,l,d,h,p,v,g,y,m,b,w,k,E,R,I,C,A,M,O,P,N,L,T,j,B,D;return f().w(function(n){for(;;)switch(n.p=n.n){case 0:if(i=r.path,o=void 0===i?[]:i,s=r.branch,a=void 0===s?[e]:s,c=r.coerce,u=void 0!==c&&c,l=r.mask,d=void 0!==l&&l,h={path:o,branch:a},u&&(e=t.coercer(e,h),d&&"type"!==t.type&&Ru(t.schema)&&Ru(e)&&!Array.isArray(e)))for(p in e)void 0===t.schema[p]&&delete e[p];v="valid",g=S(t.validator(e,h)),n.p=1,g.s();case 2:if((y=g.n()).done){n.n=4;break}return(m=y.value).explanation=r.message,v="not_valid",n.n=3,[m,void 0];case 3:n.n=2;break;case 4:n.n=6;break;case 5:n.p=5,T=n.v,g.e(T);case 6:return n.p=6,g.f(),n.f(6);case 7:b=S(t.entries(e,h)),n.p=8,b.s();case 9:if((w=b.n()).done){n.n=19;break}k=x(w.value,3),E=k[0],R=k[1],I=k[2],C=Mu(R,I,{path:void 0===E?o:[].concat(_(o),[E]),branch:void 0===E?a:[].concat(_(a),[R]),coerce:u,mask:d,message:r.message}),A=S(C),n.p=10,A.s();case 11:if((M=A.n()).done){n.n=15;break}if(!(O=M.value)[0]){n.n=13;break}return v=null!=O[0].refinement?"not_refined":"not_valid",n.n=12,[O[0],void 0];case 12:n.n=14;break;case 13:u&&(R=O[1],void 0===E?e=R:e instanceof Map?e.set(E,R):e instanceof Set?e.add(R):Ru(e)&&(void 0!==R||E in e)&&(e[E]=R));case 14:n.n=11;break;case 15:n.n=17;break;case 16:n.p=16,j=n.v,A.e(j);case 17:return n.p=17,A.f(),n.f(17);case 18:n.n=9;break;case 19:n.n=21;break;case 20:n.p=20,B=n.v,b.e(B);case 21:return n.p=21,b.f(),n.f(21);case 22:if("not_valid"===v){n.n=29;break}P=S(t.refiner(e,h)),n.p=23,P.s();case 24:if((N=P.n()).done){n.n=26;break}return(L=N.value).explanation=r.message,v="not_refined",n.n=25,[L,void 0];case 25:n.n=24;break;case 26:n.n=28;break;case 27:n.p=27,D=n.v,P.e(D);case 28:return n.p=28,P.f(),n.f(28);case 29:if("valid"!==v){n.n=30;break}return n.n=30,[void 0,e];case 30:return n.a(2)}},n,null,[[23,27,28,29],[10,16,17,18],[8,20,21,22],[1,5,6,7]])})()}var Ou=function(){return C(function e(t){var r=this;R(this,e);var n=t.type,i=t.schema,o=t.validator,s=t.refiner,a=t.coercer,c=void 0===a?function(e){return e}:a,u=t.entries,l=void 0===u?f().m(function e(){return f().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)}):u;this.type=n,this.schema=i,this.entries=l,this.coercer=c,this.validator=o?function(e,t){return xu(o(e,t),t,r,e)}:function(){return[]},this.refiner=s?function(e,t){return xu(s(e,t),t,r,e)}:function(){return[]}},[{key:"assert",value:function(e,t){return Pu(e,this,t)}},{key:"create",value:function(e,t){return Nu(e,this,t)}},{key:"is",value:function(e){return Tu(e,this)}},{key:"mask",value:function(e,t){return Lu(e,this,t)}},{key:"validate",value:function(e){return ju(e,this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}])}();function Pu(e,t,r){var n=ju(e,t,{message:r});if(n[0])throw n[0]}function Nu(e,t,r){var n=ju(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Lu(e,t,r){var n=ju(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Tu(e,t){return!ju(e,t)[0]}function ju(e,t){var r=Mu(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),n=function(e){var t=e.next(),r=t.done,n=t.value;return r?void 0:n}(r);return n[0]?[new Eu(n[0],f().m(function e(){var t,n,i,o;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:t=S(r),e.p=1,t.s();case 2:if((n=t.n()).done){e.n=4;break}if(!(i=n.value)[0]){e.n=3;break}return e.n=3,i[0];case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,o=e.v,t.e(o);case 6:return e.p=6,t.f(),e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])})),void 0]:[void 0,n[1]]}function Bu(e,t){return new Ou({type:e,schema:null,validator:t})}function Du(){return Bu("never",function(){return!1})}function Fu(e){var t=e?Object.keys(e):[],r=Du();return new Ou({type:"object",schema:e||null,entries:f().m(function n(i){var o,s,a,c,u,l,d,h,p;return f().w(function(n){for(;;)switch(n.p=n.n){case 0:if(!e||!Ru(i)){n.n=14;break}o=new Set(Object.keys(i)),s=S(t),n.p=1,s.s();case 2:if((a=s.n()).done){n.n=4;break}return c=a.value,o.delete(c),n.n=3,[c,i[c],e[c]];case 3:n.n=2;break;case 4:n.n=6;break;case 5:n.p=5,h=n.v,s.e(h);case 6:return n.p=6,s.f(),n.f(6);case 7:u=S(o),n.p=8,u.s();case 9:if((l=u.n()).done){n.n=11;break}return d=l.value,n.n=10,[d,i[d],r];case 10:n.n=9;break;case 11:n.n=13;break;case 12:n.p=12,p=n.v,u.e(p);case 13:return n.p=13,u.f(),n.f(13);case 14:return n.a(2)}},n,null,[[8,12,13,14],[1,5,6,7]])}),validator:function(e){return Ru(e)||"Expected an object, but received: ".concat(Cu(e))},coercer:function(e){return Ru(e)?c({},e):e}})}function Uu(e){return new Ou(c(c({},e),{},{validator:function(t,r){return void 0===t||e.validator(t,r)},refiner:function(t,r){return void 0===t||e.refiner(t,r)}}))}function Hu(){return Bu("string",function(e){return"string"==typeof e||"Expected a string, but received: ".concat(Cu(e))})}function Wu(e){var t=Object.keys(e);return new Ou({type:"type",schema:e,entries:f().m(function r(n){var i,o,s;return f().w(function(r){for(;;)switch(r.n){case 0:if(!Ru(n)){r.n=3;break}i=0,o=t;case 1:if(!(i<o.length)){r.n=3;break}return s=o[i],r.n=2,[s,n[s],e[s]];case 2:i++,r.n=1;break;case 3:return r.a(2)}},r)}),validator:function(e){return Ru(e)||"Expected an object, but received: ".concat(Cu(e))},coercer:function(e){return Ru(e)?c({},e):e}})}function qu(){return Bu("unknown",function(){return!0})}function Vu(e,t,r){return new Ou(c(c({},e),{},{coercer:function(n,i){return Tu(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)}}))}function zu(e){return e instanceof Map||e instanceof Set?e.size:e.length}function Ju(e,t,r){return new Ou(c(c({},e),{},{refiner:f().m(function n(i,o){var a,u,l,d,h,p;return f().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.d(s(e.refiner(i,o)),1);case 1:a=r(i,o),u=xu(a,o,e,i),l=S(u),n.p=2,l.s();case 3:if((d=l.n()).done){n.n=5;break}return h=d.value,n.n=4,c(c({},h),{},{refinement:t});case 4:n.n=3;break;case 5:n.n=7;break;case 6:n.p=6,p=n.v,l.e(p);case 7:return n.p=7,l.f(),n.f(7);case 8:return n.a(2)}},n,null,[[2,6,7,8]])})}))}var Gu,Zu=Object.freeze(Object.defineProperty({__proto__:null,Struct:Ou,StructError:Eu,any:function(){return Bu("any",function(){return!0})},array:function(e){return new Ou({type:"array",schema:e,entries:f().m(function t(r){var n,i,o,s,a,c;return f().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!e||!Array.isArray(r)){t.n=7;break}n=S(r.entries()),t.p=1,n.s();case 2:if((i=n.n()).done){t.n=4;break}return o=x(i.value,2),s=o[0],a=o[1],t.n=3,[s,a,e];case 3:t.n=2;break;case 4:t.n=6;break;case 5:t.p=5,c=t.v,n.e(c);case 6:return t.p=6,n.f(),t.f(6);case 7:return t.a(2)}},t,null,[[1,5,6,7]])}),coercer:function(e){return Array.isArray(e)?e.slice():e},validator:function(e){return Array.isArray(e)||"Expected an array value, but received: ".concat(Cu(e))}})},assert:Pu,assign:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n="type"===t[0].type,i=t.map(function(e){return e.schema}),o=Object.assign.apply(Object,[{}].concat(_(i)));return n?Wu(o):Fu(o)},bigint:function(){return Bu("bigint",function(e){return"bigint"==typeof e})},boolean:function(){return Bu("boolean",function(e){return"boolean"==typeof e})},coerce:Vu,create:Nu,date:function(){return Bu("date",function(e){return e instanceof Date&&!isNaN(e.getTime())||"Expected a valid `Date` object, but received: ".concat(Cu(e))})},defaulted:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Vu(e,qu(),function(e){var n="function"==typeof t?t():t;if(void 0===e)return n;if(!r.strict&&Iu(e)&&Iu(n)){var i=c({},e),o=!1;for(var s in n)void 0===i[s]&&(i[s]=n[s],o=!0);if(o)return i}return e})},define:Bu,deprecated:function(e,t){return new Ou(c(c({},e),{},{refiner:function(t,r){return void 0===t||e.refiner(t,r)},validator:function(r,n){return void 0===r||(t(r,n),e.validator(r,n))}}))},dynamic:function(e){return new Ou({type:"dynamic",schema:null,entries:f().m(function t(r,n){var i;return f().w(function(t){for(;;)switch(t.n){case 0:return i=e(r,n),t.d(s(i.entries(r,n)),1);case 1:return t.a(2)}},t)}),validator:function(t,r){return e(t,r).validator(t,r)},coercer:function(t,r){return e(t,r).coercer(t,r)},refiner:function(t,r){return e(t,r).refiner(t,r)}})},empty:function(e){return Ju(e,"empty",function(t){var r=zu(t);return 0===r||"Expected an empty ".concat(e.type," but received one with a size of `").concat(r,"`")})},enums:function(e){var t,r={},n=e.map(function(e){return Cu(e)}).join(),i=S(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;r[o]=o}}catch(s){i.e(s)}finally{i.f()}return new Ou({type:"enums",schema:r,validator:function(t){return e.includes(t)||"Expected one of `".concat(n,"`, but received: ").concat(Cu(t))}})},func:function(){return Bu("func",function(e){return"function"==typeof e||"Expected a function, but received: ".concat(Cu(e))})},instance:function(e){return Bu("instance",function(t){return t instanceof e||"Expected a `".concat(e.name,"` instance, but received: ").concat(Cu(t))})},integer:function(){return Bu("integer",function(e){return"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||"Expected an integer, but received: ".concat(Cu(e))})},intersection:function(e){return new Ou({type:"intersection",schema:null,entries:f().m(function t(r,n){var i,o,a,c;return f().w(function(t){for(;;)switch(t.p=t.n){case 0:i=S(e),t.p=1,i.s();case 2:if((o=i.n()).done){t.n=4;break}return a=o.value,t.d(s(a.entries(r,n)),3);case 3:t.n=2;break;case 4:t.n=6;break;case 5:t.p=5,c=t.v,i.e(c);case 6:return t.p=6,i.f(),t.f(6);case 7:return t.a(2)}},t,null,[[1,5,6,7]])}),validator:f().m(function t(r,n){var i,o,a,c;return f().w(function(t){for(;;)switch(t.p=t.n){case 0:i=S(e),t.p=1,i.s();case 2:if((o=i.n()).done){t.n=4;break}return a=o.value,t.d(s(a.validator(r,n)),3);case 3:t.n=2;break;case 4:t.n=6;break;case 5:t.p=5,c=t.v,i.e(c);case 6:return t.p=6,i.f(),t.f(6);case 7:return t.a(2)}},t,null,[[1,5,6,7]])}),refiner:f().m(function t(r,n){var i,o,a,c;return f().w(function(t){for(;;)switch(t.p=t.n){case 0:i=S(e),t.p=1,i.s();case 2:if((o=i.n()).done){t.n=4;break}return a=o.value,t.d(s(a.refiner(r,n)),3);case 3:t.n=2;break;case 4:t.n=6;break;case 5:t.p=5,c=t.v,i.e(c);case 6:return t.p=6,i.f(),t.f(6);case 7:return t.a(2)}},t,null,[[1,5,6,7]])})})},is:Tu,lazy:function(e){var t;return new Ou({type:"lazy",schema:null,entries:f().m(function r(n,i){return f().w(function(r){for(;;)switch(r.n){case 0:return null!=t||(t=e()),r.d(s(t.entries(n,i)),1);case 1:return r.a(2)}},r)}),validator:function(r,n){return null!=t||(t=e()),t.validator(r,n)},coercer:function(r,n){return null!=t||(t=e()),t.coercer(r,n)},refiner:function(r,n){return null!=t||(t=e()),t.refiner(r,n)}})},literal:function(e){var t=Cu(e),r=L(e);return new Ou({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:function(r){return r===e||"Expected the literal `".concat(t,"`, but received: ").concat(Cu(r))}})},map:function(e,t){return new Ou({type:"map",schema:null,entries:f().m(function r(n){var i,o,s,a,c,u;return f().w(function(r){for(;;)switch(r.p=r.n){case 0:if(!(e&&t&&n instanceof Map)){r.n=8;break}i=S(n.entries()),r.p=1,i.s();case 2:if((o=i.n()).done){r.n=5;break}return s=x(o.value,2),a=s[0],c=s[1],r.n=3,[a,a,e];case 3:return r.n=4,[a,c,t];case 4:r.n=2;break;case 5:r.n=7;break;case 6:r.p=6,u=r.v,i.e(u);case 7:return r.p=7,i.f(),r.f(7);case 8:return r.a(2)}},r,null,[[1,6,7,8]])}),coercer:function(e){return e instanceof Map?new Map(e):e},validator:function(e){return e instanceof Map||"Expected a `Map` object, but received: ".concat(Cu(e))}})},mask:Lu,max:function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).exclusive;return Ju(e,"max",function(n){return r?n<t:n<=t||"Expected a ".concat(e.type," less than ").concat(r?"":"or equal to ").concat(t," but received `").concat(n,"`")})},min:function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).exclusive;return Ju(e,"min",function(n){return r?n>t:n>=t||"Expected a ".concat(e.type," greater than ").concat(r?"":"or equal to ").concat(t," but received `").concat(n,"`")})},never:Du,nonempty:function(e){return Ju(e,"nonempty",function(t){return zu(t)>0||"Expected a nonempty ".concat(e.type," but received an empty one")})},nullable:function(e){return new Ou(c(c({},e),{},{validator:function(t,r){return null===t||e.validator(t,r)},refiner:function(t,r){return null===t||e.refiner(t,r)}}))},number:function(){return Bu("number",function(e){return"number"==typeof e&&!isNaN(e)||"Expected a number, but received: ".concat(Cu(e))})},object:Fu,omit:function(e,t){var r,n=c({},e.schema),i=S(t);try{for(i.s();!(r=i.n()).done;){delete n[r.value]}}catch(o){i.e(o)}finally{i.f()}return"type"===e.type?Wu(n):Fu(n)},optional:Uu,partial:function(e){var t=e instanceof Ou,r=c({},t?e.schema:e);for(var n in r)r[n]=Uu(r[n]);return t&&"type"===e.type?Wu(r):Fu(r)},pattern:function(e,t){return Ju(e,"pattern",function(r){return t.test(r)||"Expected a ".concat(e.type," matching `/").concat(t.source,'/` but received "').concat(r,'"')})},pick:function(e,t){var r,n=e.schema,i={},o=S(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;i[s]=n[s]}}catch(a){o.e(a)}finally{o.f()}return"type"===e.type?Wu(i):Fu(i)},record:function(e,t){return new Ou({type:"record",schema:null,entries:f().m(function r(n){var i,s,a,c;return f().w(function(r){for(;;)switch(r.n){case 0:if(!Ru(n)){r.n=4;break}a=o(n);case 1:if((c=a()).done){r.n=4;break}return i=c.value,s=n[i],r.n=2,[i,i,e];case 2:return r.n=3,[i,s,t];case 3:r.n=1;break;case 4:return r.a(2)}},r)}),validator:function(e){return Ru(e)||"Expected an object, but received: ".concat(Cu(e))}})},refine:Ju,regexp:function(){return Bu("regexp",function(e){return e instanceof RegExp})},set:function(e){return new Ou({type:"set",schema:null,entries:f().m(function t(r){var n,i,o,s;return f().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!(e&&r instanceof Set)){t.n=7;break}n=S(r),t.p=1,n.s();case 2:if((i=n.n()).done){t.n=4;break}return o=i.value,t.n=3,[o,o,e];case 3:t.n=2;break;case 4:t.n=6;break;case 5:t.p=5,s=t.v,n.e(s);case 6:return t.p=6,n.f(),t.f(6);case 7:return t.a(2)}},t,null,[[1,5,6,7]])}),coercer:function(e){return e instanceof Set?new Set(e):e},validator:function(e){return e instanceof Set||"Expected a `Set` object, but received: ".concat(Cu(e))}})},size:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n="Expected a ".concat(e.type),i=t===r?"of `".concat(t,"`"):"between `".concat(t,"` and `").concat(r,"`");return Ju(e,"size",function(e){if("number"==typeof e||e instanceof Date)return t<=e&&e<=r||"".concat(n," ").concat(i," but received `").concat(e,"`");if(e instanceof Map||e instanceof Set){var o=e.size;return t<=o&&o<=r||"".concat(n," with a size ").concat(i," but received one with a size of `").concat(o,"`")}var s=e.length;return t<=s&&s<=r||"".concat(n," with a length ").concat(i," but received one with a length of `").concat(s,"`")})},string:Hu,struct:function(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Bu(e,t)},trimmed:function(e){return Vu(e,Hu(),function(e){return e.trim()})},tuple:function(e){var t=Du();return new Ou({type:"tuple",schema:null,entries:f().m(function r(n){var i,o;return f().w(function(r){for(;;)switch(r.n){case 0:if(!Array.isArray(n)){r.n=3;break}i=Math.max(e.length,n.length),o=0;case 1:if(!(o<i)){r.n=3;break}return r.n=2,[o,n[o],e[o]||t];case 2:o++,r.n=1;break;case 3:return r.a(2)}},r)}),validator:function(e){return Array.isArray(e)||"Expected an array, but received: ".concat(Cu(e))}})},type:Wu,union:function(e){var t=e.map(function(e){return e.type}).join(" | ");return new Ou({type:"union",schema:null,coercer:function(t){var r,n=S(e);try{for(n.s();!(r=n.n()).done;){var i=x(r.value.validate(t,{coerce:!0}),2),o=i[0],s=i[1];if(!o)return s}}catch(a){n.e(a)}finally{n.f()}return t},validator:function(r,n){var o,s=[],a=S(e);try{for(a.s();!(o=a.n()).done;){var c=i(Mu(r,o.value,n)).slice(0);if(!x(c,1)[0][0])return[];var u,l=S(c);try{for(l.s();!(u=l.n()).done;){var f=x(u.value,1)[0];f&&s.push(f)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){a.e(d)}finally{a.f()}return["Expected the value to satisfy a union of `".concat(t,"`, but received: ").concat(Cu(r))].concat(s)}})},unknown:qu,validate:ju},Symbol.toStringTag,{value:"Module"})),Yu=w(Zu);function Qu(){if(Gu)return _u;Gu=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.assertExhaustive=_u.assertStruct=_u.assert=_u.AssertionError=void 0;var e=Yu;function t(e){var t=function(e){return"object"===L(e)&&null!==e&&"message"in e}(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}function r(e,t){return r=e,Boolean("string"==typeof(null===(i=null===(n=null==r?void 0:r.prototype)||void 0===n?void 0:n.constructor)||void 0===i?void 0:i.name))?new e({message:t}):e({message:t});var r,n,i}var n=function(e){function t(e){var r;return R(this,t),(r=g(this,t,[e.message])).code="ERR_ASSERTION",r}return y(t,e),C(t)}(m(Error));return _u.AssertionError=n,_u.assert=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Assertion failed.";if(!e){if(t instanceof Error)throw t;throw r(arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,t)}},_u.assertStruct=function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Assertion failed",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;try{(0,e.assert)(i,o)}catch(Xt){throw r(a,"".concat(s,": ").concat(t(Xt),"."))}},_u.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")},_u}var Ku,Xu={};function $u(){if(Ku)return Xu;Ku=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.base64=void 0;var r=Yu,i=Qu();return Xu.base64=function(o){var s,a,c,u,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=null!==(s=l.paddingRequired)&&void 0!==s&&s,d=null!==(a=l.characterSet)&&void 0!==a?a:"base64";return"base64"===d?c=String.raw(e||(e=n(["[A-Za-z0-9+/]"],["[A-Za-z0-9+\\/]"]))):((0,i.assert)("base64url"===d),c=String.raw(t||(t=n(["[-_A-Za-z0-9]"])))),u=f?new RegExp("^(?:".concat(c,"{4})*(?:").concat(c,"{3}=|").concat(c,"{2}==)?$"),"u"):new RegExp("^(?:".concat(c,"{4})*(?:").concat(c,"{2,3}|").concat(c,"{3}=|").concat(c,"{2}==)?$"),"u"),(0,r.pattern)(o,u)},Xu}var el,tl,rl={},nl={};function il(){return el||(el=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.remove0x=e.add0x=e.assertIsStrictHexString=e.assertIsHexString=e.isStrictHexString=e.isHexString=e.StrictHexStruct=e.HexStruct=void 0;var t=Yu,r=Qu();function n(r){return(0,t.is)(r,e.HexStruct)}function i(r){return(0,t.is)(r,e.StrictHexStruct)}e.HexStruct=(0,t.pattern)((0,t.string)(),/^(?:0x)?[0-9a-f]+$/i),e.StrictHexStruct=(0,t.pattern)((0,t.string)(),/^0x[0-9a-f]+$/i),e.isHexString=n,e.isStrictHexString=i,e.assertIsHexString=function(e){(0,r.assert)(n(e),"Value must be a hexadecimal string.")},e.assertIsStrictHexString=function(e){(0,r.assert)(i(e),'Value must be a hexadecimal string, starting with "0x".')},e.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?"0x".concat(e.substring(2)):"0x".concat(e)},e.remove0x=function(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}}(nl)),nl}function ol(){if(tl)return rl;tl=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.createDataView=rl.concatBytes=rl.valueToBytes=rl.stringToBytes=rl.numberToBytes=rl.signedBigIntToBytes=rl.bigIntToBytes=rl.hexToBytes=rl.bytesToString=rl.bytesToNumber=rl.bytesToSignedBigInt=rl.bytesToBigInt=rl.bytesToHex=rl.assertIsBytes=rl.isBytes=void 0;var e=Qu(),t=il();var r,n=(r=[],function(){if(0===r.length)for(var e=0;e<256;e++)r.push(e.toString(16).padStart(2,"0"));return r});function i(e){return e instanceof Uint8Array}function o(t){(0,e.assert)(i(t),"Value must be a Uint8Array.")}function s(e){if(o(e),0===e.length)return"0x";for(var r=n(),i=new Array(e.length),s=0;s<e.length;s++)i[s]=r[e[s]];return(0,t.add0x)(i.join(""))}function a(e){o(e);var t=s(e);return BigInt(t)}function c(e){var r;if("0x"===(null===(r=null==e?void 0:e.toLowerCase)||void 0===r?void 0:r.call(e)))return new Uint8Array;(0,t.assertIsHexString)(e);for(var n=(0,t.remove0x)(e).toLowerCase(),i=n.length%2==0?n:"0".concat(n),o=new Uint8Array(i.length/2),s=0;s<o.length;s++){var a=i.charCodeAt(2*s),c=i.charCodeAt(2*s+1),u=a-(a<58?48:87),l=c-(c<58?48:87);o[s]=16*u+l}return o}function u(t){return(0,e.assert)("bigint"==typeof t,"Value must be a bigint."),(0,e.assert)(t>=BigInt(0),"Value must be a non-negative bigint."),c(t.toString(16))}function l(t){return(0,e.assert)("number"==typeof t,"Value must be a number."),(0,e.assert)(t>=0,"Value must be a non-negative number."),(0,e.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead."),c(t.toString(16))}function f(t){return(0,e.assert)("string"==typeof t,"Value must be a string."),(new TextEncoder).encode(t)}function d(e){if("bigint"==typeof e)return u(e);if("number"==typeof e)return l(e);if("string"==typeof e)return e.startsWith("0x")?c(e):f(e);if(i(e))return e;throw new TypeError('Unsupported value type: "'.concat(L(e),'".'))}return rl.isBytes=i,rl.assertIsBytes=o,rl.bytesToHex=s,rl.bytesToBigInt=a,rl.bytesToSignedBigInt=function(e){o(e);var t,r=BigInt(0),n=S(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;r=(r<<BigInt(8))+BigInt(i)}}catch(s){n.e(s)}finally{n.f()}return BigInt.asIntN(8*e.length,r)},rl.bytesToNumber=function(t){o(t);var r=a(t);return(0,e.assert)(r<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(r)},rl.bytesToString=function(e){return o(e),(new TextDecoder).decode(e)},rl.hexToBytes=c,rl.bigIntToBytes=u,rl.signedBigIntToBytes=function(t,r){(0,e.assert)("bigint"==typeof t,"Value must be a bigint."),(0,e.assert)("number"==typeof r,"Byte length must be a number."),(0,e.assert)(r>0,"Byte length must be greater than 0."),(0,e.assert)(function(t,r){(0,e.assert)(r>0);var n=t>>BigInt(31);return!((~t&n)+(t&~n)>>BigInt(8*r-1))}(t,r),"Byte length is too small to represent the given value.");for(var n=t,i=new Uint8Array(r),o=0;o<i.length;o++)i[o]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return i.reverse()},rl.numberToBytes=l,rl.stringToBytes=f,rl.valueToBytes=d,rl.concatBytes=function(e){for(var t=new Array(e.length),r=0,n=0;n<e.length;n++){var i=d(e[n]);t[n]=i,r+=i.length}for(var o=new Uint8Array(r),s=0,a=0;s<t.length;s++)o.set(t[s],a),a+=t[s].length;return o},rl.createDataView=function(e){if("undefined"!=typeof Buffer&&e instanceof Buffer){var t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)},rl}var sl,al={};var cl,ul={};var ll,fl={};var dl,hl={};var pl,vl={};var gl,yl={};var ml,bl={};var wl,kl={};var _l,El={};var Sl,Rl={};var Il,Cl={};function Al(){return Il||(Il=1,function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.timeSince=e.inMilliseconds=e.Duration=void 0,(t=e.Duration||(e.Duration={}))[t.Millisecond=1]="Millisecond",t[t.Second=1e3]="Second",t[t.Minute=6e4]="Minute",t[t.Hour=36e5]="Hour",t[t.Day=864e5]="Day",t[t.Week=6048e5]="Week",t[t.Year=31536e6]="Year";var r=function(e,t){if(!function(e){return Number.isInteger(e)&&e>=0}(e))throw new Error('"'.concat(t,'" must be a non-negative integer. Received: "').concat(e,'".'))};e.inMilliseconds=function(e,t){return r(e,"count"),e*t},e.timeSince=function(e){return r(e,"timestamp"),Date.now()-e}}(Cl)),Cl}var xl,Ml={};var Ol,Pl,Nl,Ll,Tl={};function jl(){return Pl||(Pl=1,function(e){var t=ku&&ku.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=ku&&ku.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Qu(),e),r($u(),e),r(ol(),e),r(function(){if(sl)return al;sl=1,Object.defineProperty(al,"__esModule",{value:!0}),al.ChecksumStruct=void 0;var e=Yu,t=$u();return al.ChecksumStruct=(0,e.size)((0,t.base64)((0,e.string)(),{paddingRequired:!0}),44,44),al}(),e),r(function(){if(cl)return ul;cl=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.createHex=ul.createBytes=ul.createBigInt=ul.createNumber=void 0;var e=Yu,t=Qu(),r=ol(),n=il(),i=(0,e.union)([(0,e.number)(),(0,e.bigint)(),(0,e.string)(),n.StrictHexStruct]),o=(0,e.coerce)((0,e.number)(),i,Number),s=(0,e.coerce)((0,e.bigint)(),i,BigInt);(0,e.union)([n.StrictHexStruct,(0,e.instance)(Uint8Array)]);var a=(0,e.coerce)((0,e.instance)(Uint8Array),(0,e.union)([n.StrictHexStruct]),r.hexToBytes),c=(0,e.coerce)(n.StrictHexStruct,(0,e.instance)(Uint8Array),r.bytesToHex);return ul.createNumber=function(r){try{var n=(0,e.create)(r,o);return(0,t.assert)(Number.isFinite(n),'Expected a number-like value, got "'.concat(r,'".')),n}catch(Xt){if(Xt instanceof e.StructError)throw new Error('Expected a number-like value, got "'.concat(r,'".'));throw Xt}},ul.createBigInt=function(t){try{return(0,e.create)(t,s)}catch(Xt){if(Xt instanceof e.StructError)throw new Error('Expected a number-like value, got "'.concat(String(Xt.value),'".'));throw Xt}},ul.createBytes=function(t){if("string"==typeof t&&"0x"===t.toLowerCase())return new Uint8Array;try{return(0,e.create)(t,a)}catch(Xt){if(Xt instanceof e.StructError)throw new Error('Expected a bytes-like value, got "'.concat(String(Xt.value),'".'));throw Xt}},ul.createHex=function(t){if(t instanceof Uint8Array&&0===t.length||"string"==typeof t&&"0x"===t.toLowerCase())return"0x";try{return(0,e.create)(t,c)}catch(Xt){if(Xt instanceof e.StructError)throw new Error('Expected a bytes-like value, got "'.concat(String(Xt.value),'".'));throw Xt}},ul}(),e),r(function(){if(ll)return fl;ll=1;var e,t,r=fl&&fl.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},n=fl&&fl.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(fl,"__esModule",{value:!0}),fl.FrozenSet=fl.FrozenMap=void 0;var i=function(t){return C(function t(n){R(this,t),e.set(this,void 0),r(this,e,new Map(n),"f"),Object.freeze(this)},[{key:"size",get:function(){return n(this,e,"f").size}},{key:t,value:function(){return n(this,e,"f")[Symbol.iterator]()}},{key:"entries",value:function(){return n(this,e,"f").entries()}},{key:"forEach",value:function(t,r){var i=this;return n(this,e,"f").forEach(function(e,n,o){return t.call(r,e,n,i)})}},{key:"get",value:function(t){return n(this,e,"f").get(t)}},{key:"has",value:function(t){return n(this,e,"f").has(t)}},{key:"keys",value:function(){return n(this,e,"f").keys()}},{key:"values",value:function(){return n(this,e,"f").values()}},{key:"toString",value:function(){return"FrozenMap(".concat(this.size,") {").concat(this.size>0?" ".concat(_(this.entries()).map(function(e){var t=x(e,2),r=t[0],n=t[1];return"".concat(String(r)," => ").concat(String(n))}).join(", ")," "):"","}")}}])}((e=new WeakMap,Symbol.iterator));fl.FrozenMap=i;var o=function(e){return C(function e(n){R(this,e),t.set(this,void 0),r(this,t,new Set(n),"f"),Object.freeze(this)},[{key:"size",get:function(){return n(this,t,"f").size}},{key:e,value:function(){return n(this,t,"f")[Symbol.iterator]()}},{key:"entries",value:function(){return n(this,t,"f").entries()}},{key:"forEach",value:function(e,r){var i=this;return n(this,t,"f").forEach(function(t,n,o){return e.call(r,t,n,i)})}},{key:"has",value:function(e){return n(this,t,"f").has(e)}},{key:"keys",value:function(){return n(this,t,"f").keys()}},{key:"values",value:function(){return n(this,t,"f").values()}},{key:"toString",value:function(){return"FrozenSet(".concat(this.size,") {").concat(this.size>0?" ".concat(_(this.values()).map(function(e){return String(e)}).join(", ")," "):"","}")}}])}((t=new WeakMap,Symbol.iterator));return fl.FrozenSet=o,Object.freeze(i),Object.freeze(i.prototype),Object.freeze(o),Object.freeze(o.prototype),fl}(),e),r((dl||(dl=1,Object.defineProperty(hl,"__esModule",{value:!0})),hl),e),r(il(),e),r((pl||(pl=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getJsonRpcIdValidator=e.assertIsJsonRpcError=e.isJsonRpcError=e.assertIsJsonRpcFailure=e.isJsonRpcFailure=e.assertIsJsonRpcSuccess=e.isJsonRpcSuccess=e.assertIsJsonRpcResponse=e.isJsonRpcResponse=e.assertIsPendingJsonRpcResponse=e.isPendingJsonRpcResponse=e.JsonRpcResponseStruct=e.JsonRpcFailureStruct=e.JsonRpcSuccessStruct=e.PendingJsonRpcResponseStruct=e.assertIsJsonRpcRequest=e.isJsonRpcRequest=e.assertIsJsonRpcNotification=e.isJsonRpcNotification=e.JsonRpcNotificationStruct=e.JsonRpcRequestStruct=e.JsonRpcParamsStruct=e.JsonRpcErrorStruct=e.JsonRpcIdStruct=e.JsonRpcVersionStruct=e.jsonrpc2=e.getJsonSize=e.isValidJson=e.JsonStruct=e.UnsafeJsonStruct=void 0;var t=Yu,r=Qu();e.UnsafeJsonStruct=(0,t.union)([(0,t.literal)(null),(0,t.boolean)(),(0,t.define)("finite number",function(e){return(0,t.is)(e,(0,t.number)())&&Number.isFinite(e)}),(0,t.string)(),(0,t.array)((0,t.lazy)(function(){return e.UnsafeJsonStruct})),(0,t.record)((0,t.string)(),(0,t.lazy)(function(){return e.UnsafeJsonStruct}))]),e.JsonStruct=(0,t.define)("Json",function(t,r){function n(e,t){var n=_(t.validator(e,r));return!(n.length>0)||n}try{var i=n(t,e.UnsafeJsonStruct);return!0!==i?i:n(JSON.parse(JSON.stringify(t)),e.UnsafeJsonStruct)}catch(Xt){return Xt instanceof RangeError&&"Circular reference detected"}}),e.isValidJson=function(r){return(0,t.is)(r,e.JsonStruct)},e.getJsonSize=function(t){(0,r.assertStruct)(t,e.JsonStruct,"Invalid JSON value");var n=JSON.stringify(t);return(new TextEncoder).encode(n).byteLength},e.jsonrpc2="2.0",e.JsonRpcVersionStruct=(0,t.literal)(e.jsonrpc2),e.JsonRpcIdStruct=(0,t.nullable)((0,t.union)([(0,t.number)(),(0,t.string)()])),e.JsonRpcErrorStruct=(0,t.object)({code:(0,t.integer)(),message:(0,t.string)(),data:(0,t.optional)(e.JsonStruct),stack:(0,t.optional)((0,t.string)())}),e.JsonRpcParamsStruct=(0,t.optional)((0,t.union)([(0,t.record)((0,t.string)(),e.JsonStruct),(0,t.array)(e.JsonStruct)])),e.JsonRpcRequestStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,method:(0,t.string)(),params:e.JsonRpcParamsStruct}),e.JsonRpcNotificationStruct=(0,t.omit)(e.JsonRpcRequestStruct,["id"]),e.isJsonRpcNotification=function(r){return(0,t.is)(r,e.JsonRpcNotificationStruct)},e.assertIsJsonRpcNotification=function(t,n){(0,r.assertStruct)(t,e.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",n)},e.isJsonRpcRequest=function(r){return(0,t.is)(r,e.JsonRpcRequestStruct)},e.assertIsJsonRpcRequest=function(t,n){(0,r.assertStruct)(t,e.JsonRpcRequestStruct,"Invalid JSON-RPC request",n)},e.PendingJsonRpcResponseStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:(0,t.optional)((0,t.unknown)()),error:(0,t.optional)(e.JsonRpcErrorStruct)}),e.JsonRpcSuccessStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:e.JsonStruct}),e.JsonRpcFailureStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,error:e.JsonRpcErrorStruct}),e.JsonRpcResponseStruct=(0,t.union)([e.JsonRpcSuccessStruct,e.JsonRpcFailureStruct]),e.isPendingJsonRpcResponse=function(r){return(0,t.is)(r,e.PendingJsonRpcResponseStruct)},e.assertIsPendingJsonRpcResponse=function(t,n){(0,r.assertStruct)(t,e.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",n)},e.isJsonRpcResponse=function(r){return(0,t.is)(r,e.JsonRpcResponseStruct)},e.assertIsJsonRpcResponse=function(t,n){(0,r.assertStruct)(t,e.JsonRpcResponseStruct,"Invalid JSON-RPC response",n)},e.isJsonRpcSuccess=function(r){return(0,t.is)(r,e.JsonRpcSuccessStruct)},e.assertIsJsonRpcSuccess=function(t,n){(0,r.assertStruct)(t,e.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",n)},e.isJsonRpcFailure=function(r){return(0,t.is)(r,e.JsonRpcFailureStruct)},e.assertIsJsonRpcFailure=function(t,n){(0,r.assertStruct)(t,e.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",n)},e.isJsonRpcError=function(r){return(0,t.is)(r,e.JsonRpcErrorStruct)},e.assertIsJsonRpcError=function(t,n){(0,r.assertStruct)(t,e.JsonRpcErrorStruct,"Invalid JSON-RPC error",n)},e.getJsonRpcIdValidator=function(e){var t=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},e),r=t.permitEmptyString,n=t.permitFractions,i=t.permitNull;return function(e){return Boolean("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(r||e.length>0)||i&&null===e)}}}(vl)),vl),e),r((gl||(gl=1,Object.defineProperty(yl,"__esModule",{value:!0})),yl),e),r(function(){if(ml)return bl;ml=1;var e=bl&&bl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bl,"__esModule",{value:!0}),bl.createModuleLogger=bl.createProjectLogger=void 0;var t=(0,e(N()).default)("metamask");return bl.createProjectLogger=function(e){return t.extend(e)},bl.createModuleLogger=function(e,t){return e.extend(t)},bl}(),e),r((wl||(wl=1,function(e){var t;function r(e){return e.charCodeAt(0)<=127}Object.defineProperty(e,"__esModule",{value:!0}),e.calculateNumberSize=e.calculateStringSize=e.isASCII=e.isPlainObject=e.ESCAPE_CHARACTERS_REGEXP=e.JsonSize=e.hasProperty=e.isObject=e.isNullOrUndefined=e.isNonEmptyArray=void 0,e.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},e.isNullOrUndefined=function(e){return null==e},e.isObject=function(e){return Boolean(e)&&"object"===L(e)&&!Array.isArray(e)},e.hasProperty=function(e,t){return Object.hasOwnProperty.call(e,t)},(t=e.JsonSize||(e.JsonSize={}))[t.Null=4]="Null",t[t.Comma=1]="Comma",t[t.Wrapper=1]="Wrapper",t[t.True=4]="True",t[t.False=5]="False",t[t.Quote=1]="Quote",t[t.Colon=1]="Colon",t[t.Date=24]="Date",e.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/g,e.isPlainObject=function(e){if("object"!==L(e)||null===e)return!1;try{for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(r){return!1}},e.isASCII=r,e.calculateStringSize=function(t){var n;return t.split("").reduce(function(e,t){return r(t)?e+1:e+2},0)+(null!==(n=t.match(e.ESCAPE_CHARACTERS_REGEXP))&&void 0!==n?n:[]).length},e.calculateNumberSize=function(e){return e.toString().length}}(kl)),kl),e),r(function(){if(_l)return El;_l=1,Object.defineProperty(El,"__esModule",{value:!0}),El.hexToBigInt=El.hexToNumber=El.bigIntToHex=El.numberToHex=void 0;var e=Qu(),t=il();return El.numberToHex=function(r){return(0,e.assert)("number"==typeof r,"Value must be a number."),(0,e.assert)(r>=0,"Value must be a non-negative number."),(0,e.assert)(Number.isSafeInteger(r),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,t.add0x)(r.toString(16))},El.bigIntToHex=function(r){return(0,e.assert)("bigint"==typeof r,"Value must be a bigint."),(0,e.assert)(r>=0,"Value must be a non-negative bigint."),(0,t.add0x)(r.toString(16))},El.hexToNumber=function(r){(0,t.assertIsHexString)(r);var n=parseInt(r,16);return(0,e.assert)(Number.isSafeInteger(n),"Value is not a safe integer. Use `hexToBigInt` instead."),n},El.hexToBigInt=function(e){return(0,t.assertIsHexString)(e),BigInt((0,t.add0x)(e))},El}(),e),r((Sl||(Sl=1,Object.defineProperty(Rl,"__esModule",{value:!0})),Rl),e),r(Al(),e),r((xl||(xl=1,Object.defineProperty(Ml,"__esModule",{value:!0})),Ml),e),r((Ol||(Ol=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.satisfiesVersionRange=e.gtRange=e.gtVersion=e.assertIsSemVerRange=e.assertIsSemVerVersion=e.isValidSemVerRange=e.isValidSemVerVersion=e.VersionRangeStruct=e.VersionStruct=void 0;var t=Dt(),r=Yu,n=Qu();e.VersionStruct=(0,r.refine)((0,r.string)(),"Version",function(e){return null!==(0,t.valid)(e)||'Expected SemVer version, got "'.concat(e,'"')}),e.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",function(e){return null!==(0,t.validRange)(e)||'Expected SemVer range, got "'.concat(e,'"')}),e.isValidSemVerVersion=function(t){return(0,r.is)(t,e.VersionStruct)},e.isValidSemVerRange=function(t){return(0,r.is)(t,e.VersionRangeStruct)},e.assertIsSemVerVersion=function(t){(0,n.assertStruct)(t,e.VersionStruct)},e.assertIsSemVerRange=function(t){(0,n.assertStruct)(t,e.VersionRangeStruct)},e.gtVersion=function(e,r){return(0,t.gt)(e,r)},e.gtRange=function(e,r){return(0,t.gtr)(e,r)},e.satisfiesVersionRange=function(e,r){return(0,t.satisfies)(e,r,{includePrerelease:!0})}}(Tl)),Tl),e)}(ku)),ku}function Bl(){if(Ll)return du;Ll=1;var e=du&&du.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(du,"__esModule",{value:!0}),du.PollingBlockTracker=void 0;var t=e(hu()),r=e(function(){if(uu)return cu;uu=1;var e=function(e,t){return function(){for(var r=this,n=t.promiseModule,i=new Array(arguments.length),o=0;o<arguments.length;o++)i[o]=arguments[o];return new n(function(n,o){t.errorFirst?i.push(function(e,r){if(t.multiArgs){for(var i=new Array(arguments.length-1),s=1;s<arguments.length;s++)i[s-1]=arguments[s];e?(i.unshift(e),o(i)):n(i)}else e?o(e):n(r)}):i.push(function(e){if(t.multiArgs){for(var r=new Array(arguments.length-1),i=0;i<arguments.length;i++)r[i]=arguments[i];n(r)}else n(e)}),e.apply(r,i)})}};return cu=function(t,r){r=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},r);var n,i=function(e){var t=function(t){return"string"==typeof t?e===t:t.test(e)};return r.include?r.include.some(t):!r.exclude.some(t)};for(var o in n="function"==typeof t?function(){return r.excludeMain?t.apply(this,arguments):e(t,r).apply(this,arguments)}:Object.create(Object.getPrototypeOf(t)),t){var s=t[o];n[o]="function"==typeof s&&i(o)?e(s,r):s}return n},cu}()),n=bu(),i=(Nl||(Nl=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createModuleLogger=e.projectLogger=void 0;var t=jl();Object.defineProperty(e,"createModuleLogger",{enumerable:!0,get:function(){return t.createModuleLogger}}),e.projectLogger=(0,t.createProjectLogger)("eth-block-tracker")}(wu)),wu),o=(0,i.createModuleLogger)(i.projectLogger,"polling-block-tracker"),s=(0,t.default)(),a=function(e){function t(){var e,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(R(this,t),!n.provider)throw new Error("PollingBlockTracker - no provider specified.");return(e=g(this,t,[Object.assign(Object.assign({},n),{blockResetDuration:null!==(r=n.blockResetDuration)&&void 0!==r?r:n.pollingInterval})]))._provider=n.provider,e._pollingInterval=n.pollingInterval||2e4,e._retryTimeout=n.retryTimeout||e._pollingInterval/10,e._keepEventLoopActive=void 0===n.keepEventLoopActive||n.keepEventLoopActive,e._setSkipCacheFlag=n.setSkipCacheFlag||!1,e}return y(t,e),C(t,[{key:"checkForLatestBlock",value:(d=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._updateLatestBlock();case 1:return e.n=2,this.getLatestBlock();case 2:return e.a(2,e.v)}},e,this)})),function(){return d.apply(this,arguments)})},{key:"_start",value:(l=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:this._synchronize();case 1:return e.a(2)}},e,this)})),function(){return l.apply(this,arguments)})},{key:"_end",value:(u=p(f().m(function e(){return f().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)})),function(){return u.apply(this,arguments)})},{key:"_synchronize",value:(a=p(f().m(function e(){var t,r,n,i,o;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!this._isRunning){e.n=6;break}return e.p=1,e.n=2,this._updateLatestBlock();case 2:return r=c(this._pollingInterval,!this._keepEventLoopActive),this.emit("_waitingForNextIteration"),e.n=3,r;case 3:e.n=5;break;case 4:e.p=4,o=e.v,n=new Error("PollingBlockTracker - encountered an error while attempting to update latest block:\n".concat(null!==(t=o.stack)&&void 0!==t?t:o));try{this.emit("error",n)}catch(s){console.error(n)}return i=c(this._retryTimeout,!this._keepEventLoopActive),this.emit("_waitingForNextIteration"),e.n=5,i;case 5:e.n=0;break;case 6:return e.a(2)}},e,this,[[1,4]])})),function(){return a.apply(this,arguments)})},{key:"_updateLatestBlock",value:(i=p(f().m(function e(){var t;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._fetchLatestBlock();case 1:t=e.v,this._newPotentialLatest(t);case 2:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_fetchLatestBlock",value:(n=p(f().m(function e(){var t,n,i=this;return f().w(function(e){for(;;)switch(e.n){case 0:return t={jsonrpc:"2.0",id:s(),method:"eth_blockNumber",params:[]},this._setSkipCacheFlag&&(t.skipCache=!0),o("Making request",t),e.n=1,(0,r.default)(function(e){return i._provider.sendAsync(t,e)})();case 1:if(n=e.v,o("Got response",n),!n.error){e.n=2;break}throw new Error("PollingBlockTracker - encountered error fetching block:\n".concat(n.error.message));case 2:return e.a(2,n.result)}},e,this)})),function(){return n.apply(this,arguments)})}]);var n,i,a,u,l,d}(n.BaseBlockTracker);function c(e,t){return new Promise(function(r){var n=setTimeout(r,e);n.unref&&t&&n.unref()})}return du.PollingBlockTracker=a,du}var Dl,Fl,Ul={};function Hl(){return Fl||(Fl=1,function(e){var t=fu&&fu.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=fu&&fu.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Bl(),e),r(function(){if(Dl)return Ul;Dl=1;var e=Ul&&Ul.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.SubscribeBlockTracker=void 0;var t=e(hu()),r=bu(),n=(0,t.default)(),i=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(R(this,t),!r.provider)throw new Error("SubscribeBlockTracker - no provider specified.");return(e=g(this,t,[r]))._provider=r.provider,e._subscriptionId=null,e}return y(t,e),C(t,[{key:"checkForLatestBlock",value:(o=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.getLatestBlock();case 1:return e.a(2,e.v)}},e,this)})),function(){return o.apply(this,arguments)})},{key:"_start",value:(i=p(f().m(function e(){var t,r;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:if(void 0!==this._subscriptionId&&null!==this._subscriptionId){e.n=5;break}return e.p=1,e.n=2,this._call("eth_blockNumber");case 2:return t=e.v,e.n=3,this._call("eth_subscribe","newHeads");case 3:this._subscriptionId=e.v,this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(t),e.n=5;break;case 4:e.p=4,r=e.v,this.emit("error",r);case 5:return e.a(2)}},e,this,[[1,4]])})),function(){return i.apply(this,arguments)})},{key:"_end",value:(r=p(f().m(function e(){var t;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null===this._subscriptionId||void 0===this._subscriptionId){e.n=4;break}return e.p=1,e.n=2,this._call("eth_unsubscribe",this._subscriptionId);case 2:this._subscriptionId=null,e.n=4;break;case 3:e.p=3,t=e.v,this.emit("error",t);case 4:return e.a(2)}},e,this,[[1,3]])})),function(){return r.apply(this,arguments)})},{key:"_call",value:function(e){for(var t=this,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return new Promise(function(r,o){t._provider.sendAsync({id:n(),method:e,params:i,jsonrpc:"2.0"},function(e,t){e?o(e):r(t.result)})})}},{key:"_handleSubData",value:function(e,t){var r;"eth_subscription"===t.method&&(null===(r=t.params)||void 0===r?void 0:r.subscription)===this._subscriptionId&&this._newPotentialLatest(t.params.result.number)}}]);var r,i,o}(r.BaseBlockTracker);return Ul.SubscribeBlockTracker=i,Ul}(),e)}(fu)),fu}var Wl,ql,Vl={},zl={},Jl={};function Gl(){if(Wl)return Jl;Wl=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.getUniqueId=void 0;var e=4294967295,t=Math.floor(Math.random()*e);return Jl.getUniqueId=function(){return t=(t+1)%e},Jl}var Zl,Yl={};var Ql,Kl={};var Xl,$l={},ef={};function tf(){if(Xl)return ef;function e(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(function(){throw n})}}Xl=1,Object.defineProperty(ef,"__esModule",{value:!0});var t=function(t){function r(){return R(this,r),g(this,r,arguments)}return y(r,t),C(r,[{key:"emit",value:function(t){var r="error"===t,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(r){var a;if(o.length>0&&(a=o[0]),a instanceof Error)throw a;var c=new Error("Unhandled error.".concat(a?" (".concat(a.message,")"):""));throw c.context=a,c}var u=n[t];if(void 0===u)return!1;if("function"==typeof u)e(u,this,o);else for(var l=u.length,f=function(e){for(var t=e.length,r=new Array(t),n=0;n<t;n+=1)r[n]=e[n];return r}(u),d=0;d<l;d+=1)e(f[d],this,o);return!0}}])}(P().EventEmitter);return ef.default=t,ef}var rf,nf,of,sf={},af={};function cf(){if(nf)return rf;nf=1,rf=o,o.default=o,o.stable=u,o.stableStringify=u;var e="[...]",t="[Circular]",r=[],n=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function o(e,t,o,s){var c;void 0===s&&(s=i()),a(e,"",0,[],void 0,0,s);try{c=0===n.length?JSON.stringify(e,t,o):JSON.stringify(e,f(t),o)}catch(l){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return c}function s(e,t,i,o){var s=Object.getOwnPropertyDescriptor(o,i);void 0!==s.get?s.configurable?(Object.defineProperty(o,i,{value:e}),r.push([o,i,t,s])):n.push([t,i,e]):(o[i]=e,r.push([o,i,t]))}function a(r,n,i,o,c,u,l){var f;if(u+=1,"object"===L(r)&&null!==r){for(f=0;f<o.length;f++)if(o[f]===r)return void s(t,r,n,c);if(void 0!==l.depthLimit&&u>l.depthLimit)return void s(e,r,n,c);if(void 0!==l.edgesLimit&&i+1>l.edgesLimit)return void s(e,r,n,c);if(o.push(r),Array.isArray(r))for(f=0;f<r.length;f++)a(r[f],f,f,o,r,u,l);else{var d=Object.keys(r);for(f=0;f<d.length;f++){var h=d[f];a(r[h],h,f,o,r,u,l)}}o.pop()}}function c(e,t){return e<t?-1:e>t?1:0}function u(e,t,o,s){void 0===s&&(s=i());var a,c=l(e,"",0,[],void 0,0,s)||e;try{a=0===n.length?JSON.stringify(c,t,o):JSON.stringify(c,f(t),o)}catch(d){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return a}function l(n,i,o,a,u,f,d){var h;if(f+=1,"object"===L(n)&&null!==n){for(h=0;h<a.length;h++)if(a[h]===n)return void s(t,n,i,u);try{if("function"==typeof n.toJSON)return}catch(y){return}if(void 0!==d.depthLimit&&f>d.depthLimit)return void s(e,n,i,u);if(void 0!==d.edgesLimit&&o+1>d.edgesLimit)return void s(e,n,i,u);if(a.push(n),Array.isArray(n))for(h=0;h<n.length;h++)l(n[h],h,h,a,n,f,d);else{var p={},v=Object.keys(n).sort(c);for(h=0;h<v.length;h++){var g=v[h];l(n[g],g,h,a,n,f,d),p[g]=n[g]}if(void 0===u)return p;r.push([u,i,n]),u[i]=p}a.pop()}}function f(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(n.length>0)for(var i=0;i<n.length;i++){var o=n[i];if(o[1]===t&&o[0]===r){r=o[2],n.splice(i,1);break}}return e.call(this,t,r)}}return rf}function uf(){if(of)return af;of=1,Object.defineProperty(af,"__esModule",{value:!0}),af.EthereumProviderError=af.EthereumRpcError=void 0;var e=cf(),t=function(t){function r(e,t,n){var i;if(R(this,r),!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');return(i=g(this,r,[t])).code=e,void 0!==n&&(i.data=n),i}return y(r,t),C(r,[{key:"serialize",value:function(){var e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}},{key:"toString",value:function(){return e.default(this.serialize(),n,2)}}])}(m(Error));af.EthereumRpcError=t;var r=function(e){function t(e,r,n){if(R(this,t),!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');return g(this,t,[e,r,n])}return y(t,e),C(t)}(t);function n(e,t){if("[Circular]"!==t)return t}return af.EthereumProviderError=r,af}var lf,ff,df={},hf={};function pf(){return lf||(lf=1,Object.defineProperty(hf,"__esModule",{value:!0}),hf.errorValues=hf.errorCodes=void 0,hf.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},hf.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}),hf}function vf(){return ff||(ff=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;var t=pf(),r=uf(),n=t.errorCodes.rpc.internal,i={code:n,message:o(n)};function o(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unspecified error message. This is a bug, please report it.";if(Number.isInteger(r)){var i=r.toString();if(u(t.errorValues,i))return t.errorValues[i].message;if(a(r))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return n}function s(e){if(!Number.isInteger(e))return!1;var r=e.toString();return!!t.errorValues[r]||!!a(e)}function a(e){return e>=-32099&&e<=-32e3}function c(e){return e&&"object"===L(e)&&!Array.isArray(e)?Object.assign({},e):e}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",e.getMessageFromCode=o,e.isValidCode=s,e.serializeError=function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=a.fallbackError,f=void 0===l?i:l,d=a.shouldIncludeStack,h=void 0!==d&&d;if(!f||!Number.isInteger(f.code)||"string"!=typeof f.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof r.EthereumRpcError)return e.serialize();var p={};if(e&&"object"===L(e)&&!Array.isArray(e)&&u(e,"code")&&s(e.code)){var v=e;p.code=v.code,v.message&&"string"==typeof v.message?(p.message=v.message,u(v,"data")&&(p.data=v.data)):(p.message=o(p.code),p.data={originalError:c(e)})}else{p.code=f.code;var g=null===(t=e)||void 0===t?void 0:t.message;p.message=g&&"string"==typeof g?g:f.message,p.data={originalError:c(e)}}var y=null===(n=e)||void 0===n?void 0:n.stack;return h&&e&&y&&"string"==typeof y&&(p.stack=y),p}}(df)),df}var gf,yf,mf,bf={};function wf(){return yf||(yf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;var t=uf();Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});var r=vf();Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});var n=function(){if(gf)return bf;gf=1,Object.defineProperty(bf,"__esModule",{value:!0}),bf.ethErrors=void 0;var e=uf(),t=vf(),r=pf();function n(r,n){var i=x(o(n),2),s=i[0],a=i[1];return new e.EthereumRpcError(r,s||t.getMessageFromCode(r),a)}function i(r,n){var i=x(o(n),2),s=i[0],a=i[1];return new e.EthereumProviderError(r,s||t.getMessageFromCode(r),a)}function o(e){if(e){if("string"==typeof e)return[e];if("object"===L(e)&&!Array.isArray(e)){var t=e.message,r=e.data;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}return bf.ethErrors={rpc:{parse:function(e){return n(r.errorCodes.rpc.parse,e)},invalidRequest:function(e){return n(r.errorCodes.rpc.invalidRequest,e)},invalidParams:function(e){return n(r.errorCodes.rpc.invalidParams,e)},methodNotFound:function(e){return n(r.errorCodes.rpc.methodNotFound,e)},internal:function(e){return n(r.errorCodes.rpc.internal,e)},server:function(e){if(!e||"object"!==L(e)||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");var t=e.code;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return n(t,e)},invalidInput:function(e){return n(r.errorCodes.rpc.invalidInput,e)},resourceNotFound:function(e){return n(r.errorCodes.rpc.resourceNotFound,e)},resourceUnavailable:function(e){return n(r.errorCodes.rpc.resourceUnavailable,e)},transactionRejected:function(e){return n(r.errorCodes.rpc.transactionRejected,e)},methodNotSupported:function(e){return n(r.errorCodes.rpc.methodNotSupported,e)},limitExceeded:function(e){return n(r.errorCodes.rpc.limitExceeded,e)}},provider:{userRejectedRequest:function(e){return i(r.errorCodes.provider.userRejectedRequest,e)},unauthorized:function(e){return i(r.errorCodes.provider.unauthorized,e)},unsupportedMethod:function(e){return i(r.errorCodes.provider.unsupportedMethod,e)},disconnected:function(e){return i(r.errorCodes.provider.disconnected,e)},chainDisconnected:function(e){return i(r.errorCodes.provider.chainDisconnected,e)},custom:function(t){if(!t||"object"!==L(t)||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");var r=t.code,n=t.message,i=t.data;if(!n||"string"!=typeof n)throw new Error('"message" must be a nonempty string');return new e.EthereumProviderError(r,n,i)}}},bf}();Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});var i=pf();Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})}(sf)),sf}function kf(){if(mf)return $l;mf=1;var e=$l&&$l.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($l,"__esModule",{value:!0}),$l.JsonRpcEngine=void 0;var t=e(tf()),r=wf(),n=function(e){function t(){var e;return R(this,t),(e=g(this,t))._middleware=[],e}return y(t,e),C(t,[{key:"push",value:function(e){this._middleware.push(e)}},{key:"handle",value:function(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}},{key:"asMiddleware",value:function(){var e=this;return function(){var r=p(f().m(function r(n,i,o,s){var a,c,u,l,d,h;return f().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,t._runAllMiddleware(n,i,e._middleware);case 1:if(a=r.v,c=x(a,3),u=c[0],l=c[1],d=c[2],!l){r.n=3;break}return r.n=2,t._runReturnHandlers(d);case 2:return r.a(2,s(u));case 3:return r.a(2,o(function(){var e=p(f().m(function e(r){var n;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,t._runReturnHandlers(d);case 1:e.n=3;break;case 2:return e.p=2,n=e.v,e.a(2,r(n));case 3:return e.a(2,r())}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}()));case 4:return r.p=4,h=r.v,r.a(2,s(h))}},r,null,[[0,4]])}));return function(e,t,n,i){return r.apply(this,arguments)}}()}},{key:"_handleBatch",value:(u=p(f().m(function e(t,r){var n,i;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Promise.all(t.map(this._promiseHandle.bind(this)));case 1:if(n=e.v,!r){e.n=2;break}return e.a(2,r(null,n));case 2:return e.a(2,n);case 3:if(e.p=3,i=e.v,!r){e.n=4;break}return e.a(2,r(i));case 4:throw i;case 5:return e.a(2)}},e,this,[[0,3]])})),function(e,t){return u.apply(this,arguments)})},{key:"_promiseHandle",value:function(e){var t=this;return new Promise(function(r){t._handle(e,function(e,t){r(t)})})}},{key:"_handle",value:(c=p(f().m(function e(t,n){var i,o,s,a,c,u;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t&&!Array.isArray(t)&&"object"===L(t)){e.n=1;break}return i=new r.EthereumRpcError(r.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: ".concat(L(t)),{request:t}),e.a(2,n(i,{id:void 0,jsonrpc:"2.0",error:i}));case 1:if("string"==typeof t.method){e.n=2;break}return o=new r.EthereumRpcError(r.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: ".concat(L(t.method)),{request:t}),e.a(2,n(o,{id:t.id,jsonrpc:"2.0",error:o}));case 2:return s=Object.assign({},t),a={id:s.id,jsonrpc:s.jsonrpc},c=null,e.p=3,e.n=4,this._processRequest(s,a);case 4:e.n=6;break;case 5:e.p=5,u=e.v,c=u;case 6:return c&&(delete a.result,a.error||(a.error=r.serializeError(c))),e.a(2,n(c,a))}},e,this,[[3,5]])})),function(e,t){return c.apply(this,arguments)})},{key:"_processRequest",value:(a=p(f().m(function e(r,n){var i,o,s,a,c;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t._runAllMiddleware(r,n,this._middleware);case 1:return i=e.v,o=x(i,3),s=o[0],a=o[1],c=o[2],t._checkForCompletion(r,n,a),e.n=2,t._runReturnHandlers(c);case 2:if(!s){e.n=3;break}throw s;case 3:return e.a(2)}},e,this)})),function(e,t){return a.apply(this,arguments)})}],[{key:"_runAllMiddleware",value:(o=p(f().m(function e(r,n,i){var o,s,a,c,u,l,d,h,p;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:o=[],s=null,a=!1,c=S(i),e.p=1,c.s();case 2:if((u=c.n()).done){e.n=5;break}return l=u.value,e.n=3,t._runMiddleware(r,n,l,o);case 3:if(d=e.v,h=x(d,2),s=h[0],!(a=h[1])){e.n=4;break}return e.a(3,5);case 4:e.n=2;break;case 5:e.n=7;break;case 6:e.p=6,p=e.v,c.e(p);case 7:return e.p=7,c.f(),e.f(7);case 8:return e.a(2,[s,a,o.reverse()])}},e,null,[[1,6,7,8]])})),function(e,t,r){return o.apply(this,arguments)})},{key:"_runMiddleware",value:function(e,t,n,o){return new Promise(function(s){var a=function(e){var n=e||t.error;n&&(t.error=r.serializeError(n)),s([n,!0])};try{n(e,t,function(n){t.error?a(t.error):(n&&("function"!=typeof n&&a(new r.EthereumRpcError(r.errorCodes.rpc.internal,'JsonRpcEngine: "next" return handlers must be functions. '+'Received "'.concat(L(n),'" for request:\n').concat(i(e)),{request:e})),o.push(n)),s([null,!1]))},a)}catch(Xt){a(Xt)}})}},{key:"_runReturnHandlers",value:(n=p(f().m(function e(t){var r,n,i,o;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:r=S(t),e.p=1,i=f().m(function e(){var t;return f().w(function(e){for(;;)switch(e.n){case 0:return t=n.value,e.n=1,new Promise(function(e,r){t(function(t){return t?r(t):e()})});case 1:return e.a(2)}},e)}),r.s();case 2:if((n=r.n()).done){e.n=4;break}return e.d(s(i()),3);case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,o=e.v,r.e(o);case 6:return e.p=6,r.f(),e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])})),function(e){return n.apply(this,arguments)})},{key:"_checkForCompletion",value:function(e,t,n){if(!("result"in t)&&!("error"in t))throw new r.EthereumRpcError(r.errorCodes.rpc.internal,"JsonRpcEngine: Response has no error or result for request:\n".concat(i(e)),{request:e});if(!n)throw new r.EthereumRpcError(r.errorCodes.rpc.internal,"JsonRpcEngine: Nothing ended request:\n".concat(i(e)),{request:e})}}]);var n,o,a,c,u}(t.default);function i(e){return JSON.stringify(e,null,2)}return $l.JsonRpcEngine=n,$l}var _f,Ef,Sf={};function Rf(){return Ef||(Ef=1,function(e){var t=Vl&&Vl.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=Vl&&Vl.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(function(){if(ql)return zl;ql=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.createIdRemapMiddleware=void 0;var e=Gl();return zl.createIdRemapMiddleware=function(){return function(t,r,n,i){var o=t.id,s=e.getUniqueId();t.id=s,r.id=s,n(function(e){t.id=o,r.id=o,e()})}},zl}(),e),r((Zl||(Zl=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.createAsyncMiddleware=void 0,Yl.createAsyncMiddleware=function(e){return function(){var t=p(f().m(function t(r,n,i,o){var s,a,c,u,l,d;return f().w(function(t){for(;;)switch(t.p=t.n){case 0:return a=new Promise(function(e){s=e}),c=null,u=!1,l=function(){var e=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:return u=!0,i(function(e){c=e,s()}),e.n=1,a;case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),t.p=1,t.n=2,e(r,n,l);case 2:if(!u){t.n=4;break}return t.n=3,a;case 3:c(null),t.n=5;break;case 4:o(null);case 5:t.n=7;break;case 6:t.p=6,d=t.v,c?c(d):o(d);case 7:return t.a(2)}},t,null,[[1,6]])}));return function(e,r,n,i){return t.apply(this,arguments)}}()}),Yl),e),r((Ql||(Ql=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.createScaffoldMiddleware=void 0,Kl.createScaffoldMiddleware=function(e){return function(t,r,n,i){var o=e[t.method];return void 0===o?n():"function"==typeof o?o(t,r,n,i):(r.result=o,i())}}),Kl),e),r(Gl(),e),r(kf(),e),r(function(){if(_f)return Sf;_f=1,Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.mergeMiddleware=void 0;var e=kf();return Sf.mergeMiddleware=function(t){var r=new e.JsonRpcEngine;return t.forEach(function(e){return r.push(e)}),r.asMiddleware()},Sf}(),e)}(Vl)),Vl}var If,Cf,Af={},xf={},Mf=w(I),Of={};function Pf(){if(If)return Of;If=1,Object.defineProperty(Of,"__esModule",{value:!0});var e=Mf,t=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,t=this.isLocked(),r=new Promise(function(t){return e._queue.push(t)});return t||this._dispatch(),r},t.prototype.runExclusive=function(t){return e.__awaiter(this,void 0,void 0,function(){var r,n,i;return e.__generator(this,function(e){switch(e.label){case 0:return[4,this.acquire()];case 1:r=e.sent(),n=r[0],i=r[1],e.label=2;case 2:return e.trys.push([2,,4,5]),[4,t(n)];case 3:return[2,e.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,t=this._queue.shift();if(t){var r=!1;this._currentReleaser=function(){r||(r=!0,e._value++,e._dispatch())},t([this._value--,this._currentReleaser])}},t}();return Of.default=t,Of}var Nf,Lf,Tf,jf,Bf,Df,Ff,Uf,Hf,Wf,qf,Vf,zf,Jf,Gf,Zf,Yf,Qf,Kf,Xf,$f,ed,td,rd,nd,id,od,sd,ad={};function cd(){return Lf||(Lf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withTimeout=e.Semaphore=e.Mutex=void 0;var t=function(){if(Cf)return xf;Cf=1,Object.defineProperty(xf,"__esModule",{value:!0});var e=Mf,t=Pf(),r=function(){function r(){this._semaphore=new t.default(1)}return r.prototype.acquire=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(e){switch(e.label){case 0:return[4,this._semaphore.acquire()];case 1:return[2,e.sent()[1]]}})})},r.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},r.prototype.isLocked=function(){return this._semaphore.isLocked()},r.prototype.release=function(){this._semaphore.release()},r}();return xf.default=r,xf}();Object.defineProperty(e,"Mutex",{enumerable:!0,get:function(){return t.default}});var r=Pf();Object.defineProperty(e,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=function(){if(Nf)return ad;Nf=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.withTimeout=void 0;var e=Mf;return ad.withTimeout=function(t,r,n){var i=this;return void 0===n&&(n=new Error("timeout")),{acquire:function(){return new Promise(function(o,s){return e.__awaiter(i,void 0,void 0,function(){var i,a;return e.__generator(this,function(e){switch(e.label){case 0:return i=!1,setTimeout(function(){i=!0,s(n)},r),[4,t.acquire()];case 1:return a=e.sent(),i?(Array.isArray(a)?a[1]:a)():o(a),[2]}})})})},runExclusive:function(t){return e.__awaiter(this,void 0,void 0,function(){var r,n;return e.__generator(this,function(e){switch(e.label){case 0:r=function(){},e.label=1;case 1:return e.trys.push([1,,7,8]),[4,this.acquire()];case 2:return n=e.sent(),Array.isArray(n)?(r=n[1],[4,t(n[0])]):[3,4];case 3:return[2,e.sent()];case 4:return r=n,[4,t()];case 5:return[2,e.sent()];case 6:return[3,8];case 7:return r(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}},ad}();Object.defineProperty(e,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})}(Af)),Af}function ud(){if(Df)return Bf;Df=1;var e=function(){if(jf)return Tf;jf=1,Tf=function(){for(var t={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)e.call(n,i)&&(t[i]=n[i])}return t};var e=Object.prototype.hasOwnProperty;return Tf}(),t=hu()();function r(e){this.currentProvider=e}function n(e){return function(){var t=[].slice.call(arguments),r=t.pop();this.sendAsync({method:e,params:t},r)}}function i(e,t){return function(){var r=[].slice.call(arguments),n=r.pop();r.length<e&&r.push("latest"),this.sendAsync({method:t,params:r},n)}}return Bf=r,r.prototype.getBalance=i(2,"eth_getBalance"),r.prototype.getCode=i(2,"eth_getCode"),r.prototype.getTransactionCount=i(2,"eth_getTransactionCount"),r.prototype.getStorageAt=i(3,"eth_getStorageAt"),r.prototype.call=i(2,"eth_call"),r.prototype.protocolVersion=n("eth_protocolVersion"),r.prototype.syncing=n("eth_syncing"),r.prototype.coinbase=n("eth_coinbase"),r.prototype.mining=n("eth_mining"),r.prototype.hashrate=n("eth_hashrate"),r.prototype.gasPrice=n("eth_gasPrice"),r.prototype.accounts=n("eth_accounts"),r.prototype.blockNumber=n("eth_blockNumber"),r.prototype.getBlockTransactionCountByHash=n("eth_getBlockTransactionCountByHash"),r.prototype.getBlockTransactionCountByNumber=n("eth_getBlockTransactionCountByNumber"),r.prototype.getUncleCountByBlockHash=n("eth_getUncleCountByBlockHash"),r.prototype.getUncleCountByBlockNumber=n("eth_getUncleCountByBlockNumber"),r.prototype.sign=n("eth_sign"),r.prototype.sendTransaction=n("eth_sendTransaction"),r.prototype.sendRawTransaction=n("eth_sendRawTransaction"),r.prototype.estimateGas=n("eth_estimateGas"),r.prototype.getBlockByHash=n("eth_getBlockByHash"),r.prototype.getBlockByNumber=n("eth_getBlockByNumber"),r.prototype.getTransactionByHash=n("eth_getTransactionByHash"),r.prototype.getTransactionByBlockHashAndIndex=n("eth_getTransactionByBlockHashAndIndex"),r.prototype.getTransactionByBlockNumberAndIndex=n("eth_getTransactionByBlockNumberAndIndex"),r.prototype.getTransactionReceipt=n("eth_getTransactionReceipt"),r.prototype.getUncleByBlockHashAndIndex=n("eth_getUncleByBlockHashAndIndex"),r.prototype.getUncleByBlockNumberAndIndex=n("eth_getUncleByBlockNumberAndIndex"),r.prototype.getCompilers=n("eth_getCompilers"),r.prototype.compileLLL=n("eth_compileLLL"),r.prototype.compileSolidity=n("eth_compileSolidity"),r.prototype.compileSerpent=n("eth_compileSerpent"),r.prototype.newFilter=n("eth_newFilter"),r.prototype.newBlockFilter=n("eth_newBlockFilter"),r.prototype.newPendingTransactionFilter=n("eth_newPendingTransactionFilter"),r.prototype.uninstallFilter=n("eth_uninstallFilter"),r.prototype.getFilterChanges=n("eth_getFilterChanges"),r.prototype.getFilterLogs=n("eth_getFilterLogs"),r.prototype.getLogs=n("eth_getLogs"),r.prototype.getWork=n("eth_getWork"),r.prototype.submitWork=n("eth_submitWork"),r.prototype.submitHashrate=n("eth_submitHashrate"),r.prototype.sendAsync=function(r,n){var i;this.currentProvider.sendAsync((i=r,e({id:t(),jsonrpc:"2.0",params:[]},i)),function(e,t){if(!e&&t.error&&(e=new Error("EthQuery - RPC Error - "+t.error.message)),e)return n(e);n(null,t.result)})},Bf}function ld(){if(Uf)return Ff;Uf=1;var e=function(e,t,r,n){return function(){for(var i=this,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return new(0,t.promiseModule)(function(o,a){t.multiArgs?s.push(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.errorFirst?r[0]?a(r):(r.shift(),o(r)):o(r)}):t.errorFirst?s.push(function(e,t){e?a(e):o(t)}):s.push(o);var c=i===r?n:i;Reflect.apply(e,c,s)})}},t=new WeakMap;return Ff=function(r,n){n=c({exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},n);var i=L(r);if(null===r||"object"!==i&&"function"!==i)throw new TypeError("Expected `input` to be a `Function` or `Object`, got `".concat(null===r?"null":i,"`"));var o=new WeakMap,s=new Proxy(r,{apply:function(t,r,i){var a=o.get(t);if(a)return Reflect.apply(a,r,i);var c=n.excludeMain?t:e(t,n,s,t);return o.set(t,c),Reflect.apply(c,r,i)},get:function(r,i){var a=r[i];if(!function(e,r){var i=t.get(e);if(i||(i={},t.set(e,i)),r in i)return i[r];var o=function(e){return"string"==typeof e||"symbol"===L(r)?r===e:e.test(r)},s=Reflect.getOwnPropertyDescriptor(e,r),a=void 0===s||s.writable||s.configurable,c=(n.include?n.include.some(o):!n.exclude.some(o))&&a;return i[r]=c,c}(r,i)||a===Function.prototype[i])return a;var c=o.get(a);if(c)return c;if("function"==typeof a){var u=e(a,n,s,r);return o.set(a,u),u}return a}});return s},Ff}function fd(){if(Wf)return Hf;Wf=1;var e=function(e){function t(){var e;return R(this,t),(e=g(this,t)).updates=[],e}return y(t,e),C(t,[{key:"initialize",value:(n=p(f().m(function e(){return f().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)})),function(){return n.apply(this,arguments)})},{key:"update",value:(r=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:throw new Error("BaseFilter - no update method specified");case 1:return e.a(2)}},e)})),function(){return r.apply(this,arguments)})},{key:"addResults",value:function(e){var t=this;this.updates=this.updates.concat(e),e.forEach(function(e){return t.emit("update",e)})}},{key:"addInitialResults",value:function(e){}},{key:"getChangesAndClear",value:function(){var e=this.updates;return this.updates=[],e}}]);var r,n}(mu().default);return Hf=e}function dd(){if(Jf)return zf;function e(e){return e.sort(function(e,r){return"latest"===e||"earliest"===r?1:"latest"===r||"earliest"===e?-1:t(e)-t(r)})}function t(e){return null==e?e:Number.parseInt(e,16)}function r(e){if(null==e)return e;var t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function n(){return Math.floor(16*Math.random()).toString(16)}return Jf=1,zf={minBlockRef:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e(r)[0]},maxBlockRef:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=e(r);return i[i.length-1]},sortBlockRefs:e,bnToHex:function(e){return"0x"+e.toString(16)},blockRefIsNumber:function(e){return e&&!["earliest","latest","pending"].includes(e)},hexToInt:t,incrementHexInt:function(e){return null==e?e:r(t(e)+1)},intToHex:r,unsafeRandomBytes:function(e){for(var t="0x",r=0;r<e;r++)t+=n(),t+=n();return t}},zf}function hd(){if(Zf)return Gf;Zf=1;var e=ud(),t=ld(),r=function(){if(Vf)return qf;Vf=1;var e=function(e){function t(){var e;return R(this,t),(e=g(this,t)).allResults=[],e}return y(t,e),C(t,[{key:"update",value:(r=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:throw new Error("BaseFilterWithHistory - no update method specified");case 1:return e.a(2)}},e)})),function(){return r.apply(this,arguments)})},{key:"addResults",value:function(e){this.allResults=this.allResults.concat(e),u(t,"addResults",this,3)([e])}},{key:"addInitialResults",value:function(e){this.allResults=this.allResults.concat(e),u(t,"addInitialResults",this,3)([e])}},{key:"getAllResults",value:function(){return this.allResults}}]);var r}(fd());return qf=e}(),n=dd(),i=(n.bnToHex,n.hexToInt),o=n.incrementHexInt,s=n.minBlockRef,a=n.blockRefIsNumber,c=function(r){function n(t){var r,i=t.provider,o=t.params;return R(this,n),(r=g(this,n)).type="log",r.ethQuery=new e(i),r.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},o),r.params.address&&(Array.isArray(r.params.address)||(r.params.address=[r.params.address]),r.params.address=r.params.address.map(function(e){return e.toLowerCase()})),r}return y(n,r),C(n,[{key:"initialize",value:(l=p(f().m(function e(t){var r,n,i,o,a;return f().w(function(e){for(;;)switch(e.n){case 0:return r=t.currentBlock,n=this.params.fromBlock,["latest","pending"].includes(n)&&(n=r),"earliest"===n&&(n="0x0"),this.params.fromBlock=n,i=s(this.params.toBlock,r),o=Object.assign({},this.params,{toBlock:i}),e.n=1,this._fetchLogs(o);case 1:a=e.v,this.addInitialResults(a);case 2:return e.a(2)}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"update",value:(u=p(f().m(function e(t){var r,n,i,s,a,c,u,l=this;return f().w(function(e){for(;;)switch(e.n){case 0:return r=t.oldBlock,n=t.newBlock,i=n,s=r?o(r):n,a=Object.assign({},this.params,{fromBlock:s,toBlock:i}),e.n=1,this._fetchLogs(a);case 1:c=e.v,u=c.filter(function(e){return l.matchLog(e)}),this.addResults(u);case 2:return e.a(2)}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"_fetchLogs",value:(c=p(f().m(function e(r){var n,i=this;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t(function(e){return i.ethQuery.getLogs(r,e)})();case 1:return n=e.v,e.a(2,n)}},e)})),function(e){return c.apply(this,arguments)})},{key:"matchLog",value:function(e){if(i(this.params.fromBlock)>=i(e.blockNumber))return!1;if(a(this.params.toBlock)&&i(this.params.toBlock)<=i(e.blockNumber))return!1;var t=e.address&&e.address.toLowerCase();if(this.params.address&&t&&!this.params.address.includes(t))return!1;var r=this.params.topics.every(function(t,r){var n=e.topics[r];if(!n)return!1;n=n.toLowerCase();var i=Array.isArray(t)?t:[t];return!!i.includes(null)||(i=i.map(function(e){return e.toLowerCase()})).includes(n)});return r}}]);var c,u,l}(r);return Gf=c}function pd(){if(Qf)return Yf;function e(){return e=p(f().m(function e(n){var o,s,a,c,u,l,d;return f().w(function(e){for(;;)switch(e.n){case 0:return o=n.provider,s=n.fromBlock,a=n.toBlock,s||(s=a),c=t(s),u=t(a),l=Array(u-c+1).fill().map(function(e,t){return c+t}).map(r),e.n=1,Promise.all(l.map(function(e){return i(o,"eth_getBlockByNumber",[e,!1])}));case 1:return d=(d=e.v).filter(function(e){return null!==e}),e.a(2,d)}},e)})),e.apply(this,arguments)}function t(e){return null==e?e:Number.parseInt(e,16)}function r(e){return null==e?e:"0x"+e.toString(16)}function n(e,t){return new Promise(function(r,n){e.sendAsync(t,function(e,t){e?n(e):t.error?n(t.error):t.result?r(t.result):n(new Error("Result was empty"))})})}function i(e,t,r){return o.apply(this,arguments)}function o(){return(o=p(f().m(function e(t,r,i){var o,s;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:o=0;case 1:if(!(o<3)){e.n=6;break}return e.p=2,e.n=3,n(t,{id:1,jsonrpc:"2.0",method:r,params:i});case 3:return e.a(2,e.v);case 4:e.p=4,s=e.v,console.error("provider.sendAsync failed: ".concat(s.stack||s.message||s));case 5:o++,e.n=1;break;case 6:return e.a(2,null)}},e,null,[[2,4]])}))).apply(this,arguments)}return Qf=1,Yf=function(t){return e.apply(this,arguments)},Yf}function vd(){if(rd)return td;rd=1;var e=cd().Mutex,t=Rf(),r=t.createAsyncMiddleware,n=t.createScaffoldMiddleware,i=hd(),o=function(){if(Xf)return Kf;Xf=1;var e=fd(),t=pd(),r=dd().incrementHexInt,n=function(e){function n(e){var t,r=e.provider;return e.params,R(this,n),(t=g(this,n)).type="block",t.provider=r,t}return y(n,e),C(n,[{key:"update",value:(i=p(f().m(function e(n){var i,o,s,a,c,u;return f().w(function(e){for(;;)switch(e.n){case 0:return i=n.oldBlock,o=n.newBlock,s=o,a=r(i),e.n=1,t({provider:this.provider,fromBlock:a,toBlock:s});case 1:c=e.v,u=c.map(function(e){return e.hash}),this.addResults(u);case 2:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})}]);var i}(e);return Kf=n}(),s=function(){if(ed)return $f;ed=1;var e=fd(),t=pd(),r=dd().incrementHexInt,n=function(e){function n(e){var t,r=e.provider;return R(this,n),(t=g(this,n)).type="tx",t.provider=r,t}return y(n,e),C(n,[{key:"update",value:(i=p(f().m(function e(n){var i,o,s,a,c,u,l,d;return f().w(function(e){for(;;)switch(e.n){case 0:return i=n.oldBlock,o=i,s=r(i),e.n=1,t({provider:this.provider,fromBlock:s,toBlock:o});case 1:a=e.v,c=[],u=S(a);try{for(u.s();!(l=u.n()).done;)d=l.value,c.push.apply(c,_(d.transactions))}catch(f){u.e(f)}finally{u.f()}this.addResults(c);case 2:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})}]);var i}(e);return $f=n}(),a=dd(),c=a.intToHex,u=a.hexToInt;function l(e){return d(p(f().m(function t(){var r,n,i=arguments;return f().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.apply(void 0,i);case 1:return r=t.v,n=c(r.id),t.a(2,n)}},t)})))}function d(e){return r(function(){var t=p(f().m(function t(r,n){var i;return f().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.apply(null,r.params);case 1:i=t.v,n.result=i;case 2:return t.a(2)}},t)}));return function(e,r){return t.apply(this,arguments)}}())}function h(e,t){var r=[];for(var n in e)r.push(e[n]);return r}return td=function(t){var r=t.blockTracker,a=t.provider,v=0,g={},y=new e,m=function(e){var t=e.mutex;return function(e){return function(){var r=p(f().m(function r(n,i,o,s){return f().w(function(r){for(;;)switch(r.n){case 0:return r.n=1,t.acquire();case 1:(0,r.v)(),e(n,i,o,s);case 2:return r.a(2)}},r)}));return function(e,t,n,i){return r.apply(this,arguments)}}()}}({mutex:y}),b=n({eth_newFilter:m(l(k)),eth_newBlockFilter:m(l(E)),eth_newPendingTransactionFilter:m(l(R)),eth_uninstallFilter:m(d(O)),eth_getFilterChanges:m(d(C)),eth_getFilterLogs:m(d(x))}),w=function(){var e=p(f().m(function e(t){var r,n,i,o;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=t.oldBlock,n=t.newBlock,0!==g.length){e.n=1;break}return e.a(2);case 1:return e.n=2,y.acquire();case 2:return i=e.v,e.p=3,e.n=4,Promise.all(h(g).map(function(){var e=p(f().m(function e(t){var i;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,t.update({oldBlock:r,newBlock:n});case 1:e.n=3;break;case 2:e.p=2,i=e.v,console.error(i);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}()));case 4:e.n=6;break;case 5:e.p=5,o=e.v,console.error(o);case 6:i();case 7:return e.a(2)}},e,null,[[3,5]])}));return function(t){return e.apply(this,arguments)}}();return b.newLogFilter=k,b.newBlockFilter=E,b.newPendingTransactionFilter=R,b.uninstallFilter=O,b.getFilterChanges=C,b.getFilterLogs=x,b.destroy=function(){!function(){B.apply(this,arguments)}()},b;function k(e){return _.apply(this,arguments)}function _(){return(_=p(f().m(function e(t){var r;return f().w(function(e){for(;;)switch(e.n){case 0:return r=new i({provider:a,params:t}),e.n=1,N(r);case 1:return e.a(2,r)}},e)}))).apply(this,arguments)}function E(){return S.apply(this,arguments)}function S(){return(S=p(f().m(function e(){var t;return f().w(function(e){for(;;)switch(e.n){case 0:return t=new o({provider:a}),e.n=1,N(t);case 1:return e.a(2,t)}},e)}))).apply(this,arguments)}function R(){return I.apply(this,arguments)}function I(){return(I=p(f().m(function e(){var t;return f().w(function(e){for(;;)switch(e.n){case 0:return t=new s({provider:a}),e.n=1,N(t);case 1:return e.a(2,t)}},e)}))).apply(this,arguments)}function C(e){return A.apply(this,arguments)}function A(){return A=p(f().m(function e(t){var r,n,i;return f().w(function(e){for(;;)switch(e.n){case 0:if(r=u(t),n=g[r]){e.n=1;break}throw new Error('No filter for index "'.concat(r,'"'));case 1:return i=n.getChangesAndClear(),e.a(2,i)}},e)})),A.apply(this,arguments)}function x(e){return M.apply(this,arguments)}function M(){return M=p(f().m(function e(t){var r,n,i;return f().w(function(e){for(;;)switch(e.n){case 0:if(r=u(t),n=g[r]){e.n=1;break}throw new Error('No filter for index "'.concat(r,'"'));case 1:return i=[],"log"===n.type&&(i=n.getAllResults()),e.a(2,i)}},e)})),M.apply(this,arguments)}function O(e){return P.apply(this,arguments)}function P(){return P=p(f().m(function e(t){var r,n,i;return f().w(function(e){for(;;)switch(e.n){case 0:if(r=u(t),n=g[r],!(i=Boolean(n))){e.n=1;break}return e.n=1,T(r);case 1:return e.a(2,i)}},e)})),P.apply(this,arguments)}function N(e){return L.apply(this,arguments)}function L(){return(L=p(f().m(function e(t){var n,i,o;return f().w(function(e){for(;;)switch(e.n){case 0:return n=h(g).length,e.n=1,r.getLatestBlock();case 1:return i=e.v,e.n=2,t.initialize({currentBlock:i});case 2:return v++,g[v]=t,t.id=v,t.idHex=c(v),o=h(g).length,D({prevFilterCount:n,newFilterCount:o}),e.a(2,v)}},e)}))).apply(this,arguments)}function T(e){return j.apply(this,arguments)}function j(){return j=p(f().m(function e(t){var r,n;return f().w(function(e){for(;;)switch(e.n){case 0:r=h(g).length,delete g[t],n=h(g).length,D({prevFilterCount:r,newFilterCount:n});case 1:return e.a(2)}},e)})),j.apply(this,arguments)}function B(){return(B=p(f().m(function e(){var t;return f().w(function(e){for(;;)switch(e.n){case 0:t=h(g).length,g={},D({prevFilterCount:t,newFilterCount:0});case 1:return e.a(2)}},e)}))).apply(this,arguments)}function D(e){var t=e.prevFilterCount,n=e.newFilterCount;0===t&&n>0?r.on("sync",w):t>0&&0===n&&r.removeListener("sync",w)}},td}function gd(){if(od)return lu;od=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.SubscriptionManager=void 0;var e=Hl(),t=function(){if(id)return nd;id=1;var e=mu().default,t=Rf(),r=t.createAsyncMiddleware,n=t.createScaffoldMiddleware,i=vd(),o=dd(),s=o.unsafeRandomBytes,a=o.incrementHexInt,c=pd();function u(e){return null==e?null:{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}return nd=function(t){var o=t.blockTracker,l=t.provider,d={},h=i({blockTracker:o,provider:l}),v=!1,g=new e,y=n({eth_subscribe:r(function(e,t){return m.apply(this,arguments)}),eth_unsubscribe:r(function(e,t){return b.apply(this,arguments)})});return y.destroy=function(){for(var e in g.removeAllListeners(),d)d[e].destroy(),delete d[e];v=!0},{events:g,middleware:y};function m(){return m=p(f().m(function e(t,r){var n,i,g,y,m,b,k,_;return f().w(function(e){for(;;)switch(e.n){case 0:if(k=function(e){var t=e.subId,r=e.filter;r.on("update",function(e){return w(t,e)});var i,o={type:n,destroy:(i=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,h.uninstallFilter(r.idHex);case 1:return e.a(2,e.v)}},e)})),function(){return i.apply(this,arguments)})};return o},b=function(e){var t,r,i=e.subId,s={type:n,destroy:(r=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:o.removeListener("sync",s.update);case 1:return e.a(2)}},e)})),function(){return r.apply(this,arguments)}),update:(t=p(f().m(function e(t){var r,n,o,s;return f().w(function(e){for(;;)switch(e.n){case 0:return r=t.oldBlock,n=t.newBlock,o=n,s=a(r),e.n=1,c({provider:l,fromBlock:s,toBlock:o});case 1:e.v.map(u).filter(function(e){return null!==e}).forEach(function(e){w(i,e)});case 2:return e.a(2)}},e)})),function(e){return t.apply(this,arguments)})};return o.on("sync",s.update),s},!v){e.n=1;break}throw new Error("SubscriptionManager - attempting to use after destroying");case 1:n=t.params[0],i=s(16),_=n,e.n="newHeads"===_?2:"logs"===_?3:5;break;case 2:return g=b({subId:i}),e.a(3,6);case 3:return y=t.params[1],e.n=4,h.newLogFilter(y);case 4:return m=e.v,g=k({subId:i,filter:m}),e.a(3,6);case 5:throw new Error('SubscriptionManager - unsupported subscription type "'.concat(n,'"'));case 6:return d[i]=g,r.result=i,e.a(2)}},e)})),m.apply(this,arguments)}function b(){return(b=p(f().m(function e(t,r){var n,i;return f().w(function(e){for(;;)switch(e.n){case 0:if(!v){e.n=1;break}throw new Error("SubscriptionManager - attempting to use after destroying");case 1:if(n=t.params[0],i=d[n]){e.n=2;break}return r.result=!1,e.a(2);case 2:return delete d[n],e.n=3,i.destroy();case 3:r.result=!0;case 4:return e.a(2)}},e)}))).apply(this,arguments)}function w(e,t){g.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:t}})}},nd}(),r=function(){},n=function(){return C(function r(n){R(this,r);var i=new e.PollingBlockTracker({provider:n,pollingInterval:15e3,setSkipCacheFlag:!0}),o=t({blockTracker:i,provider:n}),s=o.events,a=o.middleware;this.events=s,this.subscriptionMiddleware=a},[{key:"handleRequest",value:(n=p(f().m(function e(t){var n;return f().w(function(e){for(;;)switch(e.n){case 0:return n={},e.n=1,this.subscriptionMiddleware(t,n,r,r);case 1:return e.a(2,n)}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"destroy",value:function(){this.subscriptionMiddleware.destroy()}}]);var n}();return lu.SubscriptionManager=n,lu}function yd(){if(sd)return Cr;sd=1;var e=Cr&&Cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.CoinbaseWalletProvider=void 0;var t=e(d()),r=(Ir||(Ir=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,o||e,s),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,o),!0;case 6:return l.fn.call(l.context,t,n,i,o,s),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,i);break;default:if(!c)for(d=1,c=new Array(f-1);d<f;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||s(this,o);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||i&&!a[c].once||n&&a[c].context!==n)&&u.push(a[c]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a}(Ar)),Ar.exports),n=yr(),i=_r(),o=Da(),s=jr(),a=Jo(),c=lr(),u=e(ru()),l=Nr(),h=ou(),v=gd(),m="DefaultChainId",b="DefaultJsonRpcUrl",w=function(e){function r(e){var t,n,o;R(this,r),(t=g(this,r))._filterPolyfill=new h.FilterPolyfill(t),t._subscriptionManager=new v.SubscriptionManager(t),t._relay=null,t._addresses=[],t.hasMadeFirstChainChangedEmission=!1,t.setProviderInfo=t.setProviderInfo.bind(t),t.updateProviderInfo=t.updateProviderInfo.bind(t),t.getChainId=t.getChainId.bind(t),t.setAppInfo=t.setAppInfo.bind(t),t.enable=t.enable.bind(t),t.close=t.close.bind(t),t.send=t.send.bind(t),t.sendAsync=t.sendAsync.bind(t),t.request=t.request.bind(t),t._setAddresses=t._setAddresses.bind(t),t.scanQRCode=t.scanQRCode.bind(t),t.genericRequest=t.genericRequest.bind(t),t._chainIdFromOpts=e.chainId,t._jsonRpcUrlFromOpts=e.jsonRpcUrl,t._overrideIsMetaMask=e.overrideIsMetaMask,t._relayProvider=e.relayProvider,t._storage=e.storage,t._relayEventManager=e.relayEventManager,t.diagnostic=e.diagnosticLogger,t.reloadOnDisconnect=!0,t.isCoinbaseWallet=null===(n=e.overrideIsCoinbaseWallet)||void 0===n||n,t.isCoinbaseBrowser=null!==(o=e.overrideIsCoinbaseBrowser)&&void 0!==o&&o,t.qrUrl=e.qrUrl;var a=t.getChainId(),c=(0,i.prepend0x)(a.toString(16));t.emit("connect",{chainIdStr:c});var u=t._storage.getItem(s.LOCAL_STORAGE_ADDRESSES_KEY);if(u){var l=u.split(" ");""!==l[0]&&(t._addresses=l.map(function(e){return(0,i.ensureAddressString)(e)}),t.emit("accountsChanged",l))}return t._subscriptionManager.events.on("notification",function(e){t.emit("message",{type:e.method,data:e.params})}),t._isAuthorized()&&t.initializeRelay(),window.addEventListener("message",function(e){var r;if(e.origin===location.origin&&e.source===window&&"walletLinkMessage"===e.data.type&&"dappChainSwitched"===e.data.data.action){var n=e.data.data.chainId,i=null!==(r=e.data.data.jsonRpcUrl)&&void 0!==r?r:t.jsonRpcUrl;t.updateProviderInfo(i,Number(n))}}),t}return y(r,e),C(r,[{key:"selectedAddress",get:function(){return this._addresses[0]||void 0}},{key:"networkVersion",get:function(){return this.getChainId().toString(10)}},{key:"chainId",get:function(){return(0,i.prepend0x)(this.getChainId().toString(16))}},{key:"isWalletLink",get:function(){return!0}},{key:"isMetaMask",get:function(){return this._overrideIsMetaMask}},{key:"host",get:function(){return this.jsonRpcUrl}},{key:"connected",get:function(){return!0}},{key:"isConnected",value:function(){return!0}},{key:"jsonRpcUrl",get:function(){var e;return null!==(e=this._storage.getItem(b))&&void 0!==e?e:this._jsonRpcUrlFromOpts},set:function(e){this._storage.setItem(b,e)}},{key:"disableReloadOnDisconnect",value:function(){this.reloadOnDisconnect=!1}},{key:"setProviderInfo",value:function(e,t){this.isCoinbaseBrowser||(this._chainIdFromOpts=t,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}},{key:"updateProviderInfo",value:function(e,t){this.jsonRpcUrl=e;var r=this.getChainId();this._storage.setItem(m,t.toString(10)),!((0,i.ensureIntNumber)(t)!==r)&&this.hasMadeFirstChainChangedEmission||(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}},{key:"watchAsset",value:(X=p(f().m(function e(t,r,n,i,o,s){var a,u;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.initializeRelay();case 1:return a=e.v,e.n=2,a.watchAsset(t,r,n,i,o,null==s?void 0:s.toString()).promise;case 2:if(u=e.v,!(0,c.isErrorResponse)(u)){e.n=3;break}return e.a(2,!1);case 3:return e.a(2,!!u.result)}},e,this)})),function(e,t,r,n,i,o){return X.apply(this,arguments)})},{key:"addEthereumChain",value:(K=p(f().m(function e(t,r,n,o,s,a){var u,l,d,h,p;return f().w(function(e){for(;;)switch(e.n){case 0:if((0,i.ensureIntNumber)(t)!==this.getChainId()){e.n=1;break}return e.a(2,!1);case 1:return e.n=2,this.initializeRelay();case 2:if(d=e.v,h=d.inlineAddEthereumChain(t.toString()),this._isAuthorized()||h){e.n=3;break}return e.n=3,d.requestEthereumAccounts().promise;case 3:return e.n=4,d.addEthereumChain(t.toString(),r,s,n,o,a).promise;case 4:if(p=e.v,!(0,c.isErrorResponse)(p)){e.n=5;break}return e.a(2,!1);case 5:return!0===(null===(u=p.result)||void 0===u?void 0:u.isApproved)&&this.updateProviderInfo(r[0],t),e.a(2,!0===(null===(l=p.result)||void 0===l?void 0:l.isApproved))}},e,this)})),function(e,t,r,n,i,o){return K.apply(this,arguments)})},{key:"switchEthereumChain",value:(Q=p(f().m(function e(t){var r,i,o;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.initializeRelay();case 1:return r=e.v,e.n=2,r.switchEthereumChain(t.toString(10),this.selectedAddress||void 0).promise;case 2:if(i=e.v,!(0,c.isErrorResponse)(i)){e.n=5;break}if(i.errorCode){e.n=3;break}return e.a(2);case 3:if(i.errorCode!==n.standardErrorCodes.provider.unsupportedChain){e.n=4;break}throw n.standardErrors.provider.unsupportedChain();case 4:throw n.standardErrors.provider.custom({message:i.errorMessage,code:i.errorCode});case 5:(o=i.result).isApproved&&o.rpcUrl.length>0&&this.updateProviderInfo(o.rpcUrl,t);case 6:return e.a(2)}},e,this)})),function(e){return Q.apply(this,arguments)})},{key:"setAppInfo",value:function(e,t){this.initializeRelay().then(function(r){return r.setAppInfo(e,t)})}},{key:"enable",value:(Y=p(f().m(function e(){var t;return f().w(function(e){for(;;)switch(e.n){case 0:if(null===(t=this.diagnostic)||void 0===t||t.log(l.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?a.Session.hash(this._relay.session.id):void 0}),!this._isAuthorized()){e.n=1;break}return e.a(2,_(this._addresses));case 1:return e.n=2,this.send("eth_requestAccounts");case 2:return e.a(2,e.v)}},e,this)})),function(){return Y.apply(this,arguments)})},{key:"close",value:(Z=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.initializeRelay();case 1:e.v.resetAndReload();case 2:return e.a(2)}},e,this)})),function(){return Z.apply(this,arguments)})},{key:"send",value:function(e,t){try{var r=this._send(e,t);if(r instanceof Promise)return r.catch(function(t){throw(0,n.serializeError)(t,e)})}catch(Xt){throw(0,n.serializeError)(Xt,e)}}},{key:"_send",value:function(e,t){var r=this;if("string"==typeof e){var n={jsonrpc:"2.0",id:0,method:e,params:Array.isArray(t)?t:void 0!==t?[t]:[]};return this._sendRequestAsync(n).then(function(e){return e.result})}if("function"==typeof t){var i=e,o=t;return this._sendAsync(i,o)}if(Array.isArray(e))return e.map(function(e){return r._sendRequest(e)});var s=e;return this._sendRequest(s)}},{key:"sendAsync",value:(G=p(f().m(function e(t,r){var i;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.a(2,this._sendAsync(t,r).catch(function(e){throw(0,n.serializeError)(e,t)}));case 1:return e.p=1,i=e.v,e.a(2,Promise.reject((0,n.serializeError)(i,t)))}},e,this,[[0,1]])})),function(e,t){return G.apply(this,arguments)})},{key:"_sendAsync",value:(J=p(f().m(function e(t,r){var n,i;return f().w(function(e){for(;;)switch(e.n){case 0:if("function"==typeof r){e.n=1;break}throw new Error("callback is required");case 1:if(!Array.isArray(t)){e.n=2;break}return n=r,this._sendMultipleRequestsAsync(t).then(function(e){return n(null,e)}).catch(function(e){return n(e,null)}),e.a(2);case 2:return i=r,e.a(2,this._sendRequestAsync(t).then(function(e){return i(null,e)}).catch(function(e){return i(e,null)}))}},e,this)})),function(e,t){return J.apply(this,arguments)})},{key:"request",value:(z=p(f().m(function e(t){var r;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.a(2,this._request(t).catch(function(e){throw(0,n.serializeError)(e,t.method)}));case 1:return e.p=1,r=e.v,e.a(2,Promise.reject((0,n.serializeError)(r,t.method)))}},e,this,[[0,1]])})),function(e){return z.apply(this,arguments)})},{key:"_request",value:(V=p(f().m(function e(t){var r,i,o,s,a;return f().w(function(e){for(;;)switch(e.n){case 0:if(t&&"object"===L(t)&&!Array.isArray(t)){e.n=1;break}throw n.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:t});case 1:if(r=t.method,i=t.params,"string"==typeof r&&0!==r.length){e.n=2;break}throw n.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:t});case 2:if(void 0===i||Array.isArray(i)||"object"===L(i)&&null!==i){e.n=3;break}throw n.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:t});case 3:return o=void 0===i?[]:i,s=this._relayEventManager.makeRequestId(),e.n=4,this._sendRequestAsync({method:r,params:o,jsonrpc:"2.0",id:s});case 4:return a=e.v,e.a(2,a.result)}},e,this)})),function(e){return V.apply(this,arguments)})},{key:"scanQRCode",value:(q=p(f().m(function e(t){var r,o;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.initializeRelay();case 1:return r=e.v,e.n=2,r.scanQRCode((0,i.ensureRegExpString)(t)).promise;case 2:if(o=e.v,!(0,c.isErrorResponse)(o)){e.n=3;break}throw(0,n.serializeError)(o.errorMessage,"scanQRCode");case 3:if("string"==typeof o.result){e.n=4;break}throw(0,n.serializeError)("result was not a string","scanQRCode");case 4:return e.a(2,o.result)}},e,this)})),function(e){return q.apply(this,arguments)})},{key:"genericRequest",value:(W=p(f().m(function e(t,r){var i,o;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.initializeRelay();case 1:return i=e.v,e.n=2,i.genericRequest(t,r).promise;case 2:if(o=e.v,!(0,c.isErrorResponse)(o)){e.n=3;break}throw(0,n.serializeError)(o.errorMessage,"generic");case 3:if("string"==typeof o.result){e.n=4;break}throw(0,n.serializeError)("result was not a string","generic");case 4:return e.a(2,o.result)}},e,this)})),function(e,t){return W.apply(this,arguments)})},{key:"connectAndSignIn",value:(H=p(f().m(function e(t){var r,i,s,u,d;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return null===(r=this.diagnostic)||void 0===r||r.log(l.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::connectAndSignIn",sessionIdHash:this._relay?a.Session.hash(this._relay.session.id):void 0}),e.p=1,e.n=2,this.initializeRelay();case 2:if((s=e.v)instanceof o.MobileRelay){e.n=3;break}throw new Error("connectAndSignIn is only supported on mobile");case 3:return e.n=4,s.connectAndSignIn(t).promise;case 4:if(i=e.v,!(0,c.isErrorResponse)(i)){e.n=5;break}throw new Error(i.errorMessage);case 5:e.n=8;break;case 6:if(e.p=6,"string"!=typeof(d=e.v).message||!d.message.match(/(denied|rejected)/i)){e.n=7;break}throw n.standardErrors.provider.userRejectedRequest("User denied account authorization");case 7:throw d;case 8:if(i.result){e.n=9;break}throw new Error("accounts received is empty");case 9:if(u=i.result.accounts,this._setAddresses(u),this.isCoinbaseBrowser){e.n=10;break}return e.n=10,this.switchEthereumChain(this.getChainId());case 10:return e.a(2,i.result)}},e,this,[[1,6]])})),function(e){return H.apply(this,arguments)})},{key:"selectProvider",value:(U=p(f().m(function e(t){var r,i;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.initializeRelay();case 1:return r=e.v,e.n=2,r.selectProvider(t).promise;case 2:if(i=e.v,!(0,c.isErrorResponse)(i)){e.n=3;break}throw(0,n.serializeError)(i.errorMessage,"selectProvider");case 3:if("string"==typeof i.result){e.n=4;break}throw(0,n.serializeError)("result was not a string","selectProvider");case 4:return e.a(2,i.result)}},e,this)})),function(e){return U.apply(this,arguments)})},{key:"supportsSubscriptions",value:function(){return!1}},{key:"subscribe",value:function(){throw new Error("Subscriptions are not supported")}},{key:"unsubscribe",value:function(){throw new Error("Subscriptions are not supported")}},{key:"disconnect",value:function(){return!0}},{key:"_sendRequest",value:function(e){var t={jsonrpc:"2.0",id:e.id},r=e.method;if(t.result=this._handleSynchronousMethods(e),void 0===t.result)throw new Error("Coinbase Wallet does not support calling ".concat(r," synchronously without ")+"a callback. Please provide a callback parameter to call ".concat(r," ")+"asynchronously.");return t}},{key:"_setAddresses",value:function(e,t){if(!Array.isArray(e))throw new Error("addresses is not an array");var r=e.map(function(e){return(0,i.ensureAddressString)(e)});JSON.stringify(r)!==JSON.stringify(this._addresses)&&(this._addresses=r,this.emit("accountsChanged",this._addresses),this._storage.setItem(s.LOCAL_STORAGE_ADDRESSES_KEY,r.join(" ")))}},{key:"_sendRequestAsync",value:function(e){var t=this;return new Promise(function(r,n){try{var i=t._handleSynchronousMethods(e);if(void 0!==i)return r({jsonrpc:"2.0",id:e.id,result:i});var o=t._handleAsynchronousFilterMethods(e);if(void 0!==o)return void o.then(function(t){return r(Object.assign(Object.assign({},t),{id:e.id}))}).catch(function(e){return n(e)});var s=t._handleSubscriptionMethods(e);if(void 0!==s)return void s.then(function(t){return r({jsonrpc:"2.0",id:e.id,result:t.result})}).catch(function(e){return n(e)})}catch(a){return n(a)}t._handleAsynchronousMethods(e).then(function(t){return t&&r(Object.assign(Object.assign({},t),{id:e.id}))}).catch(function(e){return n(e)})})}},{key:"_sendMultipleRequestsAsync",value:function(e){var t=this;return Promise.all(e.map(function(e){return t._sendRequestAsync(e)}))}},{key:"_handleSynchronousMethods",value:function(e){var t=e.method,r=e.params||[];switch(t){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"eth_uninstallFilter":return this._eth_uninstallFilter(r);case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}},{key:"_handleAsynchronousMethods",value:(F=p(f().m(function e(t){var r,i,o,s,c=this;return f().w(function(e){for(;;)switch(e.n){case 0:r=t.method,i=t.params||[],s=r,e.n="eth_requestAccounts"===s?1:"eth_sign"===s?2:"eth_ecRecover"===s?3:"personal_sign"===s?4:"personal_ecRecover"===s?5:"eth_signTransaction"===s?6:"eth_sendRawTransaction"===s?7:"eth_sendTransaction"===s?8:"eth_signTypedData_v1"===s?9:"eth_signTypedData_v2"===s?10:"eth_signTypedData_v3"===s?11:"eth_signTypedData_v4"===s||"eth_signTypedData"===s?12:"cbWallet_arbitrary"===s?13:"wallet_addEthereumChain"===s?14:"wallet_switchEthereumChain"===s?15:"wallet_watchAsset"===s?16:17;break;case 1:return e.a(2,this._eth_requestAccounts());case 2:return e.a(2,this._eth_sign(i));case 3:return e.a(2,this._eth_ecRecover(i));case 4:return e.a(2,this._personal_sign(i));case 5:return e.a(2,this._personal_ecRecover(i));case 6:return e.a(2,this._eth_signTransaction(i));case 7:return e.a(2,this._eth_sendRawTransaction(i));case 8:return e.a(2,this._eth_sendTransaction(i));case 9:return e.a(2,this._eth_signTypedData_v1(i));case 10:return e.a(2,this._throwUnsupportedMethodError());case 11:return e.a(2,this._eth_signTypedData_v3(i));case 12:return e.a(2,this._eth_signTypedData_v4(i));case 13:return e.a(2,this._cbwallet_arbitrary(i));case 14:return e.a(2,this._wallet_addEthereumChain(i));case 15:return e.a(2,this._wallet_switchEthereumChain(i));case 16:return e.a(2,this._wallet_watchAsset(i));case 17:return e.n=18,this.initializeRelay();case 18:return o=e.v,e.a(2,o.makeEthereumJSONRPCRequest(t,this.jsonRpcUrl).catch(function(e){var r;throw e.code!==n.standardErrorCodes.rpc.methodNotFound&&e.code!==n.standardErrorCodes.rpc.methodNotSupported||null===(r=c.diagnostic)||void 0===r||r.log(l.EVENTS.METHOD_NOT_IMPLEMENTED,{method:t.method,sessionIdHash:c._relay?a.Session.hash(c._relay.session.id):void 0}),e}))}},e,this)})),function(e){return F.apply(this,arguments)})},{key:"_handleAsynchronousFilterMethods",value:function(e){var t=e.method,r=e.params||[];switch(t){case"eth_newFilter":return this._eth_newFilter(r);case"eth_newBlockFilter":return this._eth_newBlockFilter();case"eth_newPendingTransactionFilter":return this._eth_newPendingTransactionFilter();case"eth_getFilterChanges":return this._eth_getFilterChanges(r);case"eth_getFilterLogs":return this._eth_getFilterLogs(r)}}},{key:"_handleSubscriptionMethods",value:function(e){switch(e.method){case"eth_subscribe":case"eth_unsubscribe":return this._subscriptionManager.handleRequest(e)}}},{key:"_isKnownAddress",value:function(e){try{var t=(0,i.ensureAddressString)(e);return this._addresses.map(function(e){return(0,i.ensureAddressString)(e)}).includes(t)}catch(r){}return!1}},{key:"_ensureKnownAddress",value:function(e){var t;if(!this._isKnownAddress(e))throw null===(t=this.diagnostic)||void 0===t||t.log(l.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}},{key:"_prepareTransactionParams",value:function(e){var r=e.from?(0,i.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");return this._ensureKnownAddress(r),{fromAddress:r,toAddress:e.to?(0,i.ensureAddressString)(e.to):null,weiValue:null!=e.value?(0,i.ensureBN)(e.value):new t.default(0),data:e.data?(0,i.ensureBuffer)(e.data):Buffer.alloc(0),nonce:null!=e.nonce?(0,i.ensureIntNumber)(e.nonce):null,gasPriceInWei:null!=e.gasPrice?(0,i.ensureBN)(e.gasPrice):null,maxFeePerGas:null!=e.maxFeePerGas?(0,i.ensureBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:null!=e.maxPriorityFeePerGas?(0,i.ensureBN)(e.maxPriorityFeePerGas):null,gasLimit:null!=e.gas?(0,i.ensureBN)(e.gas):null,chainId:e.chainId?(0,i.ensureIntNumber)(e.chainId):this.getChainId()}}},{key:"_isAuthorized",value:function(){return this._addresses.length>0}},{key:"_requireAuthorization",value:function(){if(!this._isAuthorized())throw n.standardErrors.provider.unauthorized({})}},{key:"_throwUnsupportedMethodError",value:function(){throw n.standardErrors.provider.unsupportedMethod({})}},{key:"_signEthereumMessage",value:(D=p(f().m(function e(t,r,i,o){var s,a,u;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return this._ensureKnownAddress(r),e.p=1,e.n=2,this.initializeRelay();case 2:return s=e.v,e.n=3,s.signEthereumMessage(t,r,i,o).promise;case 3:if(a=e.v,!(0,c.isErrorResponse)(a)){e.n=4;break}throw new Error(a.errorMessage);case 4:return e.a(2,{jsonrpc:"2.0",id:0,result:a.result});case 5:if(e.p=5,"string"!=typeof(u=e.v).message||!u.message.match(/(denied|rejected)/i)){e.n=6;break}throw n.standardErrors.provider.userRejectedRequest("User denied message signature");case 6:throw u;case 7:return e.a(2)}},e,this,[[1,5]])})),function(e,t,r,n){return D.apply(this,arguments)})},{key:"_ethereumAddressFromSignedMessage",value:(B=p(f().m(function e(t,r,n){var i,o;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.initializeRelay();case 1:return i=e.v,e.n=2,i.ethereumAddressFromSignedMessage(t,r,n).promise;case 2:if(o=e.v,!(0,c.isErrorResponse)(o)){e.n=3;break}throw new Error(o.errorMessage);case 3:return e.a(2,{jsonrpc:"2.0",id:0,result:o.result})}},e,this)})),function(e,t,r){return B.apply(this,arguments)})},{key:"_eth_accounts",value:function(){return _(this._addresses)}},{key:"_eth_coinbase",value:function(){return this.selectedAddress||null}},{key:"_net_version",value:function(){return this.getChainId().toString(10)}},{key:"_eth_chainId",value:function(){return(0,i.hexStringFromIntNumber)(this.getChainId())}},{key:"getChainId",value:function(){var e=this._storage.getItem(m);if(!e)return(0,i.ensureIntNumber)(this._chainIdFromOpts);var t=parseInt(e,10);return(0,i.ensureIntNumber)(t)}},{key:"_eth_requestAccounts",value:(j=p(f().m(function e(){var t,r,i,o;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null===(t=this.diagnostic)||void 0===t||t.log(l.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?a.Session.hash(this._relay.session.id):void 0}),!this._isAuthorized()){e.n=1;break}return e.a(2,Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses}));case 1:return e.p=1,e.n=2,this.initializeRelay();case 2:return i=e.v,e.n=3,i.requestEthereumAccounts().promise;case 3:if(r=e.v,!(0,c.isErrorResponse)(r)){e.n=4;break}throw new Error(r.errorMessage);case 4:e.n=7;break;case 5:if(e.p=5,"string"!=typeof(o=e.v).message||!o.message.match(/(denied|rejected)/i)){e.n=6;break}throw n.standardErrors.provider.userRejectedRequest("User denied account authorization");case 6:throw o;case 7:if(r.result){e.n=8;break}throw new Error("accounts received is empty");case 8:if(this._setAddresses(r.result),this.isCoinbaseBrowser){e.n=9;break}return e.n=9,this.switchEthereumChain(this.getChainId());case 9:return e.a(2,{jsonrpc:"2.0",id:0,result:this._addresses})}},e,this,[[1,5]])})),function(){return j.apply(this,arguments)})},{key:"_eth_sign",value:function(e){this._requireAuthorization();var t=(0,i.ensureAddressString)(e[0]),r=(0,i.ensureBuffer)(e[1]);return this._signEthereumMessage(r,t,!1)}},{key:"_eth_ecRecover",value:function(e){var t=(0,i.ensureBuffer)(e[0]),r=(0,i.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,r,!1)}},{key:"_personal_sign",value:function(e){this._requireAuthorization();var t=(0,i.ensureBuffer)(e[0]),r=(0,i.ensureAddressString)(e[1]);return this._signEthereumMessage(t,r,!0)}},{key:"_personal_ecRecover",value:function(e){var t=(0,i.ensureBuffer)(e[0]),r=(0,i.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,r,!0)}},{key:"_eth_signTransaction",value:(T=p(f().m(function e(t){var r,i,o,s;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return this._requireAuthorization(),r=this._prepareTransactionParams(t[0]||{}),e.p=1,e.n=2,this.initializeRelay();case 2:return i=e.v,e.n=3,i.signEthereumTransaction(r).promise;case 3:if(o=e.v,!(0,c.isErrorResponse)(o)){e.n=4;break}throw new Error(o.errorMessage);case 4:return e.a(2,{jsonrpc:"2.0",id:0,result:o.result});case 5:if(e.p=5,"string"!=typeof(s=e.v).message||!s.message.match(/(denied|rejected)/i)){e.n=6;break}throw n.standardErrors.provider.userRejectedRequest("User denied transaction signature");case 6:throw s;case 7:return e.a(2)}},e,this,[[1,5]])})),function(e){return T.apply(this,arguments)})},{key:"_eth_sendRawTransaction",value:(N=p(f().m(function e(t){var r,n,o;return f().w(function(e){for(;;)switch(e.n){case 0:return r=(0,i.ensureBuffer)(t[0]),e.n=1,this.initializeRelay();case 1:return n=e.v,e.n=2,n.submitEthereumTransaction(r,this.getChainId()).promise;case 2:if(o=e.v,!(0,c.isErrorResponse)(o)){e.n=3;break}throw new Error(o.errorMessage);case 3:return e.a(2,{jsonrpc:"2.0",id:0,result:o.result})}},e,this)})),function(e){return N.apply(this,arguments)})},{key:"_eth_sendTransaction",value:(P=p(f().m(function e(t){var r,i,o,s;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return this._requireAuthorization(),r=this._prepareTransactionParams(t[0]||{}),e.p=1,e.n=2,this.initializeRelay();case 2:return i=e.v,e.n=3,i.signAndSubmitEthereumTransaction(r).promise;case 3:if(o=e.v,!(0,c.isErrorResponse)(o)){e.n=4;break}throw new Error(o.errorMessage);case 4:return e.a(2,{jsonrpc:"2.0",id:0,result:o.result});case 5:if(e.p=5,"string"!=typeof(s=e.v).message||!s.message.match(/(denied|rejected)/i)){e.n=6;break}throw n.standardErrors.provider.userRejectedRequest("User denied transaction signature");case 6:throw s;case 7:return e.a(2)}},e,this,[[1,5]])})),function(e){return P.apply(this,arguments)})},{key:"_eth_signTypedData_v1",value:(O=p(f().m(function e(t){var r,n,o,s;return f().w(function(e){for(;;)if(0===e.n)return this._requireAuthorization(),r=(0,i.ensureParsedJSONObject)(t[0]),n=(0,i.ensureAddressString)(t[1]),this._ensureKnownAddress(n),o=u.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2),e.a(2,this._signEthereumMessage(o,n,!1,s))},e,this)})),function(e){return O.apply(this,arguments)})},{key:"_eth_signTypedData_v3",value:(M=p(f().m(function e(t){var r,n,o,s;return f().w(function(e){for(;;)if(0===e.n)return this._requireAuthorization(),r=(0,i.ensureAddressString)(t[0]),n=(0,i.ensureParsedJSONObject)(t[1]),this._ensureKnownAddress(r),o=u.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2),e.a(2,this._signEthereumMessage(o,r,!1,s))},e,this)})),function(e){return M.apply(this,arguments)})},{key:"_eth_signTypedData_v4",value:(x=p(f().m(function e(t){var r,n,o,s;return f().w(function(e){for(;;)if(0===e.n)return this._requireAuthorization(),r=(0,i.ensureAddressString)(t[0]),n=(0,i.ensureParsedJSONObject)(t[1]),this._ensureKnownAddress(r),o=u.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2),e.a(2,this._signEthereumMessage(o,r,!1,s))},e,this)})),function(e){return x.apply(this,arguments)})},{key:"_cbwallet_arbitrary",value:(A=p(f().m(function e(t){var r,n,i;return f().w(function(e){for(;;)switch(e.n){case 0:if(r=t[0],"string"==typeof(n=t[1])){e.n=1;break}throw new Error("parameter must be a string");case 1:if("object"===L(r)&&null!==r){e.n=2;break}throw new Error("parameter must be an object");case 2:return e.n=3,this.genericRequest(r,n);case 3:return i=e.v,e.a(2,{jsonrpc:"2.0",id:0,result:i})}},e,this)})),function(e){return A.apply(this,arguments)})},{key:"_wallet_addEthereumChain",value:(I=p(f().m(function e(t){var r,i,o,s,a,c;return f().w(function(e){for(;;)switch(e.n){case 0:if(a=t[0],0!==(null===(r=a.rpcUrls)||void 0===r?void 0:r.length)){e.n=1;break}return e.a(2,{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}});case 1:if(a.chainName&&""!==a.chainName.trim()){e.n=2;break}throw n.standardErrors.rpc.invalidParams("chainName is a required field");case 2:if(a.nativeCurrency){e.n=3;break}throw n.standardErrors.rpc.invalidParams("nativeCurrency is a required field");case 3:return c=parseInt(a.chainId,16),e.n=4,this.addEthereumChain(c,null!==(i=a.rpcUrls)&&void 0!==i?i:[],null!==(o=a.blockExplorerUrls)&&void 0!==o?o:[],a.chainName,null!==(s=a.iconUrls)&&void 0!==s?s:[],a.nativeCurrency);case 4:if(!e.v){e.n=5;break}return e.a(2,{jsonrpc:"2.0",id:0,result:null});case 5:return e.a(2,{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}})}},e,this)})),function(e){return I.apply(this,arguments)})},{key:"_wallet_switchEthereumChain",value:(S=p(f().m(function e(t){var r;return f().w(function(e){for(;;)switch(e.n){case 0:return r=t[0],e.n=1,this.switchEthereumChain(parseInt(r.chainId,16));case 1:return e.a(2,{jsonrpc:"2.0",id:0,result:null})}},e,this)})),function(e){return S.apply(this,arguments)})},{key:"_wallet_watchAsset",value:(E=p(f().m(function e(t){var r,i,o,s,a,c,u,l;return f().w(function(e){for(;;)switch(e.n){case 0:if((r=Array.isArray(t)?t[0]:t).type){e.n=1;break}throw n.standardErrors.rpc.invalidParams("Type is required");case 1:if("ERC20"===(null==r?void 0:r.type)){e.n=2;break}throw n.standardErrors.rpc.invalidParams("Asset of type '".concat(r.type,"' is not supported"));case 2:if(null==r?void 0:r.options){e.n=3;break}throw n.standardErrors.rpc.invalidParams("Options are required");case 3:if(null==r?void 0:r.options.address){e.n=4;break}throw n.standardErrors.rpc.invalidParams("Address is required");case 4:return i=this.getChainId(),o=r.options,s=o.address,a=o.symbol,c=o.image,u=o.decimals,e.n=5,this.watchAsset(r.type,s,a,u,c,i);case 5:return l=e.v,e.a(2,{jsonrpc:"2.0",id:0,result:l})}},e,this)})),function(e){return E.apply(this,arguments)})},{key:"_eth_uninstallFilter",value:function(e){var t=(0,i.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(t)}},{key:"_eth_newFilter",value:(k=p(f().m(function e(t){var r,n;return f().w(function(e){for(;;)switch(e.n){case 0:return r=t[0],e.n=1,this._filterPolyfill.newFilter(r);case 1:return n=e.v,e.a(2,{jsonrpc:"2.0",id:0,result:n})}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"_eth_newBlockFilter",value:(w=p(f().m(function e(){var t;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._filterPolyfill.newBlockFilter();case 1:return t=e.v,e.a(2,{jsonrpc:"2.0",id:0,result:t})}},e,this)})),function(){return w.apply(this,arguments)})},{key:"_eth_newPendingTransactionFilter",value:(d=p(f().m(function e(){var t;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._filterPolyfill.newPendingTransactionFilter();case 1:return t=e.v,e.a(2,{jsonrpc:"2.0",id:0,result:t})}},e,this)})),function(){return d.apply(this,arguments)})},{key:"_eth_getFilterChanges",value:function(e){var t=(0,i.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(t)}},{key:"_eth_getFilterLogs",value:function(e){var t=(0,i.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(t)}},{key:"initializeRelay",value:function(){var e=this;return this._relay?Promise.resolve(this._relay):this._relayProvider().then(function(t){return t.setAccountsCallback(function(t,r){return e._setAddresses(t,r)}),t.setChainCallback(function(t,r){e.updateProviderInfo(r,parseInt(t,10))}),t.setDappDefaultChainCallback(e._chainIdFromOpts),e._relay=t,t})}}]);var d,w,k,E,S,I,A,x,M,O,P,N,T,j,B,D,F,U,H,W,q,V,z,J,G,Z,Y,Q,K,X}(r.EventEmitter);return Cr.CoinbaseWalletProvider=w,Cr}var md,bd,wd,kd={};function _d(){if(md)return kd;md=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.RelayEventManager=void 0;var e=_r(),t=function(){return C(function e(){R(this,e),this._nextRequestId=0,this.callbacks=new Map},[{key:"makeRequestId",value:function(){this._nextRequestId=(this._nextRequestId+1)%2147483647;var t=this._nextRequestId,r=(0,e.prepend0x)(t.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),t}}])}();return kd.RelayEventManager=t,kd}function Ed(){if(bd)return Vt;bd=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.CoinbaseWalletSDK=void 0;var e=Jt(),t=Yt(),r=_r(),n=Rr(),i=yd(),o=Da(),s=Ba(),a=_d(),c=Ea(),u=Sa(),l=vr(),f=function(){return C(function e(i){var f,d,h;R(this,e),this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;var p=i.linkAPIUrl||t.LINK_API_URL;void 0===i.overrideIsMetaMask?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=i.overrideIsMetaMask,this._overrideIsCoinbaseWallet=null===(f=i.overrideIsCoinbaseWallet)||void 0===f||f,this._overrideIsCoinbaseBrowser=null!==(d=i.overrideIsCoinbaseBrowser)&&void 0!==d&&d,this._diagnosticLogger=i.diagnosticLogger,this._reloadOnDisconnect=null===(h=i.reloadOnDisconnect)||void 0===h||h;var v=new URL(p),g="".concat(v.protocol,"//").concat(v.host);if(this._storage=new n.ScopedLocalStorage("-walletlink:".concat(g)),this._storage.setItem("version",e.VERSION),!this.walletExtension&&!this.coinbaseBrowser){this._relayEventManager=new a.RelayEventManager;var y=(0,r.isMobileWeb)(),m=i.uiConstructor||function(e){return y?new s.MobileRelayUI(e):new c.WalletLinkRelayUI(e)},b={linkAPIUrl:p,version:l.LIB_VERSION,darkMode:!!i.darkMode,headlessMode:!!i.headlessMode,uiConstructor:m,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect,enableMobileWalletLink:i.enableMobileWalletLink};this._relay=y?new o.MobileRelay(b):new u.WalletLinkRelay(b),this.setAppInfo(i.appName,i.appLogoUrl),i.headlessMode||this._relay.attachUI()}},[{key:"makeWeb3Provider",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.walletExtension;if(r)return this.isCipherProvider(r)||r.setProviderInfo(e,t),!1===this._reloadOnDisconnect&&"function"==typeof r.disableReloadOnDisconnect&&r.disableReloadOnDisconnect(),r;var n=this.coinbaseBrowser;if(n)return n;var o=this._relay;if(!o||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||o.setConnectDisabled(!0),new i.CoinbaseWalletProvider({relayProvider:function(){return Promise.resolve(o)},relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:t,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}},{key:"setAppInfo",value:function(e,t){var n;this._appName=e||"DApp",this._appLogoUrl=t||(0,r.getFavicon)();var i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):null===(n=this._relay)||void 0===n||n.setAppInfo(this._appName,this._appLogoUrl)}},{key:"disconnect",value:function(){var e,t=null==this?void 0:this.walletExtension;t?t.close():null===(e=this._relay)||void 0===e||e.resetAndReload()}},{key:"getQrUrl",value:function(){var e,t;return null!==(t=null===(e=this._relay)||void 0===e?void 0:e.getQRCodeUrl())&&void 0!==t?t:null}},{key:"getCoinbaseWalletLogo",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:240;return(0,e.walletLogo)(t,r)}},{key:"walletExtension",get:function(){var e;return null!==(e=window.coinbaseWalletExtension)&&void 0!==e?e:window.walletLinkExtension}},{key:"coinbaseBrowser",get:function(){var e,t;try{var r=null!==(e=window.ethereum)&&void 0!==e?e:null===(t=window.top)||void 0===t?void 0:t.ethereum;if(!r)return;return"isCoinbaseBrowser"in r&&r.isCoinbaseBrowser?r:void 0}catch(n){return}}},{key:"isCipherProvider",value:function(e){return"boolean"==typeof e.isCipher&&e.isCipher}}])}();return Vt.CoinbaseWalletSDK=f,f.VERSION=l.LIB_VERSION,Vt}function Sd(){return wd||(wd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CoinbaseWalletProvider=e.CoinbaseWalletSDK=void 0;var t=Ed(),r=yd(),n=Ed();Object.defineProperty(e,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=yd();Object.defineProperty(e,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),e.default=t.CoinbaseWalletSDK,"undefined"!=typeof window&&(window.CoinbaseWalletSDK=t.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=t.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)}(qt)),qt}var Rd=A(Sd()),Id=Object.freeze(Object.defineProperty({__proto__:null,default:Rd},Symbol.toStringTag,{value:"Module"}));a("i",Id)}}})}();
