!function(){function t(r){var e="function"==typeof Map?new Map:void 0;return t=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(r){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return function(t,r,e){if(v())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,r);var i=new(t.bind.apply(t,n));return e&&g(i,e.prototype),i}(t,arguments,y(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),g(r,t)},t(r)}function r(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,n)}return e}function e(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach(function(r){n(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function n(t,r,e){return(r=h(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function i(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,i,o,u,a=[],f=!0,s=!1;try{if(o=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;f=!1}else for(;!(f=(n=o.call(e)).done)&&(a.push(n.value),a.length!==r);f=!0);}catch(t){s=!0,i=t}finally{try{if(!f&&null!=e.return&&(u=e.return(),Object(u)!==u))return}finally{if(s)throw i}}return a}}(t,r)||a(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function u(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,r){if(t){if("string"==typeof t)return f(t,r);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?f(t,r):void 0}}function f(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}function s(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function c(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function l(t,r,e){return r&&c(t.prototype,r),e&&c(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t){var r=function(t,r){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,r||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==o(r)?r:r+""}function d(t,r,e){return r=y(r),function(t,r){if(r&&("object"==o(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,v()?Reflect.construct(r,e||[],y(t).constructor):r.apply(t,e))}function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(v=function(){return!!t})()}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function p(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&g(t,r)}function g(t,r){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},g(t,r)}System.register(["./index.es-legacy-CBBnaXOf.js","./index-legacy-CXPEV-Pz.js","./events-legacy-CXQjzqCV.js","./index-legacy-_k0KS9GP.js"],function(r,n){"use strict";var f,c,h,v,y,g,w,m,b,E,B;return{setters:[function(t){f=t.H,c=t.c,h=t.a,v=t.t,y=t.b,g=t.w,w=t.r,m=t.d,b=t.e,E=t.f,B=t.g},null,null,null],execute:function(){function n(t,r,e){return t&r^~t&e}function x(t,r,e){return t&r^t&e^r&e}var S=function(t){function r(t,e,n,i){var o;return s(this,r),(o=d(this,r)).blockLen=t,o.outputLen=e,o.padOffset=n,o.isLE=i,o.finished=!1,o.length=0,o.pos=0,o.destroyed=!1,o.buffer=new Uint8Array(t),o.view=c(o.buffer),o}return p(r,t),l(r,[{key:"update",value:function(t){h(this);for(var r=this.view,e=this.buffer,n=this.blockLen,i=(t=v(t)).length,o=0;o<i;){var u=Math.min(n-this.pos,i-o);if(u!==n)e.set(t.subarray(o,o+u),this.pos),this.pos+=u,o+=u,this.pos===n&&(this.process(r,0),this.pos=0);else for(var a=c(t);n<=i-o;o+=n)this.process(a,o)}return this.length+=t.length,this.roundClean(),this}},{key:"digestInto",value:function(t){h(this),y(t,this),this.finished=!0;var r=this.buffer,e=this.view,n=this.blockLen,i=this.isLE,o=this.pos;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(e,0),o=0);for(var u=o;u<n;u++)r[u]=0;!function(t,r,e,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(r,e,n);var i=BigInt(32),o=BigInt(4294967295),u=Number(e>>i&o),a=Number(e&o),f=n?4:0,s=n?0:4;t.setUint32(r+f,u,n),t.setUint32(r+s,a,n)}(e,n-8,BigInt(8*this.length),i),this.process(e,0);var a=c(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");var s=f/4,l=this.get();if(s>l.length)throw new Error("_sha2: outputLen bigger than state");for(var d=0;d<s;d++)a.setUint32(4*d,l[d],i)}},{key:"digest",value:function(){var t=this.buffer,r=this.outputLen;this.digestInto(t);var e=t.slice(0,r);return this.destroy(),e}},{key:"_cloneInto",value:function(t){var r;t||(t=new this.constructor),(r=t).set.apply(r,u(this.get()));var e=this.blockLen,n=this.buffer,i=this.length,o=this.finished,a=this.destroyed,f=this.pos;return t.length=i,t.pos=f,t.finished=o,t.destroyed=a,i%e&&t.buffer.set(n),t}}])}(f),O=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),A=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),k=new Uint32Array(64),I=function(t){function r(){var t;return s(this,r),(t=d(this,r,[64,32,8,!1])).A=0|A[0],t.B=0|A[1],t.C=0|A[2],t.D=0|A[3],t.E=0|A[4],t.F=0|A[5],t.G=0|A[6],t.H=0|A[7],t}return p(r,t),l(r,[{key:"get",value:function(){return[this.A,this.B,this.C,this.D,this.E,this.F,this.G,this.H]}},{key:"set",value:function(t,r,e,n,i,o,u,a){this.A=0|t,this.B=0|r,this.C=0|e,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|u,this.H=0|a}},{key:"process",value:function(t,r){for(var e=0;e<16;e++,r+=4)k[e]=t.getUint32(r,!1);for(var i=16;i<64;i++){var o=k[i-15],u=k[i-2],a=w(o,7)^w(o,18)^o>>>3,f=w(u,17)^w(u,19)^u>>>10;k[i]=f+k[i-7]+a+k[i-16]|0}for(var s=this.A,c=this.B,l=this.C,h=this.D,d=this.E,v=this.F,y=this.G,p=this.H,g=0;g<64;g++){var m=p+(w(d,6)^w(d,11)^w(d,25))+n(d,v,y)+O[g]+k[g]|0,b=(w(s,2)^w(s,13)^w(s,22))+x(s,c,l)|0;p=y,y=v,v=d,d=h+m|0,h=l,l=c,c=s,s=m+b|0}s=s+this.A|0,c=c+this.B|0,l=l+this.C|0,h=h+this.D|0,d=d+this.E|0,v=v+this.F|0,y=y+this.G|0,p=p+this.H|0,this.set(s,c,l,h,d,v,y,p)}},{key:"roundClean",value:function(){k.fill(0)}},{key:"destroy",value:function(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}])}(S),R=g(function(){return new I}),j=function(t){function r(t,e){var n;s(this,r),(n=d(this,r)).finished=!1,n.destroyed=!1,m(t);var i=v(e);if(n.iHash=t.create(),"function"!=typeof n.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");n.blockLen=n.iHash.blockLen,n.outputLen=n.iHash.outputLen;var o=n.blockLen,u=new Uint8Array(o);u.set(i.length>o?t.create().update(i).digest():i);for(var a=0;a<u.length;a++)u[a]^=54;n.iHash.update(u),n.oHash=t.create();for(var f=0;f<u.length;f++)u[f]^=106;return n.oHash.update(u),u.fill(0),n}return p(r,t),l(r,[{key:"update",value:function(t){return h(this),this.iHash.update(t),this}},{key:"digestInto",value:function(t){h(this),b(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}},{key:"digest",value:function(){var t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}},{key:"_cloneInto",value:function(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));var r=this.oHash,e=this.iHash,n=this.finished,i=this.destroyed,o=this.blockLen,u=this.outputLen;return t.finished=n,t.destroyed=i,t.blockLen=o,t.outputLen=u,t.oHash=r._cloneInto(t.oHash),t.iHash=e._cloneInto(t.iHash),t}},{key:"destroy",value:function(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}])}(f),q=function(t,r,e){return new j(t,r).update(e).digest()};q.create=function(t,r){return new j(t,r)};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
var N=BigInt(0),P=BigInt(1),L=BigInt(2);function H(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function T(t){if(!H(t))throw new Error("Uint8Array expected")}function U(t,r){if("boolean"!=typeof r)throw new Error(t+" boolean expected, got "+r)}var z=Array.from({length:256},function(t,r){return r.toString(16).padStart(2,"0")});function C(t){T(t);for(var r="",e=0;e<t.length;e++)r+=z[t[e]];return r}function F(t){var r=t.toString(16);return 1&r.length?"0"+r:r}function Z(t){if("string"!=typeof t)throw new Error("hex string expected, got "+o(t));return""===t?N:BigInt("0x"+t)}var _=48,D=57,M=65,V=70,K=97,G=102;function W(t){return t>=_&&t<=D?t-_:t>=M&&t<=V?t-(M-10):t>=K&&t<=G?t-(K-10):void 0}function Y(t){if("string"!=typeof t)throw new Error("hex string expected, got "+o(t));var r=t.length,e=r/2;if(r%2)throw new Error("hex string expected, got unpadded hex of length "+r);for(var n=new Uint8Array(e),i=0,u=0;i<e;i++,u+=2){var a=W(t.charCodeAt(u)),f=W(t.charCodeAt(u+1));if(void 0===a||void 0===f){var s=t[u]+t[u+1];throw new Error('hex string expected, got non-hex character "'+s+'" at index '+u)}n[i]=16*a+f}return n}function $(t){return Z(C(t))}function J(t){return T(t),Z(C(Uint8Array.from(t).reverse()))}function Q(t,r){return Y(t.toString(16).padStart(2*r,"0"))}function X(t,r){return Q(t,r).reverse()}function tt(t,r,e){var n;if("string"==typeof r)try{n=Y(r)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else{if(!H(r))throw new Error(t+" must be hex string or Uint8Array");n=Uint8Array.from(r)}var i=n.length;if("number"==typeof e&&i!==e)throw new Error(t+" of length "+e+" expected, got "+i);return n}function rt(){for(var t=0,r=0;r<arguments.length;r++){var e=r<0||arguments.length<=r?void 0:arguments[r];T(e),t+=e.length}for(var n=new Uint8Array(t),i=0,o=0;i<arguments.length;i++){var u=i<0||arguments.length<=i?void 0:arguments[i];n.set(u,o),o+=u.length}return n}var et=function(t){return"bigint"==typeof t&&N<=t};function nt(t,r,e){return et(t)&&et(r)&&et(e)&&r<=t&&t<e}function it(t,r,e,n){if(!nt(r,e,n))throw new Error("expected valid "+t+": "+e+" <= n < "+n+", got "+r)}function ot(t){var r;for(r=0;t>N;t>>=P,r+=1);return r}var ut=function(t){return(L<<BigInt(t-1))-P},at=function(t){return new Uint8Array(t)},ft=function(t){return Uint8Array.from(t)};function st(t,r,e){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof r||r<2)throw new Error("qByteLen must be a number");if("function"!=typeof e)throw new Error("hmacFn must be a function");var n=at(t),i=at(t),o=0,u=function(){n.fill(1),i.fill(0),o=0},a=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e.apply(void 0,[i,n].concat(r))},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at();i=a(ft([0]),t),n=a(),0!==t.length&&(i=a(ft([1]),t),n=a())},s=function(){if(o++>=1e3)throw new Error("drbg: tried 1000 values");for(var t=0,e=[];t<r;){var i=(n=a()).slice();e.push(i),t+=n.length}return rt.apply(void 0,e)};return function(t,r){u(),f(t);for(var e=void 0;!(e=r(s()));)f();return u(),e}}var ct={bigint:function(t){return"bigint"==typeof t},function:function(t){return"function"==typeof t},boolean:function(t){return"boolean"==typeof t},string:function(t){return"string"==typeof t},stringOrUint8Array:function(t){return"string"==typeof t||H(t)},isSafeInteger:function(t){return Number.isSafeInteger(t)},array:function(t){return Array.isArray(t)},field:function(t,r){return r.Fp.isValid(t)},hash:function(t){return"function"==typeof t&&Number.isSafeInteger(t.outputLen)}};function lt(t,r){for(var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=function(r,e,n){var i=ct[e];if("function"!=typeof i)throw new Error("invalid validator function");var o=t[r];if(!(n&&void 0===o||i(o,t)))throw new Error("param "+String(r)+" is invalid. Expected "+e+", got "+o)},o=0,u=Object.entries(r);o<u.length;o++){var a=i(u[o],2);n(a[0],a[1],!1)}for(var f=0,s=Object.entries(e);f<s.length;f++){var c=i(s[f],2);n(c[0],c[1],!0)}return t}function ht(t){var r=new WeakMap;return function(e){var n=r.get(e);if(void 0!==n)return n;for(var i=arguments.length,o=new Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];var a=t.apply(void 0,[e].concat(o));return r.set(e,a),a}}var dt=Object.freeze(Object.defineProperty({__proto__:null,aInRange:it,abool:U,abytes:T,bitGet:function(t,r){return t>>BigInt(r)&P},bitLen:ot,bitMask:ut,bitSet:function(t,r,e){return t|(e?P:N)<<BigInt(r)},bytesToHex:C,bytesToNumberBE:$,bytesToNumberLE:J,concatBytes:rt,createHmacDrbg:st,ensureBytes:tt,equalBytes:function(t,r){if(t.length!==r.length)return!1;for(var e=0,n=0;n<t.length;n++)e|=t[n]^r[n];return 0===e},hexToBytes:Y,hexToNumber:Z,inRange:nt,isBytes:H,memoized:ht,notImplemented:function(){throw new Error("not implemented")},numberToBytesBE:Q,numberToBytesLE:X,numberToHexUnpadded:F,numberToVarBytesBE:function(t){return Y(F(t))},utf8ToBytes:function(t){if("string"!=typeof t)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(t))},validateObject:lt},Symbol.toStringTag,{value:"Module"})),vt=BigInt(0),yt=BigInt(1),pt=BigInt(2),gt=BigInt(3),wt=BigInt(4),mt=BigInt(5),bt=BigInt(8);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Et(t,r){var e=t%r;return e>=vt?e:r+e}function Bt(t,r,e){if(r<vt)throw new Error("invalid exponent, negatives unsupported");if(e<=vt)throw new Error("invalid modulus");if(e===yt)return vt;for(var n=yt;r>vt;)r&yt&&(n=n*t%e),t=t*t%e,r>>=yt;return n}function xt(t,r,e){for(var n=t;r-- >vt;)n*=n,n%=e;return n}function St(t,r){if(t===vt)throw new Error("invert: expected non-zero number");if(r<=vt)throw new Error("invert: expected positive modulus, got "+r);for(var e=Et(t,r),n=r,i=vt,o=yt;e!==vt;){var u=n%e,a=i-o*(n/e);n=e,e=u,i=o,o=a}if(n!==yt)throw new Error("invert: does not exist");return Et(i,r)}function Ot(t){if(t%wt===gt){var r=(t+yt)/wt;return function(t,e){var n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}}if(t%bt===mt){var e=(t-mt)/bt;return function(t,r){var n=t.mul(r,pt),i=t.pow(n,e),o=t.mul(r,i),u=t.mul(t.mul(o,pt),i),a=t.mul(o,t.sub(u,t.ONE));if(!t.eql(t.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(t){var r,e,n,i=(t-yt)/pt;for(r=t-yt,e=0;r%pt===vt;r/=pt,e++);for(n=pt;n<t&&Bt(n,i,t)!==t-yt;n++)if(n>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===e){var o=(t+yt)/wt;return function(t,r){var e=t.pow(r,o);if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root");return e}}var u=(r+yt)/pt;return function(t,o){if(t.pow(o,i)===t.neg(t.ONE))throw new Error("Cannot find square root");for(var a=e,f=t.pow(t.mul(t.ONE,n),r),s=t.pow(o,u),c=t.pow(o,r);!t.eql(c,t.ONE);){if(t.eql(c,t.ZERO))return t.ZERO;for(var l=1,h=t.sqr(c);l<a&&!t.eql(h,t.ONE);l++)h=t.sqr(h);var d=t.pow(f,yt<<BigInt(a-l-1));f=t.sqr(d),s=t.mul(s,d),c=t.mul(c,f),a=l}return s}}(t)}var At=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function kt(t,r){var e=void 0!==r?r:t.toString(2).length;return{nBitLength:e,nByteLength:Math.ceil(e/8)}}function It(t,r){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t<=vt)throw new Error("invalid field: expected ORDER > 0, got "+t);var i,u=kt(t,r),a=u.nBitLength,f=u.nByteLength;if(f>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");var s=Object.freeze({ORDER:t,isLE:e,BITS:a,BYTES:f,MASK:ut(a),ZERO:vt,ONE:yt,create:function(r){return Et(r,t)},isValid:function(r){if("bigint"!=typeof r)throw new Error("invalid field element: expected bigint, got "+o(r));return vt<=r&&r<t},is0:function(t){return t===vt},isOdd:function(t){return(t&yt)===yt},neg:function(r){return Et(-r,t)},eql:function(t,r){return t===r},sqr:function(r){return Et(r*r,t)},add:function(r,e){return Et(r+e,t)},sub:function(r,e){return Et(r-e,t)},mul:function(r,e){return Et(r*e,t)},pow:function(t,r){return function(t,r,e){if(e<vt)throw new Error("invalid exponent, negatives unsupported");if(e===vt)return t.ONE;if(e===yt)return r;for(var n=t.ONE,i=r;e>vt;)e&yt&&(n=t.mul(n,i)),i=t.sqr(i),e>>=yt;return n}(s,t,r)},div:function(r,e){return Et(r*St(e,t),t)},sqrN:function(t){return t*t},addN:function(t,r){return t+r},subN:function(t,r){return t-r},mulN:function(t,r){return t*r},inv:function(r){return St(r,t)},sqrt:n.sqrt||function(r){return i||(i=Ot(t)),i(s,r)},invertBatch:function(t){return function(t,r){var e=new Array(r.length),n=r.reduce(function(r,n,i){return t.is0(n)?r:(e[i]=r,t.mul(r,n))},t.ONE),i=t.inv(n);return r.reduceRight(function(r,n,i){return t.is0(n)?r:(e[i]=t.mul(r,e[i]),t.mul(r,n))},i),e}(s,t)},cmov:function(t,r,e){return e?r:t},toBytes:function(t){return e?X(t,f):Q(t,f)},fromBytes:function(t){if(t.length!==f)throw new Error("Field.fromBytes: expected "+f+" bytes, got "+t.length);return e?J(t):$(t)}});return Object.freeze(s)}function Rt(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");var r=t.toString(2).length;return Math.ceil(r/8)}function jt(t){var r=Rt(t);return r+Math.ceil(r/2)}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */var qt=BigInt(0),Nt=BigInt(1);function Pt(t,r){var e=r.negate();return t?e:r}function Lt(t,r){if(!Number.isSafeInteger(t)||t<=0||t>r)throw new Error("invalid window size, expected [1.."+r+"], got W="+t)}function Ht(t,r){return Lt(t,r),{windows:Math.ceil(r/t)+1,windowSize:Math.pow(2,t-1)}}var Tt=new WeakMap,Ut=new WeakMap;function zt(t){return Ut.get(t)||1}function Ct(t,r,e,n){if(function(t,r){if(!Array.isArray(t))throw new Error("array expected");t.forEach(function(t,e){if(!(t instanceof r))throw new Error("invalid point at index "+e)})}(e,t),function(t,r){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach(function(t,e){if(!r.isValid(t))throw new Error("invalid scalar at index "+e)})}(n,r),e.length!==n.length)throw new Error("arrays of points and scalars must have equal length");for(var i=t.ZERO,o=ot(BigInt(e.length)),u=o>12?o-3:o>4?o-2:o?2:1,a=(1<<u)-1,f=new Array(a+1).fill(i),s=i,c=Math.floor((r.BITS-1)/u)*u;c>=0;c-=u){f.fill(i);for(var l=0;l<n.length;l++){var h=n[l],d=Number(h>>BigInt(c)&BigInt(a));f[d]=f[d].add(e[l])}for(var v=i,y=f.length-1,p=i;y>0;y--)p=p.add(f[y]),v=v.add(p);if(s=s.add(v),0!==c)for(var g=0;g<u;g++)s=s.double()}return s}function Ft(t){return lt(t.Fp,At.reduce(function(t,r){return t[r]="function",t},{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),lt(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(e(e(e({},kt(t.n,t.nBitLength)),t),{p:t.Fp.ORDER}))}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Zt(t){void 0!==t.lowS&&U("lowS",t.lowS),void 0!==t.prehash&&U("prehash",t.prehash)}var _t=dt.bytesToNumberBE,Dt=dt.hexToBytes,Mt=function(t){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s(this,r),d(this,r,[t])}return p(r,t),l(r)}(t(Error)),Vt={Err:Mt,_tlv:{encode:function(t,r){var e=Vt.Err;if(t<0||t>256)throw new e("tlv.encode: wrong tag");if(1&r.length)throw new e("tlv.encode: unpadded data");var n=r.length/2,i=F(n);if(i.length/2&128)throw new e("tlv.encode: long form length too big");var o=n>127?F(i.length/2|128):"";return F(t)+o+i+r},decode:function(t,r){var e=Vt.Err,n=0;if(t<0||t>256)throw new e("tlv.encode: wrong tag");if(r.length<2||r[n++]!==t)throw new e("tlv.decode: wrong tlv");var i=r[n++],o=0;if(!!(128&i)){var u=127&i;if(!u)throw new e("tlv.decode(long): indefinite length not supported");if(u>4)throw new e("tlv.decode(long): byte length is too big");var f=r.subarray(n,n+u);if(f.length!==u)throw new e("tlv.decode: length bytes not complete");if(0===f[0])throw new e("tlv.decode(long): zero leftmost byte");var s,c=function(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=a(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,f=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){f=!0,o=t},f:function(){try{u||null==e.return||e.return()}finally{if(f)throw o}}}}(f);try{for(c.s();!(s=c.n()).done;){o=o<<8|s.value}}catch(h){c.e(h)}finally{c.f()}if(n+=u,o<128)throw new e("tlv.decode(long): not minimal encoding")}else o=i;var l=r.subarray(n,n+o);if(l.length!==o)throw new e("tlv.decode: wrong value length");return{v:l,l:r.subarray(n+o)}}},_int:{encode:function(t){var r=Vt.Err;if(t<Kt)throw new r("integer: negative integers are not allowed");var e=F(t);if(8&Number.parseInt(e[0],16)&&(e="00"+e),1&e.length)throw new r("unexpected DER parsing assertion: unpadded hex");return e},decode:function(t){var r=Vt.Err;if(128&t[0])throw new r("invalid signature integer: negative");if(0===t[0]&&!(128&t[1]))throw new r("invalid signature integer: unnecessary leading zero");return _t(t)}},toSig:function(t){var r=Vt.Err,e=Vt._int,n=Vt._tlv,i="string"==typeof t?Dt(t):t;T(i);var o=n.decode(48,i),u=o.v;if(o.l.length)throw new r("invalid signature: left bytes after parsing");var a=n.decode(2,u),f=a.v,s=a.l,c=n.decode(2,s),l=c.v;if(c.l.length)throw new r("invalid signature: left bytes after parsing");return{r:e.decode(f),s:e.decode(l)}},hexFromSig:function(t){var r=Vt._tlv,e=Vt._int,n=r.encode(2,e.encode(t.r))+r.encode(2,e.encode(t.s));return r.encode(48,n)}},Kt=BigInt(0),Gt=BigInt(1);BigInt(2);var Wt=BigInt(3);function Yt(t){var r=function(t){var r=Ft(t);lt(r,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});var n=r.endo,i=r.Fp,u=r.a;if(n){if(!i.eql(u,i.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!==o(n)||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze(e({},r))}(t),n=r.Fp,i=It(r.n,r.nBitLength),u=r.toBytes||function(t,r,e){var i=r.toAffine();return rt(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))},a=r.fromBytes||function(t){var r=t.subarray(1);return{x:n.fromBytes(r.subarray(0,n.BYTES)),y:n.fromBytes(r.subarray(n.BYTES,2*n.BYTES))}};function f(t){var e=r.a,i=r.b,o=n.sqr(t),u=n.mul(o,t);return n.add(n.add(u,n.mul(t,e)),i)}if(!n.eql(n.sqr(r.Gy),f(r.Gx)))throw new Error("bad generator point: equation left != right");function c(t){var e,n=r.allowedPrivateKeyLengths,i=r.nByteLength,u=r.wrapPrivateKey,a=r.n;if(n&&"bigint"!=typeof t){if(H(t)&&(t=C(t)),"string"!=typeof t||!n.includes(t.length))throw new Error("invalid private key");t=t.padStart(2*i,"0")}try{e="bigint"==typeof t?t:$(tt("private key",t,i))}catch(f){throw new Error("invalid private key, expected hex or "+i+" bytes, got "+o(t))}return u&&(e=Et(e,a)),it("private key",e,Gt,a),e}function h(t){if(!(t instanceof y))throw new Error("ProjectivePoint expected")}var d=ht(function(t,r){var e=t.px,i=t.py,o=t.pz;if(n.eql(o,n.ONE))return{x:e,y:i};var u=t.is0();null==r&&(r=u?n.ONE:n.inv(o));var a=n.mul(e,r),f=n.mul(i,r),s=n.mul(o,r);if(u)return{x:n.ZERO,y:n.ZERO};if(!n.eql(s,n.ONE))throw new Error("invZ was invalid");return{x:a,y:f}}),v=ht(function(t){if(t.is0()){if(r.allowInfinityPoint&&!n.is0(t.py))return;throw new Error("bad point: ZERO")}var e=t.toAffine(),i=e.x,o=e.y;if(!n.isValid(i)||!n.isValid(o))throw new Error("bad point: x or y not FE");var u=n.sqr(o),a=f(i);if(!n.eql(u,a))throw new Error("bad point: equation left != right");if(!t.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}),y=function(){function t(r,e,i){if(s(this,t),this.px=r,this.py=e,this.pz=i,null==r||!n.isValid(r))throw new Error("x required");if(null==e||!n.isValid(e))throw new Error("y required");if(null==i||!n.isValid(i))throw new Error("z required");Object.freeze(this)}return l(t,[{key:"x",get:function(){return this.toAffine().x}},{key:"y",get:function(){return this.toAffine().y}},{key:"_setWindowSize",value:function(t){m.setWindowSize(this,t)}},{key:"assertValidity",value:function(){v(this)}},{key:"hasEvenY",value:function(){var t=this.toAffine().y;if(n.isOdd)return!n.isOdd(t);throw new Error("Field doesn't support isOdd")}},{key:"equals",value:function(t){h(t);var r=this.px,e=this.py,i=this.pz,o=t.px,u=t.py,a=t.pz,f=n.eql(n.mul(r,a),n.mul(o,i)),s=n.eql(n.mul(e,a),n.mul(u,i));return f&&s}},{key:"negate",value:function(){return new t(this.px,n.neg(this.py),this.pz)}},{key:"double",value:function(){var e=r.a,i=r.b,o=n.mul(i,Wt),u=this.px,a=this.py,f=this.pz,s=n.ZERO,c=n.ZERO,l=n.ZERO,h=n.mul(u,u),d=n.mul(a,a),v=n.mul(f,f),y=n.mul(u,a);return y=n.add(y,y),l=n.mul(u,f),l=n.add(l,l),s=n.mul(e,l),c=n.mul(o,v),c=n.add(s,c),s=n.sub(d,c),c=n.add(d,c),c=n.mul(s,c),s=n.mul(y,s),l=n.mul(o,l),v=n.mul(e,v),y=n.sub(h,v),y=n.mul(e,y),y=n.add(y,l),l=n.add(h,h),h=n.add(l,h),h=n.add(h,v),h=n.mul(h,y),c=n.add(c,h),v=n.mul(a,f),v=n.add(v,v),h=n.mul(v,y),s=n.sub(s,h),l=n.mul(v,d),l=n.add(l,l),new t(s,c,l=n.add(l,l))}},{key:"add",value:function(e){h(e);var i=this.px,o=this.py,u=this.pz,a=e.px,f=e.py,s=e.pz,c=n.ZERO,l=n.ZERO,d=n.ZERO,v=r.a,y=n.mul(r.b,Wt),p=n.mul(i,a),g=n.mul(o,f),w=n.mul(u,s),m=n.add(i,o),b=n.add(a,f);m=n.mul(m,b),b=n.add(p,g),m=n.sub(m,b),b=n.add(i,u);var E=n.add(a,s);return b=n.mul(b,E),E=n.add(p,w),b=n.sub(b,E),E=n.add(o,u),c=n.add(f,s),E=n.mul(E,c),c=n.add(g,w),E=n.sub(E,c),d=n.mul(v,b),c=n.mul(y,w),d=n.add(c,d),c=n.sub(g,d),d=n.add(g,d),l=n.mul(c,d),g=n.add(p,p),g=n.add(g,p),w=n.mul(v,w),b=n.mul(y,b),g=n.add(g,w),w=n.sub(p,w),w=n.mul(v,w),b=n.add(b,w),p=n.mul(g,b),l=n.add(l,p),p=n.mul(E,b),c=n.mul(m,c),c=n.sub(c,p),p=n.mul(m,g),d=n.mul(E,d),new t(c,l,d=n.add(d,p))}},{key:"subtract",value:function(t){return this.add(t.negate())}},{key:"is0",value:function(){return this.equals(t.ZERO)}},{key:"wNAF",value:function(r){return m.wNAFCached(this,r,t.normalizeZ)}},{key:"multiplyUnsafe",value:function(e){var i=r.endo,o=r.n;it("scalar",e,Kt,o);var u=t.ZERO;if(e===Kt)return u;if(this.is0()||e===Gt)return this;if(!i||m.hasPrecomputes(this))return m.wNAFCachedUnsafe(this,e,t.normalizeZ);for(var a=i.splitScalar(e),f=a.k1neg,s=a.k1,c=a.k2neg,l=a.k2,h=u,d=u,v=this;s>Kt||l>Kt;)s&Gt&&(h=h.add(v)),l&Gt&&(d=d.add(v)),v=v.double(),s>>=Gt,l>>=Gt;return f&&(h=h.negate()),c&&(d=d.negate()),d=new t(n.mul(d.px,i.beta),d.py,d.pz),h.add(d)}},{key:"multiply",value:function(e){var i,o,u=r.endo,a=r.n;if(it("scalar",e,Gt,a),u){var f=u.splitScalar(e),s=f.k1neg,c=f.k1,l=f.k2neg,h=f.k2,d=this.wNAF(c),v=d.p,y=d.f,p=this.wNAF(h),g=p.p,w=p.f;v=m.constTimeNegate(s,v),g=m.constTimeNegate(l,g),g=new t(n.mul(g.px,u.beta),g.py,g.pz),i=v.add(g),o=y.add(w)}else{var b=this.wNAF(e);i=b.p,o=b.f}return t.normalizeZ([i,o])[0]}},{key:"multiplyAndAddUnsafe",value:function(r,e,n){var i=t.BASE,o=function(t,r){return r!==Kt&&r!==Gt&&t.equals(i)?t.multiply(r):t.multiplyUnsafe(r)},u=o(this,e).add(o(r,n));return u.is0()?void 0:u}},{key:"toAffine",value:function(t){return d(this,t)}},{key:"isTorsionFree",value:function(){var e=r.h,n=r.isTorsionFree;if(e===Gt)return!0;if(n)return n(t,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}},{key:"clearCofactor",value:function(){var e=r.h,n=r.clearCofactor;return e===Gt?this:n?n(t,this):this.multiplyUnsafe(r.h)}},{key:"toRawBytes",value:function(){var r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return U("isCompressed",r),this.assertValidity(),u(t,this,r)}},{key:"toHex",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return U("isCompressed",t),C(this.toRawBytes(t))}}],[{key:"fromAffine",value:function(r){var e=r||{},i=e.x,o=e.y;if(!r||!n.isValid(i)||!n.isValid(o))throw new Error("invalid affine point");if(r instanceof t)throw new Error("projective point not allowed");var u=function(t){return n.eql(t,n.ZERO)};return u(i)&&u(o)?t.ZERO:new t(i,o,n.ONE)}},{key:"normalizeZ",value:function(r){var e=n.invertBatch(r.map(function(t){return t.pz}));return r.map(function(t,r){return t.toAffine(e[r])}).map(t.fromAffine)}},{key:"fromHex",value:function(r){var e=t.fromAffine(a(tt("pointHex",r)));return e.assertValidity(),e}},{key:"fromPrivateKey",value:function(r){return t.BASE.multiply(c(r))}},{key:"msm",value:function(r,e){return Ct(t,i,r,e)}}])}();y.BASE=new y(r.Gx,r.Gy,n.ONE),y.ZERO=new y(n.ZERO,n.ONE,n.ZERO);var p,g,w=r.nBitLength,m=(p=y,g=r.endo?Math.ceil(w/2):w,{constTimeNegate:Pt,hasPrecomputes:function(t){return 1!==zt(t)},unsafeLadder:function(t,r){for(var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.ZERO,n=t;r>qt;)r&Nt&&(e=e.add(n)),n=n.double(),r>>=Nt;return e},precomputeWindow:function(t,r){for(var e=Ht(r,g),n=e.windows,i=e.windowSize,o=[],u=t,a=u,f=0;f<n;f++){a=u,o.push(a);for(var s=1;s<i;s++)a=a.add(u),o.push(a);u=a.double()}return o},wNAF:function(t,r,e){for(var n=Ht(t,g),i=n.windows,o=n.windowSize,u=p.ZERO,a=p.BASE,f=BigInt(Math.pow(2,t)-1),s=Math.pow(2,t),c=BigInt(t),l=0;l<i;l++){var h=l*o,d=Number(e&f);e>>=c,d>o&&(d-=s,e+=Nt);var v=h,y=h+Math.abs(d)-1,w=l%2!=0,m=d<0;0===d?a=a.add(Pt(w,r[v])):u=u.add(Pt(m,r[y]))}return{p:u,f:a}},wNAFUnsafe:function(t,r,e){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p.ZERO,i=Ht(t,g),o=i.windows,u=i.windowSize,a=BigInt(Math.pow(2,t)-1),f=Math.pow(2,t),s=BigInt(t),c=0;c<o;c++){var l=c*u;if(e===qt)break;var h=Number(e&a);if(e>>=s,h>u&&(h-=f,e+=Nt),0!==h){var d=r[l+Math.abs(h)-1];h<0&&(d=d.negate()),n=n.add(d)}}return n},getPrecomputes:function(t,r,e){var n=Tt.get(r);return n||(n=this.precomputeWindow(r,t),1!==t&&Tt.set(r,e(n))),n},wNAFCached:function(t,r,e){var n=zt(t);return this.wNAF(n,this.getPrecomputes(n,t,e),r)},wNAFCachedUnsafe:function(t,r,e,n){var i=zt(t);return 1===i?this.unsafeLadder(t,r,n):this.wNAFUnsafe(i,this.getPrecomputes(i,t,e),r,n)},setWindowSize:function(t,r){Lt(r,g),Ut.set(t,r),Tt.delete(t)}});return{CURVE:r,ProjectivePoint:y,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:function(t){return nt(t,Gt,r.n)}}}function $t(t){var r,n=(lt(r=Ft(t),{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(e({lowS:!0},r))),i=n.Fp,u=n.n,a=i.BYTES+1,f=2*i.BYTES+1;function c(t){return Et(t,u)}function h(t){return St(t,u)}var d=Yt(e(e({},n),{},{toBytes:function(t,r,e){var n=r.toAffine(),o=i.toBytes(n.x),u=rt;return U("isCompressed",e),e?u(Uint8Array.from([r.hasEvenY()?2:3]),o):u(Uint8Array.from([4]),o,i.toBytes(n.y))},fromBytes:function(t){var r=t.length,e=t[0],n=t.subarray(1);if(r!==a||2!==e&&3!==e){if(r===f&&4===e)return{x:i.fromBytes(n.subarray(0,i.BYTES)),y:i.fromBytes(n.subarray(i.BYTES,2*i.BYTES))};throw new Error("invalid Point, expected length of "+a+", or uncompressed "+f+", got "+r)}var o=$(n);if(!nt(o,Gt,i.ORDER))throw new Error("Point is not on curve");var u,s=p(o);try{u=i.sqrt(s)}catch(l){var c=l instanceof Error?": "+l.message:"";throw new Error("Point is not on curve"+c)}return!(1&~e)!==((u&Gt)===Gt)&&(u=i.neg(u)),{x:o,y:u}}})),v=d.ProjectivePoint,y=d.normPrivateKeyToScalar,p=d.weierstrassEquation,g=d.isWithinCurveOrder,w=function(t){return C(Q(t,n.nByteLength))};function m(t){return t>u>>Gt}var b=function(t,r,e){return $(t.slice(r,e))},E=function(){function t(r,e,n){s(this,t),this.r=r,this.s=e,this.recovery=n,this.assertValidity()}return l(t,[{key:"assertValidity",value:function(){it("r",this.r,Gt,u),it("s",this.s,Gt,u)}},{key:"addRecoveryBit",value:function(r){return new t(this.r,this.s,r)}},{key:"recoverPublicKey",value:function(t){var r=this.r,e=this.s,o=this.recovery,u=O(tt("msgHash",t));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");var a=2===o||3===o?r+n.n:r;if(a>=i.ORDER)throw new Error("recovery id 2 or 3 invalid");var f=1&o?"03":"02",s=v.fromHex(f+w(a)),l=h(a),d=c(-u*l),y=c(e*l),p=v.BASE.multiplyAndAddUnsafe(s,d,y);if(!p)throw new Error("point at infinify");return p.assertValidity(),p}},{key:"hasHighS",value:function(){return m(this.s)}},{key:"normalizeS",value:function(){return this.hasHighS()?new t(this.r,c(-this.s),this.recovery):this}},{key:"toDERRawBytes",value:function(){return Y(this.toDERHex())}},{key:"toDERHex",value:function(){return Vt.hexFromSig({r:this.r,s:this.s})}},{key:"toCompactRawBytes",value:function(){return Y(this.toCompactHex())}},{key:"toCompactHex",value:function(){return w(this.r)+w(this.s)}}],[{key:"fromCompact",value:function(r){var e=n.nByteLength;return r=tt("compactSignature",r,2*e),new t(b(r,0,e),b(r,e,2*e))}},{key:"fromDER",value:function(r){var e=Vt.toSig(tt("DER",r));return new t(e.r,e.s)}}])}(),B={isValidPrivateKey:function(t){try{return y(t),!0}catch(r){return!1}},normPrivateKeyToScalar:y,randomPrivateKey:function(){var t=jt(n.n);return function(t,r){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.length,i=Rt(r),o=jt(r);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);var u=Et(e?J(t):$(t),r-yt)+yt;return e?X(u,i):Q(u,i)}(n.randomBytes(t),n.n)},precompute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.BASE;return r._setWindowSize(t),r.multiply(BigInt(3)),r}};function x(t){var r=H(t),e="string"==typeof t,n=(r||e)&&t.length;return r?n===a||n===f:e?n===2*a||n===2*f:t instanceof v}var S=n.bits2int||function(t){if(t.length>8192)throw new Error("input is too large");var r=$(t),e=8*t.length-n.nBitLength;return e>0?r>>BigInt(e):r},O=n.bits2int_modN||function(t){return c(S(t))},A=ut(n.nBitLength);function k(t){return it("num < 2^"+n.nBitLength,t,Kt,A),Q(t,n.nByteLength)}function I(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R;if(["recovered","canonical"].some(function(t){return t in e}))throw new Error("sign() legacy options not supported");var o=n.hash,u=n.randomBytes,a=e.lowS,f=e.prehash,s=e.extraEntropy;null==a&&(a=!0),t=tt("msgHash",t),Zt(e),f&&(t=tt("prehashed msgHash",o(t)));var l=O(t),d=y(r),p=[k(d),k(l)];if(null!=s&&!1!==s){var w=!0===s?u(i.BYTES):s;p.push(tt("extraEntropy",w))}var b=rt.apply(void 0,p),B=l;return{seed:b,k2sig:function(t){var r=S(t);if(g(r)){var e=h(r),n=v.BASE.multiply(r).toAffine(),i=c(n.x);if(i!==Kt){var o=c(e*c(B+i*d));if(o!==Kt){var u=(n.x===i?0:2)|Number(n.y&Gt),f=o;return a&&m(o)&&(f=function(t){return m(t)?c(-t):t}(o),u^=1),new E(i,f,u)}}}}}}var R={lowS:n.lowS,prehash:!1},j={lowS:n.lowS,prehash:!1};return v.BASE._setWindowSize(8),{CURVE:n,getPublicKey:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return v.fromPrivateKey(t).toRawBytes(r)},getSharedSecret:function(t,r){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(x(t))throw new Error("first arg must be private key");if(!x(r))throw new Error("second arg must be public key");return v.fromHex(r).multiply(y(t)).toRawBytes(e)},sign:function(t,r){var e=I(t,r,arguments.length>2&&void 0!==arguments[2]?arguments[2]:R),i=e.seed,o=e.k2sig,u=n;return st(u.hash.outputLen,u.nByteLength,u.hmac)(i,o)},verify:function(t,r,e){var i,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j,a=t;r=tt("msgHash",r),e=tt("publicKey",e);var f=u.lowS,s=u.prehash,l=u.format;if(Zt(u),"strict"in u)throw new Error("options.strict was renamed to lowS");if(void 0!==l&&"compact"!==l&&"der"!==l)throw new Error("format must be compact or der");var d="string"==typeof a||H(a),y=!d&&!l&&"object"===o(a)&&null!==a&&"bigint"==typeof a.r&&"bigint"==typeof a.s;if(!d&&!y)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");var p,g=void 0;try{if(y&&(g=new E(a.r,a.s)),d){try{"compact"!==l&&(g=E.fromDER(a))}catch(I){if(!(I instanceof Vt.Err))throw I}g||"der"===l||(g=E.fromCompact(a))}p=v.fromHex(e)}catch(R){return!1}if(!g)return!1;if(f&&g.hasHighS())return!1;s&&(r=n.hash(r));var w=g,m=w.r,b=w.s,B=O(r),x=h(b),S=c(B*x),A=c(m*x),k=null===(i=v.BASE.multiplyAndAddUnsafe(p,S,A))||void 0===i?void 0:i.toAffine();return!!k&&c(k.x)===m},ProjectivePoint:v,Signature:E,utils:B}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(4);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */var Jt=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Qt=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Xt=BigInt(1),tr=BigInt(2),rr=function(t,r){return(t+r/tr)/r};var er,nr,ir=It(Jt,void 0,void 0,{sqrt:function(t){var r=Jt,e=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),u=BigInt(23),a=BigInt(44),f=BigInt(88),s=t*t*t%r,c=s*s*t%r,l=xt(c,e,r)*c%r,h=xt(l,e,r)*c%r,d=xt(h,tr,r)*s%r,v=xt(d,i,r)*d%r,y=xt(v,o,r)*v%r,p=xt(y,a,r)*y%r,g=xt(p,f,r)*p%r,w=xt(g,a,r)*y%r,m=xt(w,e,r)*c%r,b=xt(m,u,r)*v%r,E=xt(b,n,r)*s%r,B=xt(E,tr,r);if(!ir.eql(ir.sqr(B),t))throw new Error("Cannot find square root");return B}}),or=r("secp256k1",(er={a:BigInt(0),b:BigInt(7),Fp:ir,n:Qt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:function(t){var r=Qt,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Xt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=e,u=BigInt("0x100000000000000000000000000000000"),a=rr(o*t,r),f=rr(-n*t,r),s=Et(t-a*e-f*i,r),c=Et(-a*n-f*o,r),l=s>u,h=c>u;if(l&&(s=r-s),h&&(c=r-c),s>u||c>u)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:l,k1:s,k2neg:h,k2:c}}}},nr=function(t){return $t(e(e({},er),function(t){return{hash:t,hmac:function(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return q(t,r,B.apply(void 0,n))},randomBytes:E}}(t)))},e(e({},nr(R)),{},{create:nr})));BigInt(0),or.ProjectivePoint}}})}();
