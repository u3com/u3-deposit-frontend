var oe=Object.freeze,ii=Object.defineProperty;var a=(s,e)=>oe(ii(s,"raw",{value:oe(e||s.slice())}));import{i as oi,p as ai,s as ni,j as ri,M as b,S as Yt,R as d,k as f,l as _,m as g,x as n,A as M,n as Gt,o as qt,C as h,q as G,u as si,v as W,E as ae,O as I,y as F,z as ne,B as O,D as K,T as ci,F as li,G as di,I as wi}from"./core-DGJ1optA.js";import{c as p,n as u,r as w,o as J,U as ui}from"./index-C0fga7iO.js";import"./index-Chhk3E_p.js";import"./index.es-Cvyqsd2r.js";import"./events-DQ172AOg.js";import"./index-nibyPLVP.js";const m=ai({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),pi={state:m,subscribe(s){return ri(m,()=>s(m))},subscribeKey(s,e){return ni(m,s,e)},showTooltip({message:s,triggerRect:e,variant:t}){m.open=!0,m.message=s,m.triggerRect=e,m.variant=t},hide(){m.open=!1,m.message="",m.triggerRect={width:0,height:0,top:0,left:0}}},E=oi(pi),Ft={isUnsupportedChainView(){return d.state.view==="UnsupportedChain"||d.state.view==="SwitchNetwork"&&d.state.history.includes("UnsupportedChain")},async safeClose(){if(this.isUnsupportedChainView()){b.shake();return}if(await Yt.isSIWXCloseDisabled()){b.shake();return}b.close()}};var le;const mi=f(le||(le=a(["\n  :host {\n    display: block;\n    border-radius: clamp(0px, var(--wui-border-radius-l), 44px);\n    box-shadow: 0 0 0 1px var(--wui-color-gray-glass-005);\n    background-color: var(--wui-color-modal-bg);\n    overflow: hidden;\n  }\n\n  :host([data-embedded='true']) {\n    box-shadow:\n      0 0 0 1px var(--wui-color-gray-glass-005),\n      0px 4px 12px 4px var(--w3m-card-embedded-shadow-color);\n  }\n"])));var hi=function(s,e,t,o){var r=arguments.length,i=r<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(s,e,t,o);else for(var l=s.length-1;l>=0;l--)(c=s[l])&&(i=(r<3?c(i):r>3?c(e,t,i):c(e,t))||i);return r>3&&i&&Object.defineProperty(e,t,i),i},de;let Q=class extends g{render(){return n(de||(de=a(["<slot></slot>"])))}};Q.styles=[_,mi];Q=hi([p("wui-card")],Q);var we;const vi=f(we||(we=a(["\n  :host {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: var(--wui-spacing-s);\n    border-radius: var(--wui-border-radius-s);\n    border: 1px solid var(--wui-color-dark-glass-100);\n    box-sizing: border-box;\n    background-color: var(--wui-color-bg-325);\n    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);\n  }\n\n  wui-flex {\n    width: 100%;\n  }\n\n  wui-text {\n    word-break: break-word;\n    flex: 1;\n  }\n\n  .close {\n    cursor: pointer;\n  }\n\n  .icon-box {\n    height: 40px;\n    width: 40px;\n    border-radius: var(--wui-border-radius-3xs);\n    background-color: var(--local-icon-bg-value);\n  }\n"])));var B=function(s,e,t,o){var r=arguments.length,i=r<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(s,e,t,o);else for(var l=s.length-1;l>=0;l--)(c=s[l])&&(i=(r<3?c(i):r>3?c(e,t,i):c(e,t))||i);return r>3&&i&&Object.defineProperty(e,t,i),i},ue;let R=class extends g{constructor(){super(...arguments),this.message="",this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="info"}render(){return this.style.cssText="\n      --local-icon-bg-value: var(--wui-color-".concat(this.backgroundColor,");\n   "),n(ue||(ue=a(['\n      <wui-flex flexDirection="row" justifyContent="space-between" alignItems="center">\n        <wui-flex columnGap="xs" flexDirection="row" alignItems="center">\n          <wui-flex\n            flexDirection="row"\n            alignItems="center"\n            justifyContent="center"\n            class="icon-box"\n          >\n            <wui-icon color=',' size="md" name=','></wui-icon>\n          </wui-flex>\n          <wui-text variant="small-500" color="bg-350" data-testid="wui-alertbar-text"\n            >','</wui-text\n          >\n        </wui-flex>\n        <wui-icon\n          class="close"\n          color="bg-350"\n          size="sm"\n          name="close"\n          @click=',"\n        ></wui-icon>\n      </wui-flex>\n    "])),this.iconColor,this.icon,this.message,this.onClose)}onClose(){M.close()}};R.styles=[_,vi];B([u()],R.prototype,"message",void 0);B([u()],R.prototype,"backgroundColor",void 0);B([u()],R.prototype,"iconColor",void 0);B([u()],R.prototype,"icon",void 0);R=B([p("wui-alertbar")],R);var pe;const fi=f(pe||(pe=a(["\n  :host {\n    display: block;\n    position: absolute;\n    top: var(--wui-spacing-s);\n    left: var(--wui-spacing-l);\n    right: var(--wui-spacing-l);\n    opacity: 0;\n    pointer-events: none;\n  }\n"])));var Jt=function(s,e,t,o){var r=arguments.length,i=r<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(s,e,t,o);else for(var l=s.length-1;l>=0;l--)(c=s[l])&&(i=(r<3?c(i):r>3?c(e,t,i):c(e,t))||i);return r>3&&i&&Object.defineProperty(e,t,i),i};const gi={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"exclamationTriangle"}};var me;let V=class extends g{constructor(){super(),this.unsubscribe=[],this.open=M.state.open,this.onOpen(!0),this.unsubscribe.push(M.subscribeKey("open",e=>{this.open=e,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:t}=M.state,o=gi[t];return n(me||(me=a(["\n      <wui-alertbar\n        message=","\n        backgroundColor=","\n        iconColor=","\n        icon=","\n      ></wui-alertbar>\n    "])),e,o==null?void 0:o.backgroundColor,o==null?void 0:o.iconColor,o==null?void 0:o.icon)}onOpen(e){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):e||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};V.styles=fi;Jt([w()],V.prototype,"open",void 0);V=Jt([p("w3m-alertbar")],V);var he;const bi=f(he||(he=a(["\n  button {\n    border-radius: var(--local-border-radius);\n    color: var(--wui-color-fg-100);\n    padding: var(--local-padding);\n  }\n\n  @media (max-width: 700px) {\n    button {\n      padding: var(--wui-spacing-s);\n    }\n  }\n\n  button > wui-icon {\n    pointer-events: none;\n  }\n\n  button:disabled > wui-icon {\n    color: var(--wui-color-bg-300) !important;\n  }\n\n  button:disabled {\n    background-color: transparent;\n  }\n"])));var D=function(s,e,t,o){var r=arguments.length,i=r<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(s,e,t,o);else for(var l=s.length-1;l>=0;l--)(c=s[l])&&(i=(r<3?c(i):r>3?c(e,t,i):c(e,t))||i);return r>3&&i&&Object.defineProperty(e,t,i),i},ve;let $=class extends g{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.icon="copy",this.iconColor="inherit"}render(){const e=this.size==="lg"?"--wui-border-radius-xs":"--wui-border-radius-xxs",t=this.size==="lg"?"--wui-spacing-1xs":"--wui-spacing-2xs";return this.style.cssText="\n    --local-border-radius: var(".concat(e,");\n    --local-padding: var(").concat(t,");\n"),n(ve||(ve=a(["\n      <button ?disabled=",">\n        <wui-icon color="," size="," name=","></wui-icon>\n      </button>\n    "])),this.disabled,this.iconColor,this.size,this.icon)}};$.styles=[_,Gt,qt,bi];D([u()],$.prototype,"size",void 0);D([u({type:Boolean})],$.prototype,"disabled",void 0);D([u()],$.prototype,"icon",void 0);D([u()],$.prototype,"iconColor",void 0);$=D([p("wui-icon-link")],$);var fe;const yi=f(fe||(fe=a(["\n  button {\n    display: block;\n    display: flex;\n    align-items: center;\n    padding: var(--wui-spacing-xxs);\n    gap: var(--wui-spacing-xxs);\n    transition: all var(--wui-ease-out-power-1) var(--wui-duration-md);\n    border-radius: var(--wui-border-radius-xxs);\n  }\n\n  wui-image {\n    border-radius: 100%;\n    width: var(--wui-spacing-xl);\n    height: var(--wui-spacing-xl);\n  }\n\n  wui-icon-box {\n    width: var(--wui-spacing-xl);\n    height: var(--wui-spacing-xl);\n  }\n\n  button:hover {\n    background-color: var(--wui-color-gray-glass-002);\n  }\n\n  button:active {\n    background-color: var(--wui-color-gray-glass-005);\n  }\n"])));var Qt=function(s,e,t,o){var r=arguments.length,i=r<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(s,e,t,o);else for(var l=s.length-1;l>=0;l--)(c=s[l])&&(i=(r<3?c(i):r>3?c(e,t,i):c(e,t))||i);return r>3&&i&&Object.defineProperty(e,t,i),i},ge,be,ye;let X=class extends g{constructor(){super(...arguments),this.imageSrc=""}render(){return n(ge||(ge=a(["<button>\n      ",'\n      <wui-icon size="xs" color="fg-200" name="chevronBottom"></wui-icon>\n    </button>'])),this.imageTemplate())}imageTemplate(){return this.imageSrc?n(be||(be=a(["<wui-image src=",' alt="select visual"></wui-image>'])),this.imageSrc):n(ye||(ye=a(['<wui-icon-box\n      size="xxs"\n      iconColor="fg-200"\n      backgroundColor="fg-100"\n      background="opaque"\n      icon="networkPlaceholder"\n    ></wui-icon-box>'])))}};X.styles=[_,Gt,qt,yi];Qt([u()],X.prototype,"imageSrc",void 0);X=Qt([p("wui-select")],X);var xe;const xi=f(xe||(xe=a(["\n  :host {\n    height: 64px;\n  }\n\n  wui-text {\n    text-transform: capitalize;\n  }\n\n  wui-flex.w3m-header-title {\n    transform: translateY(0);\n    opacity: 1;\n  }\n\n  wui-flex.w3m-header-title[view-direction='prev'] {\n    animation:\n      slide-down-out 120ms forwards var(--wui-ease-out-power-2),\n      slide-down-in 120ms forwards var(--wui-ease-out-power-2);\n    animation-delay: 0ms, 200ms;\n  }\n\n  wui-flex.w3m-header-title[view-direction='next'] {\n    animation:\n      slide-up-out 120ms forwards var(--wui-ease-out-power-2),\n      slide-up-in 120ms forwards var(--wui-ease-out-power-2);\n    animation-delay: 0ms, 200ms;\n  }\n\n  wui-icon-link[data-hidden='true'] {\n    opacity: 0 !important;\n    pointer-events: none;\n  }\n\n  @keyframes slide-up-out {\n    from {\n      transform: translateY(0px);\n      opacity: 1;\n    }\n    to {\n      transform: translateY(3px);\n      opacity: 0;\n    }\n  }\n\n  @keyframes slide-up-in {\n    from {\n      transform: translateY(-3px);\n      opacity: 0;\n    }\n    to {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n\n  @keyframes slide-down-out {\n    from {\n      transform: translateY(0px);\n      opacity: 1;\n    }\n    to {\n      transform: translateY(-3px);\n      opacity: 0;\n    }\n  }\n\n  @keyframes slide-down-in {\n    from {\n      transform: translateY(3px);\n      opacity: 0;\n    }\n    to {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n"])));var x=function(s,e,t,o){var r=arguments.length,i=r<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(s,e,t,o);else for(var l=s.length-1;l>=0;l--)(c=s[l])&&(i=(r<3?c(i):r>3?c(e,t,i):c(e,t))||i);return r>3&&i&&Object.defineProperty(e,t,i),i};const Ci=["SmartSessionList"];function q(){var c,l,N,S,L,U,z;const s=(l=(c=d.state.data)==null?void 0:c.connector)==null?void 0:l.name,e=(S=(N=d.state.data)==null?void 0:N.wallet)==null?void 0:S.name,t=(U=(L=d.state.data)==null?void 0:L.network)==null?void 0:U.name,o=e!=null?e:s,r=F.getConnectors(),i=r.length===1&&((z=r[0])==null?void 0:z.id)==="w3m-email";return{Connect:"Connect ".concat(i?"Email":""," Wallet"),Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",ConnectingExternal:o!=null?o:"Connect Wallet",ConnectingWalletConnect:o!=null?o:"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview convert",Downloads:o?"Get ".concat(o):"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Pay:"How you pay",Profile:void 0,SwitchNetwork:t!=null?t:"Switch Network",SwitchAddress:"Switch Address",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select token",SwapPreview:"Preview swap",WalletSend:"Send",WalletSendPreview:"Review send",WalletSendSelectToken:"Select Token",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a wallet?",ConnectWallets:"Connect wallet",ConnectSocials:"All socials",ConnectingSocial:ne.state.socialProvider?ne.state.socialProvider:"Connect Social",ConnectingMultiChain:"Select chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In",PayLoading:"Payment in progress"}}var Ce,ke,Se,We,Re,$e,Ae,Te;let v=class extends g{constructor(){super(),this.unsubscribe=[],this.heading=q()[d.state.view],this.network=h.state.activeCaipNetwork,this.networkImage=G.getNetworkImage(this.network),this.showBack=!1,this.prevHistoryLength=1,this.view=d.state.view,this.viewDirection="",this.headerText=q()[d.state.view],this.unsubscribe.push(si.subscribeNetworkImages(()=>{this.networkImage=G.getNetworkImage(this.network)}),d.subscribeKey("view",e=>{setTimeout(()=>{this.view=e,this.headerText=q()[e]},W.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),h.subscribeKey("activeCaipNetwork",e=>{this.network=e,this.networkImage=G.getNetworkImage(this.network)}))}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){return n(Ce||(Ce=a(["\n      <wui-flex .padding=",' justifyContent="space-between" alignItems="center">\n        '," "," ","\n      </wui-flex>\n    "])),this.getPadding(),this.leftHeaderTemplate(),this.titleTemplate(),this.rightHeaderTemplate())}onWalletHelp(){ae.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),d.push("WhatIsAWallet")}async onClose(){await Ft.safeClose()}rightHeaderTemplate(){var t,o,r;const e=(r=(o=(t=I)==null?void 0:t.state)==null?void 0:o.features)==null?void 0:r.smartSessions;return d.state.view!=="Account"||!e?this.closeButtonTemplate():n(ke||(ke=a(['<wui-flex>\n      <wui-icon-link\n        icon="clock"\n        @click=','\n        data-testid="w3m-header-smart-sessions"\n      ></wui-icon-link>\n      ',"\n    </wui-flex> "])),()=>d.push("SmartSessionList"),this.closeButtonTemplate())}closeButtonTemplate(){return n(Se||(Se=a(['\n      <wui-icon-link\n        icon="close"\n        @click=','\n        data-testid="w3m-header-close"\n      ></wui-icon-link>\n    '])),this.onClose.bind(this))}titleTemplate(){const e=Ci.includes(this.view);return n(Re||(Re=a(['\n      <wui-flex\n        view-direction="','"\n        class="w3m-header-title"\n        alignItems="center"\n        gap="xs"\n      >\n        <wui-text variant="paragraph-700" color="fg-100" data-testid="w3m-header-text"\n          >',"</wui-text\n        >\n        ","\n      </wui-flex>\n    "])),this.viewDirection,this.headerText,e?n(We||(We=a(['<wui-tag variant="main">Beta</wui-tag>']))):null)}leftHeaderTemplate(){var S;const{view:e}=d.state,t=e==="Connect",o=I.state.enableEmbedded,r=e==="ApproveTransaction",i=e==="ConnectingSiwe",c=e==="Account",l=I.state.enableNetworkSwitch,N=r||i||t&&o;return c&&l?n($e||($e=a(['<wui-select\n        id="dynamic"\n        data-testid="w3m-account-select-network"\n        active-network=',"\n        @click=","\n        imageSrc=","\n      ></wui-select>"])),J((S=this.network)==null?void 0:S.name),this.onNetworks.bind(this),J(this.networkImage)):this.showBack&&!N?n(Ae||(Ae=a(['<wui-icon-link\n        data-testid="header-back"\n        id="dynamic"\n        icon="chevronLeft"\n        @click=',"\n      ></wui-icon-link>"])),this.onGoBack.bind(this)):n(Te||(Te=a(["<wui-icon-link\n      data-hidden=",'\n      id="dynamic"\n      icon="helpCircle"\n      @click=',"\n    ></wui-icon-link>"])),!t,this.onWalletHelp.bind(this))}onNetworks(){this.isAllowedNetworkSwitch()&&(ae.sendEvent({type:"track",event:"CLICK_NETWORKS"}),d.push("Networks"))}isAllowedNetworkSwitch(){const e=h.getAllRequestedCaipNetworks(),t=e?e.length>1:!1,o=e==null?void 0:e.find(({id:r})=>{var i;return r===((i=this.network)==null?void 0:i.id)});return t||!o}getPadding(){return this.heading?["l","2l","l","2l"]:["0","2l","0","2l"]}onViewChange(){const{history:e}=d.state;let t=W.VIEW_DIRECTION.Next;e.length<this.prevHistoryLength&&(t=W.VIEW_DIRECTION.Prev),this.prevHistoryLength=e.length,this.viewDirection=t}async onHistoryChange(){var o;const{history:e}=d.state,t=(o=this.shadowRoot)==null?void 0:o.querySelector("#dynamic");e.length>1&&!this.showBack&&t?(await t.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,t.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):e.length<=1&&this.showBack&&t&&(await t.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,t.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){d.goBack()}};v.styles=xi;x([w()],v.prototype,"heading",void 0);x([w()],v.prototype,"network",void 0);x([w()],v.prototype,"networkImage",void 0);x([w()],v.prototype,"showBack",void 0);x([w()],v.prototype,"prevHistoryLength",void 0);x([w()],v.prototype,"view",void 0);x([w()],v.prototype,"viewDirection",void 0);x([w()],v.prototype,"headerText",void 0);v=x([p("w3m-header")],v);var Oe;const ki=f(Oe||(Oe=a(["\n  :host {\n    display: flex;\n    column-gap: var(--wui-spacing-s);\n    align-items: center;\n    padding: var(--wui-spacing-xs) var(--wui-spacing-m) var(--wui-spacing-xs) var(--wui-spacing-xs);\n    border-radius: var(--wui-border-radius-s);\n    border: 1px solid var(--wui-color-gray-glass-005);\n    box-sizing: border-box;\n    background-color: var(--wui-color-bg-175);\n    box-shadow:\n      0px 14px 64px -4px rgba(0, 0, 0, 0.15),\n      0px 8px 22px -6px rgba(0, 0, 0, 0.15);\n\n    max-width: 300px;\n  }\n\n  :host wui-loading-spinner {\n    margin-left: var(--wui-spacing-3xs);\n  }\n"])));var T=function(s,e,t,o){var r=arguments.length,i=r<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(s,e,t,o);else for(var l=s.length-1;l>=0;l--)(c=s[l])&&(i=(r<3?c(i):r>3?c(e,t,i):c(e,t))||i);return r>3&&i&&Object.defineProperty(e,t,i),i},Ee,Ne,Ie,Pe;let y=class extends g{constructor(){super(...arguments),this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="checkmark",this.message="",this.loading=!1,this.iconType="default"}render(){return n(Ee||(Ee=a(["\n      ",'\n      <wui-text variant="paragraph-500" color="fg-100" data-testid="wui-snackbar-message"\n        >',"</wui-text\n      >\n    "])),this.templateIcon(),this.message)}templateIcon(){return this.loading?n(Ne||(Ne=a(['<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>']))):this.iconType==="default"?n(Ie||(Ie=a(['<wui-icon size="xl" color='," name=","></wui-icon>"])),this.iconColor,this.icon):n(Pe||(Pe=a(['<wui-icon-box\n      size="sm"\n      iconSize="xs"\n      iconColor=',"\n      backgroundColor=","\n      icon=",'\n      background="opaque"\n    ></wui-icon-box>'])),this.iconColor,this.backgroundColor,this.icon)}};y.styles=[_,ki];T([u()],y.prototype,"backgroundColor",void 0);T([u()],y.prototype,"iconColor",void 0);T([u()],y.prototype,"icon",void 0);T([u()],y.prototype,"message",void 0);T([u()],y.prototype,"loading",void 0);T([u()],y.prototype,"iconType",void 0);y=T([p("wui-snackbar")],y);var _e;const Si=f(_e||(_e=a(["\n  :host {\n    display: block;\n    position: absolute;\n    opacity: 0;\n    pointer-events: none;\n    top: 11px;\n    left: 50%;\n    width: max-content;\n  }\n"])));var Zt=function(s,e,t,o){var r=arguments.length,i=r<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(s,e,t,o);else for(var l=s.length-1;l>=0;l--)(c=s[l])&&(i=(r<3?c(i):r>3?c(e,t,i):c(e,t))||i);return r>3&&i&&Object.defineProperty(e,t,i),i};const Wi={loading:void 0,success:{backgroundColor:"success-100",iconColor:"success-100",icon:"checkmark"},error:{backgroundColor:"error-100",iconColor:"error-100",icon:"close"}};var Be;let Y=class extends g{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=O.state.open,this.unsubscribe.push(O.subscribeKey("open",e=>{this.open=e,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(e=>e())}render(){var l;const{message:e,variant:t,svg:o}=O.state,r=Wi[t],{icon:i,iconColor:c}=(l=o!=null?o:r)!=null?l:{};return n(Be||(Be=a(["\n      <wui-snackbar\n        message=","\n        backgroundColor=","\n        iconColor=","\n        icon=","\n        .loading=","\n      ></wui-snackbar>\n    "])),e,r==null?void 0:r.backgroundColor,c,i,t==="loading")}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),O.state.autoClose&&(this.timeout=setTimeout(()=>O.hide(),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};Y.styles=Si;Zt([w()],Y.prototype,"open",void 0);Y=Zt([p("w3m-snackbar")],Y);var De;const Ri=f(De||(De=a(["\n  :host {\n    pointer-events: none;\n  }\n\n  :host > wui-flex {\n    display: var(--w3m-tooltip-display);\n    opacity: var(--w3m-tooltip-opacity);\n    padding: 9px var(--wui-spacing-s) 10px var(--wui-spacing-s);\n    border-radius: var(--wui-border-radius-xxs);\n    color: var(--wui-color-bg-100);\n    position: fixed;\n    top: var(--w3m-tooltip-top);\n    left: var(--w3m-tooltip-left);\n    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));\n    max-width: calc(var(--w3m-modal-width) - var(--wui-spacing-xl));\n    transition: opacity 0.2s var(--wui-ease-out-power-2);\n    will-change: opacity;\n  }\n\n  :host([data-variant='shade']) > wui-flex {\n    background-color: var(--wui-color-bg-150);\n    border: 1px solid var(--wui-color-gray-glass-005);\n  }\n\n  :host([data-variant='shade']) > wui-flex > wui-text {\n    color: var(--wui-color-fg-150);\n  }\n\n  :host([data-variant='fill']) > wui-flex {\n    background-color: var(--wui-color-fg-100);\n    border: none;\n  }\n\n  wui-icon {\n    position: absolute;\n    width: 12px !important;\n    height: 4px !important;\n    color: var(--wui-color-bg-150);\n  }\n\n  wui-icon[data-placement='top'] {\n    bottom: 0px;\n    left: 50%;\n    transform: translate(-50%, 95%);\n  }\n\n  wui-icon[data-placement='bottom'] {\n    top: 0;\n    left: 50%;\n    transform: translate(-50%, -95%) rotate(180deg);\n  }\n\n  wui-icon[data-placement='right'] {\n    top: 50%;\n    left: 0;\n    transform: translate(-65%, -50%) rotate(90deg);\n  }\n\n  wui-icon[data-placement='left'] {\n    top: 50%;\n    right: 0%;\n    transform: translate(65%, -50%) rotate(270deg);\n  }\n"])));var j=function(s,e,t,o){var r=arguments.length,i=r<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(s,e,t,o);else for(var l=s.length-1;l>=0;l--)(c=s[l])&&(i=(r<3?c(i):r>3?c(e,t,i):c(e,t))||i);return r>3&&i&&Object.defineProperty(e,t,i),i},je;let A=class extends g{constructor(){super(),this.unsubscribe=[],this.open=E.state.open,this.message=E.state.message,this.triggerRect=E.state.triggerRect,this.variant=E.state.variant,this.unsubscribe.push(E.subscribe(e=>{this.open=e.open,this.message=e.message,this.triggerRect=e.triggerRect,this.variant=e.variant}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){this.dataset.variant=this.variant;const e=this.triggerRect.top,t=this.triggerRect.left;return this.style.cssText="\n    --w3m-tooltip-top: ".concat(e,"px;\n    --w3m-tooltip-left: ").concat(t,"px;\n    --w3m-tooltip-parent-width: ").concat(this.triggerRect.width/2,"px;\n    --w3m-tooltip-display: ").concat(this.open?"flex":"none",";\n    --w3m-tooltip-opacity: ").concat(this.open?1:0,";\n    "),n(je||(je=a(['<wui-flex>\n      <wui-icon data-placement="top" color="fg-100" size="inherit" name="cursor"></wui-icon>\n      <wui-text color="inherit" variant="small-500">',"</wui-text>\n    </wui-flex>"])),this.message)}};A.styles=[Ri];j([w()],A.prototype,"open",void 0);j([w()],A.prototype,"message",void 0);j([w()],A.prototype,"triggerRect",void 0);j([w()],A.prototype,"variant",void 0);A=j([p("w3m-tooltip"),p("w3m-tooltip")],A);var Le;const $i=f(Le||(Le=a(["\n  :host {\n    --prev-height: 0px;\n    --new-height: 0px;\n    display: block;\n  }\n\n  div.w3m-router-container {\n    transform: translateY(0);\n    opacity: 1;\n  }\n\n  div.w3m-router-container[view-direction='prev'] {\n    animation:\n      slide-left-out 150ms forwards ease,\n      slide-left-in 150ms forwards ease;\n    animation-delay: 0ms, 200ms;\n  }\n\n  div.w3m-router-container[view-direction='next'] {\n    animation:\n      slide-right-out 150ms forwards ease,\n      slide-right-in 150ms forwards ease;\n    animation-delay: 0ms, 200ms;\n  }\n\n  @keyframes slide-left-out {\n    from {\n      transform: translateX(0px);\n      opacity: 1;\n    }\n    to {\n      transform: translateX(10px);\n      opacity: 0;\n    }\n  }\n\n  @keyframes slide-left-in {\n    from {\n      transform: translateX(-10px);\n      opacity: 0;\n    }\n    to {\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n\n  @keyframes slide-right-out {\n    from {\n      transform: translateX(0px);\n      opacity: 1;\n    }\n    to {\n      transform: translateX(-10px);\n      opacity: 0;\n    }\n  }\n\n  @keyframes slide-right-in {\n    from {\n      transform: translateX(10px);\n      opacity: 0;\n    }\n    to {\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n"])));var Z=function(s,e,t,o){var r=arguments.length,i=r<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(s,e,t,o);else for(var l=s.length-1;l>=0;l--)(c=s[l])&&(i=(r<3?c(i):r>3?c(e,t,i):c(e,t))||i);return r>3&&i&&Object.defineProperty(e,t,i),i},Ue,ze,He,Ke,Me,Ve,Xe,Ye,Ge,qe,Fe,Je,Qe,Ze,et,tt,it,ot,at,nt,rt,st,ct,lt,dt,wt,ut,pt,mt,ht,vt,ft,gt,bt,yt,xt,Ct,kt,St,Wt,Rt,$t,At,Tt,Ot,Et,Nt,It,Pt,_t,Bt,Dt,jt,Lt,Ut,zt,Ht;let P=class extends g{constructor(){super(),this.resizeObserver=void 0,this.prevHeight="0px",this.prevHistoryLength=1,this.unsubscribe=[],this.view=d.state.view,this.viewDirection="",this.unsubscribe.push(d.subscribeKey("view",e=>this.onViewChange(e)))}firstUpdated(){var e;this.resizeObserver=new ResizeObserver(([t])=>{const o="".concat(t==null?void 0:t.contentRect.height,"px");this.prevHeight!=="0px"&&(this.style.setProperty("--prev-height",this.prevHeight),this.style.setProperty("--new-height",o),this.style.animation="w3m-view-height 150ms forwards ease",this.style.height="auto"),setTimeout(()=>{this.prevHeight=o,this.style.animation="unset"},W.ANIMATION_DURATIONS.ModalHeight)}),(e=this.resizeObserver)==null||e.observe(this.getWrapper())}disconnectedCallback(){var e;(e=this.resizeObserver)==null||e.unobserve(this.getWrapper()),this.unsubscribe.forEach(t=>t())}render(){return n(Ue||(Ue=a(['<div class="w3m-router-container" view-direction="','">\n      ',"\n    </div>"])),this.viewDirection,this.viewTemplate())}viewTemplate(){switch(this.view){case"AccountSettings":return n(ze||(ze=a(["<w3m-account-settings-view></w3m-account-settings-view>"])));case"Account":return n(He||(He=a(["<w3m-account-view></w3m-account-view>"])));case"AllWallets":return n(Ke||(Ke=a(["<w3m-all-wallets-view></w3m-all-wallets-view>"])));case"ApproveTransaction":return n(Me||(Me=a(["<w3m-approve-transaction-view></w3m-approve-transaction-view>"])));case"BuyInProgress":return n(Ve||(Ve=a(["<w3m-buy-in-progress-view></w3m-buy-in-progress-view>"])));case"ChooseAccountName":return n(Xe||(Xe=a(["<w3m-choose-account-name-view></w3m-choose-account-name-view>"])));case"Connect":return n(Ye||(Ye=a(["<w3m-connect-view></w3m-connect-view>"])));case"Create":return n(Ge||(Ge=a(['<w3m-connect-view walletGuide="explore"></w3m-connect-view>'])));case"ConnectingWalletConnect":return n(qe||(qe=a(["<w3m-connecting-wc-view></w3m-connecting-wc-view>"])));case"ConnectingWalletConnectBasic":return n(Fe||(Fe=a(["<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>"])));case"ConnectingExternal":return n(Je||(Je=a(["<w3m-connecting-external-view></w3m-connecting-external-view>"])));case"ConnectingSiwe":return n(Qe||(Qe=a(["<w3m-connecting-siwe-view></w3m-connecting-siwe-view>"])));case"ConnectWallets":return n(Ze||(Ze=a(["<w3m-connect-wallets-view></w3m-connect-wallets-view>"])));case"ConnectSocials":return n(et||(et=a(["<w3m-connect-socials-view></w3m-connect-socials-view>"])));case"ConnectingSocial":return n(tt||(tt=a(["<w3m-connecting-social-view></w3m-connecting-social-view>"])));case"Downloads":return n(it||(it=a(["<w3m-downloads-view></w3m-downloads-view>"])));case"EmailLogin":return n(ot||(ot=a(["<w3m-email-login-view></w3m-email-login-view>"])));case"EmailVerifyOtp":return n(at||(at=a(["<w3m-email-verify-otp-view></w3m-email-verify-otp-view>"])));case"EmailVerifyDevice":return n(nt||(nt=a(["<w3m-email-verify-device-view></w3m-email-verify-device-view>"])));case"GetWallet":return n(rt||(rt=a(["<w3m-get-wallet-view></w3m-get-wallet-view>"])));case"Networks":return n(st||(st=a(["<w3m-networks-view></w3m-networks-view>"])));case"SwitchNetwork":return n(ct||(ct=a(["<w3m-network-switch-view></w3m-network-switch-view>"])));case"Profile":return n(lt||(lt=a(["<w3m-profile-view></w3m-profile-view>"])));case"SwitchAddress":return n(dt||(dt=a(["<w3m-switch-address-view></w3m-switch-address-view>"])));case"Transactions":return n(wt||(wt=a(["<w3m-transactions-view></w3m-transactions-view>"])));case"OnRampProviders":return n(ut||(ut=a(["<w3m-onramp-providers-view></w3m-onramp-providers-view>"])));case"OnRampActivity":return n(pt||(pt=a(["<w3m-onramp-activity-view></w3m-onramp-activity-view>"])));case"OnRampTokenSelect":return n(mt||(mt=a(["<w3m-onramp-token-select-view></w3m-onramp-token-select-view>"])));case"OnRampFiatSelect":return n(ht||(ht=a(["<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>"])));case"UpgradeEmailWallet":return n(vt||(vt=a(["<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>"])));case"UpdateEmailWallet":return n(ft||(ft=a(["<w3m-update-email-wallet-view></w3m-update-email-wallet-view>"])));case"UpdateEmailPrimaryOtp":return n(gt||(gt=a(["<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>"])));case"UpdateEmailSecondaryOtp":return n(bt||(bt=a(["<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>"])));case"UnsupportedChain":return n(yt||(yt=a(["<w3m-unsupported-chain-view></w3m-unsupported-chain-view>"])));case"Swap":return n(xt||(xt=a(["<w3m-swap-view></w3m-swap-view>"])));case"SwapSelectToken":return n(Ct||(Ct=a(["<w3m-swap-select-token-view></w3m-swap-select-token-view>"])));case"SwapPreview":return n(kt||(kt=a(["<w3m-swap-preview-view></w3m-swap-preview-view>"])));case"WalletSend":return n(St||(St=a(["<w3m-wallet-send-view></w3m-wallet-send-view>"])));case"WalletSendSelectToken":return n(Wt||(Wt=a(["<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>"])));case"WalletSendPreview":return n(Rt||(Rt=a(["<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>"])));case"WhatIsABuy":return n($t||($t=a(["<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>"])));case"WalletReceive":return n(At||(At=a(["<w3m-wallet-receive-view></w3m-wallet-receive-view>"])));case"WalletCompatibleNetworks":return n(Tt||(Tt=a(["<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>"])));case"WhatIsAWallet":return n(Ot||(Ot=a(["<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>"])));case"ConnectingMultiChain":return n(Et||(Et=a(["<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>"])));case"WhatIsANetwork":return n(Nt||(Nt=a(["<w3m-what-is-a-network-view></w3m-what-is-a-network-view>"])));case"ConnectingFarcaster":return n(It||(It=a(["<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>"])));case"SwitchActiveChain":return n(Pt||(Pt=a(["<w3m-switch-active-chain-view></w3m-switch-active-chain-view>"])));case"RegisterAccountName":return n(_t||(_t=a(["<w3m-register-account-name-view></w3m-register-account-name-view>"])));case"RegisterAccountNameSuccess":return n(Bt||(Bt=a(["<w3m-register-account-name-success-view></w3m-register-account-name-success-view>"])));case"SmartSessionCreated":return n(Dt||(Dt=a(["<w3m-smart-session-created-view></w3m-smart-session-created-view>"])));case"SmartSessionList":return n(jt||(jt=a(["<w3m-smart-session-list-view></w3m-smart-session-list-view>"])));case"SIWXSignMessage":return n(Lt||(Lt=a(["<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>"])));case"Pay":return n(Ut||(Ut=a(["<w3m-pay-view></w3m-pay-view>"])));case"PayLoading":return n(zt||(zt=a(["<w3m-pay-loading-view></w3m-pay-loading-view>"])));default:return n(Ht||(Ht=a(["<w3m-connect-view></w3m-connect-view>"])))}}onViewChange(e){E.hide();let t=W.VIEW_DIRECTION.Next;const{history:o}=d.state;o.length<this.prevHistoryLength&&(t=W.VIEW_DIRECTION.Prev),this.prevHistoryLength=o.length,this.viewDirection=t,setTimeout(()=>{this.view=e},W.ANIMATION_DURATIONS.ViewTransition)}getWrapper(){var e;return(e=this.shadowRoot)==null?void 0:e.querySelector("div")}};P.styles=$i;Z([w()],P.prototype,"view",void 0);Z([w()],P.prototype,"viewDirection",void 0);P=Z([p("w3m-router")],P);var Kt;const Ai=f(Kt||(Kt=a(["\n  :host {\n    z-index: var(--w3m-z-index);\n    display: block;\n    backface-visibility: hidden;\n    will-change: opacity;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    pointer-events: none;\n    opacity: 0;\n    background-color: var(--wui-cover);\n    transition: opacity 0.2s var(--wui-ease-out-power-2);\n    will-change: opacity;\n  }\n\n  :host(.open) {\n    opacity: 1;\n  }\n\n  :host(.appkit-modal) {\n    position: relative;\n    pointer-events: unset;\n    background: none;\n    width: 100%;\n    opacity: 1;\n  }\n\n  wui-card {\n    max-width: var(--w3m-modal-width);\n    width: 100%;\n    position: relative;\n    animation: zoom-in 0.2s var(--wui-ease-out-power-2);\n    animation-fill-mode: backwards;\n    outline: none;\n    transition:\n      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);\n    will-change: border-radius, background-color;\n  }\n\n  :host(.appkit-modal) wui-card {\n    max-width: 400px;\n  }\n\n  wui-card[shake='true'] {\n    animation:\n      zoom-in 0.2s var(--wui-ease-out-power-2),\n      w3m-shake 0.5s var(--wui-ease-out-power-2);\n  }\n\n  wui-flex {\n    overflow-x: hidden;\n    overflow-y: auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n  }\n\n  @media (max-height: 700px) and (min-width: 431px) {\n    wui-flex {\n      align-items: flex-start;\n    }\n\n    wui-card {\n      margin: var(--wui-spacing-xxl) 0px;\n    }\n  }\n\n  @media (max-width: 430px) {\n    wui-flex {\n      align-items: flex-end;\n    }\n\n    wui-card {\n      max-width: 100%;\n      border-bottom-left-radius: var(--local-border-bottom-mobile-radius);\n      border-bottom-right-radius: var(--local-border-bottom-mobile-radius);\n      border-bottom: none;\n      animation: slide-in 0.2s var(--wui-ease-out-power-2);\n    }\n\n    wui-card[shake='true'] {\n      animation:\n        slide-in 0.2s var(--wui-ease-out-power-2),\n        w3m-shake 0.5s var(--wui-ease-out-power-2);\n    }\n  }\n\n  @keyframes zoom-in {\n    0% {\n      transform: scale(0.95) translateY(0);\n    }\n    100% {\n      transform: scale(1) translateY(0);\n    }\n  }\n\n  @keyframes slide-in {\n    0% {\n      transform: scale(1) translateY(50px);\n    }\n    100% {\n      transform: scale(1) translateY(0);\n    }\n  }\n\n  @keyframes w3m-shake {\n    0% {\n      transform: scale(1) rotate(0deg);\n    }\n    20% {\n      transform: scale(1) rotate(-1deg);\n    }\n    40% {\n      transform: scale(1) rotate(1.5deg);\n    }\n    60% {\n      transform: scale(1) rotate(-1.5deg);\n    }\n    80% {\n      transform: scale(1) rotate(1deg);\n    }\n    100% {\n      transform: scale(1) rotate(0deg);\n    }\n  }\n\n  @keyframes w3m-view-height {\n    from {\n      height: var(--prev-height);\n    }\n    to {\n      height: var(--new-height);\n    }\n  }\n"])));var k=function(s,e,t,o){var r=arguments.length,i=r<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(s,e,t,o);else for(var l=s.length-1;l>=0;l--)(c=s[l])&&(i=(r<3?c(i):r>3?c(e,t,i):c(e,t))||i);return r>3&&i&&Object.defineProperty(e,t,i),i};const re="scroll-lock";var Mt,Vt,Xt;class C extends g{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=I.state.enableEmbedded,this.open=b.state.open,this.caipAddress=h.state.activeCaipAddress,this.caipNetwork=h.state.activeCaipNetwork,this.shake=b.state.shake,this.filterByNamespace=F.state.filterByNamespace,this.initializeTheming(),K.prefetchAnalyticsConfig(),this.unsubscribe.push(b.subscribeKey("open",e=>e?this.onOpen():this.onClose()),b.subscribeKey("shake",e=>this.shake=e),h.subscribeKey("activeCaipNetwork",e=>this.onNewNetwork(e)),h.subscribeKey("activeCaipAddress",e=>this.onNewAddress(e)),I.subscribeKey("enableEmbedded",e=>this.enableEmbedded=e),F.subscribeKey("filterByNamespace",e=>{var t;this.filterByNamespace!==e&&!((t=h.getAccountData(e))!=null&&t.caipAddress)&&(K.fetchRecommendedWallets(),this.filterByNamespace=e)}))}firstUpdated(){if(this.caipAddress){if(this.enableEmbedded){b.close(),this.prefetch();return}this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.onRemoveKeyboardListener()}render(){return this.style.cssText="\n      --local-border-bottom-mobile-radius: ".concat(this.enableEmbedded?"clamp(0px, var(--wui-border-radius-l), 44px)":"0px",";\n    "),this.enableEmbedded?n(Mt||(Mt=a(["","\n        <w3m-tooltip></w3m-tooltip> "])),this.contentTemplate()):this.open?n(Vt||(Vt=a(["\n          <wui-flex @click=",' data-testid="w3m-modal-overlay">\n            ',"\n          </wui-flex>\n          <w3m-tooltip></w3m-tooltip>\n        "])),this.onOverlayClick.bind(this),this.contentTemplate()):null}contentTemplate(){return n(Xt||(Xt=a([' <wui-card\n      shake="','"\n      data-embedded="','"\n      role="alertdialog"\n      aria-modal="true"\n      tabindex="0"\n      data-testid="w3m-modal-card"\n    >\n      <w3m-header></w3m-header>\n      <w3m-router></w3m-router>\n      <w3m-snackbar></w3m-snackbar>\n      <w3m-alertbar></w3m-alertbar>\n    </wui-card>'])),this.shake,J(this.enableEmbedded))}async onOverlayClick(e){e.target===e.currentTarget&&await this.handleClose()}async handleClose(){await Ft.safeClose()}initializeTheming(){const{themeVariables:e,themeMode:t}=ci.state,o=ui.getColorTheme(t);li(e,o)}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),O.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){const e=document.createElement("style");e.dataset.w3m=re,e.textContent="\n      body {\n        touch-action: none;\n        overflow: hidden;\n        overscroll-behavior: contain;\n      }\n      w3m-modal {\n        pointer-events: auto;\n      }\n    ",document.head.appendChild(e)}onScrollUnlock(){const e=document.head.querySelector('style[data-w3m="'.concat(re,'"]'));e&&e.remove()}onAddKeyboardListener(){var t;this.abortController=new AbortController;const e=(t=this.shadowRoot)==null?void 0:t.querySelector("wui-card");e==null||e.focus(),window.addEventListener("keydown",o=>{if(o.key==="Escape")this.handleClose();else if(o.key==="Tab"){const{tagName:r}=o.target;r&&!r.includes("W3M-")&&!r.includes("WUI-")&&(e==null||e.focus())}},this.abortController)}onRemoveKeyboardListener(){var e;(e=this.abortController)==null||e.abort(),this.abortController=void 0}async onNewAddress(e){const t=h.state.isSwitchingNamespace,o=di.getPlainAddress(e);!o&&!t?b.close():t&&o&&d.goBack(),await Yt.initializeIfEnabled(),this.caipAddress=e,h.setIsSwitchingNamespace(!1)}onNewNetwork(e){var ee,te,ie;const t=this.caipNetwork,o=(ee=t==null?void 0:t.caipNetworkId)==null?void 0:ee.toString(),r=t==null?void 0:t.chainNamespace,i=(te=e==null?void 0:e.caipNetworkId)==null?void 0:te.toString(),c=e==null?void 0:e.chainNamespace,l=o!==i,S=l&&!(r!==c),L=(t==null?void 0:t.name)===wi.UNSUPPORTED_NETWORK_NAME,U=d.state.view==="ConnectingExternal",z=!((ie=h.getAccountData(e==null?void 0:e.chainNamespace))!=null&&ie.caipAddress),ei=d.state.view==="UnsupportedChain",ti=b.state.open;let H=!1;ti&&!U&&(z?l&&(H=!0):(ei||S&&!L)&&(H=!0)),H&&d.state.view!=="SIWXSignMessage"&&d.goBack(),this.caipNetwork=e}prefetch(){this.hasPrefetched||(K.prefetch(),K.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}}C.styles=Ai;k([u({type:Boolean})],C.prototype,"enableEmbedded",void 0);k([w()],C.prototype,"open",void 0);k([w()],C.prototype,"caipAddress",void 0);k([w()],C.prototype,"caipNetwork",void 0);k([w()],C.prototype,"shake",void 0);k([w()],C.prototype,"filterByNamespace",void 0);let se=class extends C{};se=k([p("w3m-modal")],se);let ce=class extends C{};ce=k([p("appkit-modal")],ce);export{ce as AppKitModal,se as W3mModal,C as W3mModalBase};
